<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>
            
    
    SQL and Generic Functions
 &mdash;
    SQLAlchemy 2.0 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 2.0 Documentation" href="../index.html" />
        <link rel="up" title="SQL Statements and Expressions API" href="expression_api.html" />
        <link rel="next" title="Custom SQL Constructs and Compilation Extension" href="compiler.html" />
        <link rel="prev" title="Insert, Updates, Deletes" href="dml.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">2.0.31</span>


        | Release Date: June 18, 2024

    </div>

    <h1><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">



        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../index.html">Home</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="SQLAlchemy Core">SQLAlchemy Core</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="expression_api.html">SQL Statements and Expressions API</a></span><ul>
<li><span class="link-container"><a class="reference external" href="sqlelement.html">Column Elements and Expressions</a></span></li>
<li><span class="link-container"><a class="reference external" href="operators.html">Operator Reference</a></span></li>
<li><span class="link-container"><a class="reference external" href="selectable.html">SELECT and Related Constructs</a></span></li>
<li><span class="link-container"><a class="reference external" href="dml.html">Insert, Updates, Deletes</a></span></li>
<li class="selected"><span class="link-container"><strong>SQL and Generic Functions</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#function-api">Function API</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.AnsiFunction"><code class="docutils literal notranslate"><span class="pre">AnsiFunction</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.Function"><code class="docutils literal notranslate"><span class="pre">Function</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.Function.__init__"><code class="docutils literal notranslate"><span class="pre">Function.__init__()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">FunctionElement</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.__init__"><code class="docutils literal notranslate"><span class="pre">FunctionElement.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.alias"><code class="docutils literal notranslate"><span class="pre">FunctionElement.alias()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison"><code class="docutils literal notranslate"><span class="pre">FunctionElement.as_comparison()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.c"><code class="docutils literal notranslate"><span class="pre">FunctionElement.c</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.clauses"><code class="docutils literal notranslate"><span class="pre">FunctionElement.clauses</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.columns"><code class="docutils literal notranslate"><span class="pre">FunctionElement.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.entity_namespace"><code class="docutils literal notranslate"><span class="pre">FunctionElement.entity_namespace</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.exported_columns"><code class="docutils literal notranslate"><span class="pre">FunctionElement.exported_columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.filter"><code class="docutils literal notranslate"><span class="pre">FunctionElement.filter()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.over"><code class="docutils literal notranslate"><span class="pre">FunctionElement.over()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.scalar_table_valued"><code class="docutils literal notranslate"><span class="pre">FunctionElement.scalar_table_valued()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.select"><code class="docutils literal notranslate"><span class="pre">FunctionElement.select()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.self_group"><code class="docutils literal notranslate"><span class="pre">FunctionElement.self_group()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.within_group"><code class="docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.FunctionElement.within_group_type"><code class="docutils literal notranslate"><span class="pre">FunctionElement.within_group_type()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.GenericFunction"><code class="docutils literal notranslate"><span class="pre">GenericFunction</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.register_function"><code class="docutils literal notranslate"><span class="pre">register_function()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#selected-known-functions">Selected “Known” Functions</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.aggregate_strings"><code class="docutils literal notranslate"><span class="pre">aggregate_strings</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.array_agg"><code class="docutils literal notranslate"><span class="pre">array_agg</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.char_length"><code class="docutils literal notranslate"><span class="pre">char_length</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.coalesce"><code class="docutils literal notranslate"><span class="pre">coalesce</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.concat"><code class="docutils literal notranslate"><span class="pre">concat</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.count"><code class="docutils literal notranslate"><span class="pre">count</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.cube"><code class="docutils literal notranslate"><span class="pre">cube</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.cume_dist"><code class="docutils literal notranslate"><span class="pre">cume_dist</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.current_date"><code class="docutils literal notranslate"><span class="pre">current_date</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.current_time"><code class="docutils literal notranslate"><span class="pre">current_time</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.current_timestamp"><code class="docutils literal notranslate"><span class="pre">current_timestamp</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.current_user"><code class="docutils literal notranslate"><span class="pre">current_user</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.dense_rank"><code class="docutils literal notranslate"><span class="pre">dense_rank</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.grouping_sets"><code class="docutils literal notranslate"><span class="pre">grouping_sets</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.localtime"><code class="docutils literal notranslate"><span class="pre">localtime</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.localtimestamp"><code class="docutils literal notranslate"><span class="pre">localtimestamp</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.mode"><code class="docutils literal notranslate"><span class="pre">mode</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.next_value"><code class="docutils literal notranslate"><span class="pre">next_value</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.now"><code class="docutils literal notranslate"><span class="pre">now</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.percent_rank"><code class="docutils literal notranslate"><span class="pre">percent_rank</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.percentile_cont"><code class="docutils literal notranslate"><span class="pre">percentile_cont</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.percentile_disc"><code class="docutils literal notranslate"><span class="pre">percentile_disc</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.random"><code class="docutils literal notranslate"><span class="pre">random</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.rollup"><code class="docutils literal notranslate"><span class="pre">rollup</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.session_user"><code class="docutils literal notranslate"><span class="pre">session_user</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.sum"><code class="docutils literal notranslate"><span class="pre">sum</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.sysdate"><code class="docutils literal notranslate"><span class="pre">sysdate</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.functions.user"><code class="docutils literal notranslate"><span class="pre">user</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="compiler.html">Custom SQL Constructs and Compilation Extension</a></span></li>
<li><span class="link-container"><a class="reference external" href="serializer.html">Expression Serializer Extension</a></span></li>
<li><span class="link-container"><a class="reference external" href="foundation.html">SQL Expression Language Foundational Constructs</a></span></li>
<li><span class="link-container"><a class="reference external" href="visitors.html">Visitor and Traversal Utilities</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="schema.html">Schema Definition Language</a></span></li>
<li><span class="link-container"><a class="reference external" href="types.html">SQL Datatype Objects</a></span></li>
<li><span class="link-container"><a class="reference external" href="engines_connections.html">Engine and Connection Use</a></span></li>
<li><span class="link-container"><a class="reference external" href="api_basics.html">Core API Basics</a></span></li>
</ul>



        </div>

        </div>

    </div>

    <div id="narrow-index-nav">
        <form class="search" action="../search.html" method="get">
            <label>
                Search terms:
            <input type="text" placeholder="search..." name="q" size="12" />
            </label>
            <input type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>

        <p>
        <a href="../index.html">Home</a>
        </p>

    </div>


        <div id="docs-narrow-top-navigation">
            <ul>
                <li><b>Previous:</b>
                <a href="dml.html" title="previous chapter">Insert, Updates, Deletes</a></li>
                <li><b>Next:</b>
                <a href="compiler.html" title="next chapter">Custom SQL Constructs and Compilation Extension</a></li>

            <li><b>Up:</b> <a href="../index.html">Home</a></li>
                    <ul><li><a href="index.html" title="SQLAlchemy Core">SQLAlchemy Core</a></li>
                    <ul><li><a href="expression_api.html" title="SQL Statements and Expressions API">SQL Statements and Expressions API</a></li>
                </ul>
                </ul>



            <li><b>On this page:</b></li>
            <ul>
<li><a class="reference internal" href="#sql-and-generic-functions">SQL and Generic Functions</a><ul>
<li><a class="reference internal" href="#function-api">Function API</a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction"><code class="docutils literal notranslate"><span class="pre">AnsiFunction</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.Function"><code class="docutils literal notranslate"><span class="pre">Function</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.Function.__init__"><code class="docutils literal notranslate"><span class="pre">Function.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">FunctionElement</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.__init__"><code class="docutils literal notranslate"><span class="pre">FunctionElement.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.alias"><code class="docutils literal notranslate"><span class="pre">FunctionElement.alias()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison"><code class="docutils literal notranslate"><span class="pre">FunctionElement.as_comparison()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.c"><code class="docutils literal notranslate"><span class="pre">FunctionElement.c</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.clauses"><code class="docutils literal notranslate"><span class="pre">FunctionElement.clauses</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.columns"><code class="docutils literal notranslate"><span class="pre">FunctionElement.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.entity_namespace"><code class="docutils literal notranslate"><span class="pre">FunctionElement.entity_namespace</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.exported_columns"><code class="docutils literal notranslate"><span class="pre">FunctionElement.exported_columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.filter"><code class="docutils literal notranslate"><span class="pre">FunctionElement.filter()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.over"><code class="docutils literal notranslate"><span class="pre">FunctionElement.over()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.scalar_table_valued"><code class="docutils literal notranslate"><span class="pre">FunctionElement.scalar_table_valued()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.select"><code class="docutils literal notranslate"><span class="pre">FunctionElement.select()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.self_group"><code class="docutils literal notranslate"><span class="pre">FunctionElement.self_group()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group"><code class="docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group_type"><code class="docutils literal notranslate"><span class="pre">FunctionElement.within_group_type()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction"><code class="docutils literal notranslate"><span class="pre">GenericFunction</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.register_function"><code class="docutils literal notranslate"><span class="pre">register_function()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#selected-known-functions">Selected “Known” Functions</a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.aggregate_strings"><code class="docutils literal notranslate"><span class="pre">aggregate_strings</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.array_agg"><code class="docutils literal notranslate"><span class="pre">array_agg</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.char_length"><code class="docutils literal notranslate"><span class="pre">char_length</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.coalesce"><code class="docutils literal notranslate"><span class="pre">coalesce</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.concat"><code class="docutils literal notranslate"><span class="pre">concat</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.count"><code class="docutils literal notranslate"><span class="pre">count</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.cube"><code class="docutils literal notranslate"><span class="pre">cube</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.cume_dist"><code class="docutils literal notranslate"><span class="pre">cume_dist</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.current_date"><code class="docutils literal notranslate"><span class="pre">current_date</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.current_time"><code class="docutils literal notranslate"><span class="pre">current_time</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.current_timestamp"><code class="docutils literal notranslate"><span class="pre">current_timestamp</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.current_user"><code class="docutils literal notranslate"><span class="pre">current_user</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.dense_rank"><code class="docutils literal notranslate"><span class="pre">dense_rank</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.grouping_sets"><code class="docutils literal notranslate"><span class="pre">grouping_sets</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.localtime"><code class="docutils literal notranslate"><span class="pre">localtime</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.localtimestamp"><code class="docutils literal notranslate"><span class="pre">localtimestamp</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.mode"><code class="docutils literal notranslate"><span class="pre">mode</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.next_value"><code class="docutils literal notranslate"><span class="pre">next_value</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.now"><code class="docutils literal notranslate"><span class="pre">now</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.percent_rank"><code class="docutils literal notranslate"><span class="pre">percent_rank</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.percentile_cont"><code class="docutils literal notranslate"><span class="pre">percentile_cont</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.percentile_disc"><code class="docutils literal notranslate"><span class="pre">percentile_disc</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.random"><code class="docutils literal notranslate"><span class="pre">random</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.rollup"><code class="docutils literal notranslate"><span class="pre">rollup</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.session_user"><code class="docutils literal notranslate"><span class="pre">session_user</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.sum"><code class="docutils literal notranslate"><span class="pre">sum</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.sysdate"><code class="docutils literal notranslate"><span class="pre">sysdate</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.functions.user"><code class="docutils literal notranslate"><span class="pre">user</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>


            </ul>

        </div>



    <div id="docs-body" role="main" class="withsidebar core-functions" >
        
<section id="sql-and-generic-functions">
<span id="generic-functions"></span><span id="functions-toplevel"></span><h1>SQL and Generic Functions<a class="headerlink" href="#sql-and-generic-functions" title="Link to this heading">¶</a></h1>
<p>SQL functions are invoked by using the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> namespace.
See the tutorial at <a class="reference internal" href="../tutorial/data_select.html#tutorial-functions"><span class="std std-ref">Working with SQL Functions</span></a> for background on how to
use the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> object to render SQL functions in statements.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions"><span class="std std-ref">Working with SQL Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
<section id="function-api">
<h2>Function API<a class="headerlink" href="#function-api" title="Link to this heading">¶</a></h2>
<p>The base API for SQL functions, which provides for the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a>
namespace as well as classes that may be used for extensibility.</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction"><span class="sig-name descname">AnsiFunction</span></a></p></td>
<td><p>Define a function in “ansi” format, which doesn’t render parenthesis.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.Function"><span class="sig-name descname">Function</span></a></p></td>
<td><p>Describe a named SQL function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><span class="sig-name descname">FunctionElement</span></a></p></td>
<td><p>Base for SQL function-oriented constructs.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction"><span class="sig-name descname">GenericFunction</span></a></p></td>
<td><p>Define a ‘generic’ function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.register_function"><span class="sig-name descname">register_function</span></a>(identifier, fn[, package])</p></td>
<td><p>Associate a callable with a particular func. name.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.AnsiFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">AnsiFunction</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.AnsiFunction" title="Link to this definition">¶</a></dt>
<dd><p>Define a function in “ansi” format, which doesn’t render parenthesis.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.Function">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">Function</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.Function" title="Link to this definition">¶</a></dt>
<dd><p>Describe a named SQL function.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a> object is typically generated from the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> generation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.functions.Function.params.*clauses"></span><strong>*clauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.Function.params.*clauses">¶</a> – list of column expressions that form the arguments
of the SQL function call.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.Function.params.type_"></span><strong>type_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.Function.params.type_">¶</a> – optional <a class="reference internal" href="type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code></a> datatype object that will be
used as the return value of the column expression generated by this
function call.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.Function.params.packagenames"></span><strong>packagenames</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.Function.params.packagenames">¶</a> – <p>a string which indicates package prefix names
to be prepended to the function name when the SQL is generated.
The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> generator creates these when it is called using
dotted format, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="o">.</span><span class="n">mypackage</span><span class="o">.</span><span class="n">some_function</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">)</span></pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions"><span class="std std-ref">Working with SQL Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> - namespace which produces registered or ad-hoc
<a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a> instances.</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a> - allows creation of registered function
types.</p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.Function.__init__"><span class="sig-name descname">__init__()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.Function</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.Function.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.Function"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.Function.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clauses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionOrLiteralArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_TypeEngineArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packagenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.Tuple" title="sqlalchemy.sql.expression.Tuple"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.functions.Function.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Construct a <a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a>.</p>
<p>The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> construct is normally used to construct
new <a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a> instances.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">FunctionElement</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement" title="Link to this definition">¶</a></dt>
<dd><p>Base for SQL function-oriented constructs.</p>
<p>This is a <a class="reference external" href="https://peps.python.org/pep-0484/#generics">generic type</a>,
meaning that type checkers and IDEs can be instructed on the types to
expect in a <a class="reference internal" href="connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> for this function. See
<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a> for an example of how this is done.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions"><span class="std std-ref">Working with SQL Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a> - named SQL function.</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> - namespace which produces registered or ad-hoc
<a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a> instances.</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a> - allows creation of registered function
types.</p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.alias"><span class="sig-name descname">alias()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison"><span class="sig-name descname">as_comparison()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.c"><span class="sig-name descname">c</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.clauses"><span class="sig-name descname">clauses</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued"><span class="sig-name descname">column_valued()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.entity_namespace"><span class="sig-name descname">entity_namespace</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.exported_columns"><span class="sig-name descname">exported_columns</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.filter"><span class="sig-name descname">filter()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.over"><span class="sig-name descname">over()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.scalar_table_valued"><span class="sig-name descname">scalar_table_valued()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.select"><span class="sig-name descname">select()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.self_group"><span class="sig-name descname">self_group()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued"><span class="sig-name descname">table_valued()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group"><span class="sig-name descname">within_group()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group_type"><span class="sig-name descname">within_group_type()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement</span></code></a> (<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable</span></code></a>, <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ColumnElement</span></code></a>, <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clauses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionOrLiteralArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Construct a <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.params.*clauses"></span><strong>*clauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.params.*clauses">¶</a> – list of column expressions that form the arguments
of the SQL function call.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.params.**kwargs">¶</a> – additional kwargs are typically consumed by
subclasses.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joins_implicitly</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.selectable.TableValuedAlias"><span class="pre">TableValuedAlias</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.alias" title="Link to this definition">¶</a></dt>
<dd><p>Produce a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> construct against this
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.alias" title="sqlalchemy.sql.functions.FunctionElement.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.alias()</span></code></a> method is part of the
mechanism by which “table valued” SQL functions are created.
However, most use cases are covered by higher level methods on
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a> including
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a>, and
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a>.</p>
</div>
<p>This construct wraps the function in a named alias which
is suitable for the FROM clause, in the style accepted for example
by PostgreSQL.  A column expression is also provided using the
special <code class="docutils literal notranslate"><span class="pre">.column</span></code> attribute, which may
be used to refer to the output of the function as a scalar value
in the columns or where clause, for a backend such as PostgreSQL.</p>
<p>For a full table-valued expression, use the
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a> method first to
establish named columns.</p>
<p>e.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_view</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">unnest</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;data_view&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">data_view</span><span class="o">.</span><span class="n">column</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">data_view</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">unnest</span><span class="p">(:</span><span class="n">unnest_1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">data_view</span>
</div></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a> method provides
a shortcut for the above pattern:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_view</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">unnest</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">column_valued</span><span class="p">(</span><span class="s2">&quot;data_view&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">data_view</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">data_view</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">unnest</span><span class="p">(:</span><span class="n">unnest_1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">data_view</span>
</div></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2: </span>Added the <code class="docutils literal notranslate"><span class="pre">.column</span></code> accessor</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.alias.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.alias.params.name">¶</a> – alias name, will be rendered as <code class="docutils literal notranslate"><span class="pre">AS</span> <span class="pre">&lt;name&gt;</span></code> in the
FROM clause</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.alias.params.joins_implicitly"></span><strong>joins_implicitly</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.alias.params.joins_implicitly">¶</a> – <p>when True, the table valued function may be
used in the FROM clause without any explicit JOIN to other tables
in the SQL query, and no “cartesian product” warning will be
generated.  May be useful for SQL functions such as
<code class="docutils literal notranslate"><span class="pre">func.json_each()</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.33.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions-table-valued"><span class="std std-ref">Table-Valued Functions</span></a> -
in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.scalar_table_valued" title="sqlalchemy.sql.functions.FunctionElement.scalar_table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.scalar_table_valued()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.as_comparison">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">as_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FunctionAsBinary</span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison" title="Link to this definition">¶</a></dt>
<dd><p>Interpret this expression as a boolean comparison between two
values.</p>
<p>This method is used for an ORM use case described at
<a class="reference internal" href="../orm/join_conditions.html#relationship-custom-operator-sql-function"><span class="std std-ref">Custom operators based on SQL functions</span></a>.</p>
<p>A hypothetical SQL function “is_equal()” which compares to values
for equality would be written in the Core expression language as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expr</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span></pre></div>
</div>
<p>If “is_equal()” above is comparing “a” and “b” for equality, the
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison" title="sqlalchemy.sql.functions.FunctionElement.as_comparison"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.as_comparison()</span></code></a> method would be invoked as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expr</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_comparison</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></pre></div>
</div>
<p>Where above, the integer value “1” refers to the first argument of the
“is_equal()” function and the integer value “2” refers to the second.</p>
<p>This would create a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryExpression</span></code></a> that is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BinaryExpression</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">operator</span><span class="o">=</span><span class="n">op</span><span class="o">.</span><span class="n">eq</span><span class="p">)</span></pre></div>
</div>
<p>However, at the SQL level it would still render as
“is_equal(‘a’, ‘b’)”.</p>
<p>The ORM, when it loads a related object or collection, needs to be able
to manipulate the “left” and “right” sides of the ON clause of a JOIN
expression. The purpose of this method is to provide a SQL function
construct that can also supply this information to the ORM, when used
with the <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship.params.primaryjoin" title="sqlalchemy.orm.relationship"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">relationship.primaryjoin</span></code></a> parameter. The
return value is a containment object called <code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionAsBinary</span></code>.</p>
<p>An ORM example is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Venue</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;venue&#39;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>

    <span class="n">descendants</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;Venue&quot;</span><span class="p">,</span>
        <span class="n">primaryjoin</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">instr</span><span class="p">(</span>
            <span class="n">remote</span><span class="p">(</span><span class="n">foreign</span><span class="p">(</span><span class="n">name</span><span class="p">)),</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">as_comparison</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">order_by</span><span class="o">=</span><span class="n">name</span>
    <span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>Above, the “Venue” class can load descendant “Venue” objects by
determining if the name of the parent Venue is contained within the
start of the hypothetical descendant value’s name, e.g. “parent1” would
match up to “parent1/child1”, but not to “parent2/child1”.</p>
<p>Possible use cases include the “materialized path” example given above,
as well as making use of special SQL functions such as geometric
functions to create join conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.as_comparison.params.left_index"></span><strong>left_index</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison.params.left_index">¶</a> – the integer 1-based index of the function argument
that serves as the “left” side of the expression.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.as_comparison.params.right_index"></span><strong>right_index</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.as_comparison.params.right_index">¶</a> – the integer 1-based index of the function argument
that serves as the “right” side of the expression.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/join_conditions.html#relationship-custom-operator-sql-function"><span class="std std-ref">Custom operators based on SQL functions</span></a> -
example use within the ORM</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.c">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.c" title="Link to this definition">¶</a></dt>
<dd><p>synonym for <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.columns" title="sqlalchemy.sql.functions.FunctionElement.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionElement.columns</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.clauses">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">clauses</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.clauses" title="Link to this definition">¶</a></dt>
<dd><p>Return the underlying <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseList" title="sqlalchemy.sql.expression.ClauseList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseList</span></code></a> which contains
the arguments for this <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.column_valued">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">column_valued</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joins_implicitly</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TableValuedColumn</span><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.column_valued" title="Link to this definition">¶</a></dt>
<dd><p>Return this <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a> as a column expression that
selects from itself as a FROM clause.</p>
<p>E.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">generate_series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">column_valued</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">gs</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">anon_1</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">generate_series</span><span class="p">(:</span><span class="n">generate_series_1</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">generate_series_2</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">generate_series_3</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">anon_1</span>
</div></pre></div>
</div>
<p>This is shorthand for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gs</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">generate_series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span><span class="o">.</span><span class="n">column</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.column_valued.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued.params.name">¶</a> – optional name to assign to the alias name that’s generated.
If omitted, a unique anonymizing name is used.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.column_valued.params.joins_implicitly"></span><strong>joins_implicitly</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued.params.joins_implicitly">¶</a> – <p>when True, the “table” portion of the column
valued function may be a member of the FROM clause without any
explicit JOIN to other tables in the SQL query, and no “cartesian
product” warning will be generated. May be useful for SQL functions
such as <code class="docutils literal notranslate"><span class="pre">func.json_array_elements()</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.46.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions-column-valued"><span class="std std-ref">Column Valued Functions - Table Valued Function as a Scalar Column</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
<p><a class="reference internal" href="../dialects/postgresql.html#postgresql-column-valued"><span class="std std-ref">Column Valued Functions</span></a> - in the <a class="reference internal" href="../dialects/postgresql.html"><span class="std std-ref">PostgreSQL</span></a> documentation</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.columns" title="Link to this definition">¶</a></dt>
<dd><p>The set of columns exported by this <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a>.</p>
<p>This is a placeholder collection that allows the function to be
placed in the FROM clause of a statement:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">myfunction</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">myfunction</span><span class="p">()</span>
</div></pre></div>
</div>
<p>The above form is a legacy feature that is now superseded by the
fully capable <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a>
method; see that method for details.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a> - generates table-valued
SQL function expressions.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.entity_namespace">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">entity_namespace</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.entity_namespace" title="Link to this definition">¶</a></dt>
<dd><p>overrides FromClause.entity_namespace as functions are generally
column expressions and not FromClauses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.exported_columns" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.filter">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">criterion</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.FunctionFilter" title="sqlalchemy.sql.expression.FunctionFilter"><span class="pre">FunctionFilter</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.filter" title="Link to this definition">¶</a></dt>
<dd><p>Produce a FILTER clause against this function.</p>
<p>Used against aggregate and window functions,
for database backends that support the “FILTER” clause.</p>
<p>The expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>is shorthand for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">funcfilter</span>
<span class="n">funcfilter</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions-within-group"><span class="std std-ref">Special Modifiers WITHIN GROUP, FILTER</span></a> -
in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.FunctionFilter" title="sqlalchemy.sql.expression.FunctionFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFilter</span></code></a></p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.funcfilter" title="sqlalchemy.sql.expression.funcfilter"><code class="xref py py-func docutils literal notranslate"><span class="pre">funcfilter()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.over">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">over</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partition_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ByArgument</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ByArgument</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.Tuple" title="sqlalchemy.sql.expression.Tuple"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.Tuple" title="sqlalchemy.sql.expression.Tuple"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.Over" title="sqlalchemy.sql.expression.Over"><span class="pre">Over</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.over" title="Link to this definition">¶</a></dt>
<dd><p>Produce an OVER clause against this function.</p>
<p>Used against aggregate or so-called “window” functions,
for database backends that support window functions.</p>
<p>The expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="o">.</span><span class="n">row_number</span><span class="p">()</span><span class="o">.</span><span class="n">over</span><span class="p">(</span><span class="n">order_by</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span></pre></div>
</div>
<p>is shorthand for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">over</span>
<span class="n">over</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">row_number</span><span class="p">(),</span> <span class="n">order_by</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span></pre></div>
</div>
<p>See <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.over" title="sqlalchemy.sql.expression.over"><code class="xref py py-func docutils literal notranslate"><span class="pre">over()</span></code></a> for a full description.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.over" title="sqlalchemy.sql.expression.over"><code class="xref py py-func docutils literal notranslate"><span class="pre">over()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-window-functions"><span class="std std-ref">Using Window Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.scalar_table_valued">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">scalar_table_valued</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_TypeEngineArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ScalarFunctionColumn</span><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.scalar_table_valued" title="Link to this definition">¶</a></dt>
<dd><p>Return a column expression that’s against this
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a> as a scalar
table-valued expression.</p>
<p>The returned expression is similar to that returned by a single column
accessed off of a <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a>
construct, except no FROM clause is generated; the function is rendered
in the similar way as a scalar subquery.</p>
<p>E.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span><span class="p">,</span> <span class="n">select</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fn</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">jsonb_each</span><span class="p">(</span><span class="s2">&quot;{&#39;k&#39;, &#39;v&#39;}&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">scalar_table_valued</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="p">(</span><span class="n">jsonb_each</span><span class="p">(:</span><span class="n">jsonb_each_1</span><span class="p">)).</span><span class="k">key</span>
</div></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.alias" title="sqlalchemy.sql.functions.FunctionElement.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.alias()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.selectable.Select"><span class="pre">Select</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.select" title="Link to this definition">¶</a></dt>
<dd><p>Produce a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct
against this <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a>.</p>
<p>This is shorthand for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">function_element</span><span class="p">)</span></pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">against</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OperatorType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><span class="pre">ClauseElement</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.self_group" title="Link to this definition">¶</a></dt>
<dd><p>Apply a ‘grouping’ to this <a class="reference internal" href="foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>This method is overridden by subclasses to return a “grouping”
construct, i.e. parenthesis.   In particular it’s used by “binary”
expressions to provide a grouping around themselves when placed into a
larger expression, as well as by <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
constructs when placed into the FROM clause of another
<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.  (Note that subqueries should be
normally created using the <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.alias()</span></code></a> method,
as many
platforms require nested SELECT statements to be named).</p>
<p>As expressions are composed together, the application of
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.self_group" title="sqlalchemy.sql.functions.FunctionElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> is automatic - end-user code should never
need to use this method directly.  Note that SQLAlchemy’s
clause constructs take operator precedence into account -
so parenthesis might not be needed, for example, in
an expression like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence
over OR.</p>
<p>The base <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.self_group" title="sqlalchemy.sql.functions.FunctionElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> method of
<a class="reference internal" href="foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
just returns self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.table_valued">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">table_valued</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionOrStrLabelArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><span class="pre">TableValuedAlias</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="Link to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a> representation of this
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement" title="sqlalchemy.sql.functions.FunctionElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionElement</span></code></a> with table-valued expressions added.</p>
<p>e.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fn</span> <span class="o">=</span> <span class="p">(</span>
<span class="go">...     func.generate_series(1, 5).</span>
<span class="go">...     table_valued(&quot;value&quot;, &quot;start&quot;, &quot;stop&quot;, &quot;step&quot;)</span>
<span class="go">... )</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="k">start</span><span class="p">,</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">stop</span><span class="p">,</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">step</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">generate_series</span><span class="p">(:</span><span class="n">generate_series_1</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">generate_series_2</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">anon_1</span>
</div><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">fn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">stop</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">generate_series</span><span class="p">(:</span><span class="n">generate_series_1</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">generate_series_2</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">anon_1</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">value_1</span>
</div></pre></div>
</div>
<p>A WITH ORDINALITY expression may be generated by passing the keyword
argument “with_ordinality”:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fn</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">generate_series</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">table_valued</span><span class="p">(</span><span class="s2">&quot;gen&quot;</span><span class="p">,</span> <span class="n">with_ordinality</span><span class="o">=</span><span class="s2">&quot;ordinality&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">gen</span><span class="p">,</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="k">ordinality</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">generate_series</span><span class="p">(:</span><span class="n">generate_series_1</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">generate_series_2</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">generate_series_3</span><span class="p">)</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">ORDINALITY</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">anon_1</span>
</div></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.table_valued.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued.params.*expr">¶</a> – A series of string column names that will be added to the
<code class="docutils literal notranslate"><span class="pre">.c</span></code> collection of the resulting <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a>
construct as columns.  <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> objects with or without
datatypes may also be used.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.table_valued.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued.params.name">¶</a> – optional name to assign to the alias name that’s generated.
If omitted, a unique anonymizing name is used.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.table_valued.params.with_ordinality"></span><strong>with_ordinality</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued.params.with_ordinality">¶</a> – string name that when present results in the
<code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">ORDINALITY</span></code> clause being added to the alias, and the given
string name will be added as a column to the .c collection
of the resulting <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.functions.FunctionElement.table_valued.params.joins_implicitly"></span><strong>joins_implicitly</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued.params.joins_implicitly">¶</a> – <p>when True, the table valued function may be
used in the FROM clause without any explicit JOIN to other tables
in the SQL query, and no “cartesian product” warning will be generated.
May be useful for SQL functions such as <code class="docutils literal notranslate"><span class="pre">func.json_each()</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.33.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions-table-valued"><span class="std std-ref">Table-Valued Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
<p><a class="reference internal" href="../dialects/postgresql.html#postgresql-table-valued"><span class="std std-ref">Table-Valued Functions</span></a> - in the <a class="reference internal" href="../dialects/postgresql.html"><span class="std std-ref">PostgreSQL</span></a> documentation</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.scalar_table_valued" title="sqlalchemy.sql.functions.FunctionElement.scalar_table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.scalar_table_valued()</span></code></a> - variant of
<a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a> which delivers the
complete table valued expression as a scalar column expression</p>
<p><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a></p>
<p><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableValuedAlias.render_derived" title="sqlalchemy.sql.expression.TableValuedAlias.render_derived"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TableValuedAlias.render_derived()</span></code></a> - renders the alias
using a derived column clause, e.g. <code class="docutils literal notranslate"><span class="pre">AS</span> <span class="pre">name(col1,</span> <span class="pre">col2,</span> <span class="pre">...)</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.within_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">within_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">order_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.WithinGroup" title="sqlalchemy.sql.expression.WithinGroup"><span class="pre">WithinGroup</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_T</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="Link to this definition">¶</a></dt>
<dd><p>Produce a WITHIN GROUP (ORDER BY expr) clause against this function.</p>
<p>Used against so-called “ordered set aggregate” and “hypothetical
set aggregate” functions, including <a class="reference internal" href="#sqlalchemy.sql.functions.percentile_cont" title="sqlalchemy.sql.functions.percentile_cont"><code class="xref py py-class docutils literal notranslate"><span class="pre">percentile_cont</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.functions.rank" title="sqlalchemy.sql.functions.rank"><code class="xref py py-class docutils literal notranslate"><span class="pre">rank</span></code></a>, <a class="reference internal" href="#sqlalchemy.sql.functions.dense_rank" title="sqlalchemy.sql.functions.dense_rank"><code class="xref py py-class docutils literal notranslate"><span class="pre">dense_rank</span></code></a>, etc.</p>
<p>See <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.within_group" title="sqlalchemy.sql.expression.within_group"><code class="xref py py-func docutils literal notranslate"><span class="pre">within_group()</span></code></a> for a full description.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions-within-group"><span class="std std-ref">Special Modifiers WITHIN GROUP, FILTER</span></a> -
in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.FunctionElement.within_group_type">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.FunctionElement.</span></code></a><span class="sig-name descname"><span class="pre">within_group_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">within_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.WithinGroup" title="sqlalchemy.sql.elements.WithinGroup"><span class="pre">WithinGroup</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_S</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.sql.type_api.TypeEngine"><span class="pre">TypeEngine</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.FunctionElement.within_group_type" title="Link to this definition">¶</a></dt>
<dd><p>For types that define their return type as based on the criteria
within a WITHIN GROUP (ORDER BY) expression, called by the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.WithinGroup" title="sqlalchemy.sql.expression.WithinGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">WithinGroup</span></code></a> construct.</p>
<p>Returns None by default, in which case the function’s normal <code class="docutils literal notranslate"><span class="pre">.type</span></code>
is used.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.GenericFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">GenericFunction</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.GenericFunction" title="Link to this definition">¶</a></dt>
<dd><p>Define a ‘generic’ function.</p>
<p>A generic function is a pre-established <a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a>
class that is instantiated automatically when called
by name from the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> attribute.    Note that
calling any name from <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> has the effect that
a new <a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a> instance is created automatically,
given that name.  The primary use case for defining
a <a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a> class is so that a function
of a particular name may be given a fixed return type.
It can also include custom argument parsing schemes as well
as additional methods.</p>
<p>Subclasses of <a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a> are automatically
registered under the name of the class.  For
example, a user-defined function <code class="docutils literal notranslate"><span class="pre">as_utc()</span></code> would
be available immediately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql.functions</span> <span class="kn">import</span> <span class="n">GenericFunction</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.types</span> <span class="kn">import</span> <span class="n">DateTime</span>

<span class="k">class</span> <span class="nc">as_utc</span><span class="p">(</span><span class="n">GenericFunction</span><span class="p">):</span>
    <span class="n">type</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">()</span>
    <span class="n">inherit_cache</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">as_utc</span><span class="p">()))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>User-defined generic functions can be organized into
packages by specifying the “package” attribute when defining
<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a>.   Third party libraries
containing many functions may want to use this in order
to avoid name conflicts with other systems.   For example,
if our <code class="docutils literal notranslate"><span class="pre">as_utc()</span></code> function were part of a package
“time”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">as_utc</span><span class="p">(</span><span class="n">GenericFunction</span><span class="p">):</span>
    <span class="n">type</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">()</span>
    <span class="n">package</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span>
    <span class="n">inherit_cache</span> <span class="o">=</span> <span class="kc">True</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The above function would be available from <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a>
using the package name <code class="docutils literal notranslate"><span class="pre">time</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">as_utc</span><span class="p">()))</span></pre></div>
</div>
<p>A final option is to allow the function to be accessed
from one name in <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> but to render as a different name.
The <code class="docutils literal notranslate"><span class="pre">identifier</span></code> attribute will override the name used to
access the function as loaded from <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a>, but will retain
the usage of <code class="docutils literal notranslate"><span class="pre">name</span></code> as the rendered name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GeoBuffer</span><span class="p">(</span><span class="n">GenericFunction</span><span class="p">):</span>
    <span class="n">type</span> <span class="o">=</span> <span class="n">Geometry</span><span class="p">()</span>
    <span class="n">package</span> <span class="o">=</span> <span class="s2">&quot;geo&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;ST_Buffer&quot;</span>
    <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot;buffer&quot;</span>
    <span class="n">inherit_cache</span> <span class="o">=</span> <span class="kc">True</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The above function will render as follows:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">geo</span><span class="o">.</span><span class="n">buffer</span><span class="p">())</span>
<div class='show_sql_print'><span class="n">ST_Buffer</span><span class="p">()</span>
</div></pre></div>
</div>
<p>The name will be rendered as is, however without quoting unless the name
contains special characters that require quoting.  To force quoting
on or off for the name, use the <code class="xref py py-class docutils literal notranslate"><span class="pre">quoted_name</span></code>
construct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">quoted_name</span>

<span class="k">class</span> <span class="nc">GeoBuffer</span><span class="p">(</span><span class="n">GenericFunction</span><span class="p">):</span>
    <span class="n">type</span> <span class="o">=</span> <span class="n">Geometry</span><span class="p">()</span>
    <span class="n">package</span> <span class="o">=</span> <span class="s2">&quot;geo&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">quoted_name</span><span class="p">(</span><span class="s2">&quot;ST_Buffer&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot;buffer&quot;</span>
    <span class="n">inherit_cache</span> <span class="o">=</span> <span class="kc">True</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The above function will render as:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">geo</span><span class="o">.</span><span class="n">buffer</span><span class="p">())</span>
<div class='show_sql_print'><span class="ss">&quot;ST_Buffer&quot;</span><span class="p">()</span>
</div></pre></div>
</div>
<p>Type parameters for this class as a
<a class="reference external" href="https://peps.python.org/pep-0484/#generics">generic type</a> can be passed
and should match the type seen in a <a class="reference internal" href="connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">as_utc</span><span class="p">(</span><span class="n">GenericFunction</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]):</span>
    <span class="n">type</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">()</span>
    <span class="n">inherit_cache</span> <span class="o">=</span> <span class="kc">True</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The above indicates that the following expression returns a <code class="docutils literal notranslate"><span class="pre">datetime</span></code>
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span><span class="o">.</span><span class="n">scalar</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">as_utc</span><span class="p">()))</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.13: </span>The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.quoted_name" title="sqlalchemy.sql.expression.quoted_name"><code class="xref py py-class docutils literal notranslate"><span class="pre">quoted_name</span></code></a> construct is now
recognized for quoting when used with the “name” attribute of the
object, so that quoting can be forced on or off for the function
name.</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.Function</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.register_function">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">register_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><span class="pre">Function</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'_default'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.sql.functions.register_function" title="Link to this definition">¶</a></dt>
<dd><p>Associate a callable with a particular func. name.</p>
<p>This is normally called by GenericFunction, but is also
available by itself so that a non-Function construct
can be associated with the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> accessor (i.e.
CAST, EXTRACT).</p>
</dd></dl>

</section>
<section id="selected-known-functions">
<h2>Selected “Known” Functions<a class="headerlink" href="#selected-known-functions" title="Link to this heading">¶</a></h2>
<p>These are <a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericFunction</span></code></a> implementations for a selected set of
common SQL functions that set up the expected return type for each function
automatically.  The are invoked in the same way as any other member of the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> namespace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">some_table</span><span class="p">)</span></pre></div>
</div>
<p>Note that any name not known to <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> generates the function name
as is - there is no restriction on what SQL functions can be called, known or
unknown to SQLAlchemy, built-in or user defined. The section here only
describes those functions where SQLAlchemy already knows what argument and
return types are in use.</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.aggregate_strings"><span class="sig-name descname">aggregate_strings</span></a></p></td>
<td><p>Implement a generic string aggregation function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.array_agg"><span class="sig-name descname">array_agg</span></a></p></td>
<td><p>Support for the ARRAY_AGG function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.char_length"><span class="sig-name descname">char_length</span></a></p></td>
<td><p>The CHAR_LENGTH() SQL function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.coalesce"><span class="sig-name descname">coalesce</span></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.concat"><span class="sig-name descname">concat</span></a></p></td>
<td><p>The SQL CONCAT() function, which concatenates strings.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.count"><span class="sig-name descname">count</span></a></p></td>
<td><p>The ANSI COUNT aggregate function.  With no arguments,
emits COUNT *.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.cube"><span class="sig-name descname">cube</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">CUBE</span></code> grouping operation.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.cume_dist"><span class="sig-name descname">cume_dist</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">cume_dist</span></code> hypothetical-set aggregate function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.current_date"><span class="sig-name descname">current_date</span></a></p></td>
<td><p>The CURRENT_DATE() SQL function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.current_time"><span class="sig-name descname">current_time</span></a></p></td>
<td><p>The CURRENT_TIME() SQL function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.current_timestamp"><span class="sig-name descname">current_timestamp</span></a></p></td>
<td><p>The CURRENT_TIMESTAMP() SQL function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.current_user"><span class="sig-name descname">current_user</span></a></p></td>
<td><p>The CURRENT_USER() SQL function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.dense_rank"><span class="sig-name descname">dense_rank</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">dense_rank</span></code> hypothetical-set aggregate function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.grouping_sets"><span class="sig-name descname">grouping_sets</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">GROUPING</span> <span class="pre">SETS</span></code> grouping operation.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.localtime"><span class="sig-name descname">localtime</span></a></p></td>
<td><p>The localtime() SQL function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.localtimestamp"><span class="sig-name descname">localtimestamp</span></a></p></td>
<td><p>The localtimestamp() SQL function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.max"><span class="sig-name descname">max</span></a></p></td>
<td><p>The SQL MAX() aggregate function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.min"><span class="sig-name descname">min</span></a></p></td>
<td><p>The SQL MIN() aggregate function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.mode"><span class="sig-name descname">mode</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">mode</span></code> ordered-set aggregate function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.next_value"><span class="sig-name descname">next_value</span></a></p></td>
<td><p>Represent the ‘next value’, given a <a class="reference internal" href="defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>
as its single argument.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.now"><span class="sig-name descname">now</span></a></p></td>
<td><p>The SQL now() datetime function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.percent_rank"><span class="sig-name descname">percent_rank</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">percent_rank</span></code> hypothetical-set aggregate function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.percentile_cont"><span class="sig-name descname">percentile_cont</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">percentile_cont</span></code> ordered-set aggregate function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.percentile_disc"><span class="sig-name descname">percentile_disc</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">percentile_disc</span></code> ordered-set aggregate function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.random"><span class="sig-name descname">random</span></a></p></td>
<td><p>The RANDOM() SQL function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.rank"><span class="sig-name descname">rank</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">rank</span></code> hypothetical-set aggregate function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.rollup"><span class="sig-name descname">rollup</span></a></p></td>
<td><p>Implement the <code class="docutils literal notranslate"><span class="pre">ROLLUP</span></code> grouping operation.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.session_user"><span class="sig-name descname">session_user</span></a></p></td>
<td><p>The SESSION_USER() SQL function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.sum"><span class="sig-name descname">sum</span></a></p></td>
<td><p>The SQL SUM() aggregate function.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.sysdate"><span class="sig-name descname">sysdate</span></a></p></td>
<td><p>The SYSDATE() SQL function.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.functions.user"><span class="sig-name descname">user</span></a></p></td>
<td><p>The USER() SQL function.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.aggregate_strings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">aggregate_strings</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.aggregate_strings" title="Link to this definition">¶</a></dt>
<dd><p>Implement a generic string aggregation function.</p>
<p>This function will concatenate non-null values into a string and
separate the values by a delimiter.</p>
<p>This function is compiled on a per-backend basis, into functions
such as <code class="docutils literal notranslate"><span class="pre">group_concat()</span></code>, <code class="docutils literal notranslate"><span class="pre">string_agg()</span></code>, or <code class="docutils literal notranslate"><span class="pre">LISTAGG()</span></code>.</p>
<p>e.g. Example usage with delimiter ‘.’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">aggregate_strings</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">str_col</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">))</span></pre></div>
</div>
<p>The return type of this function is <a class="reference internal" href="type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.aggregate_strings" title="sqlalchemy.sql.functions.aggregate_strings"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.aggregate_strings</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.array_agg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">array_agg</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.array_agg" title="Link to this definition">¶</a></dt>
<dd><p>Support for the ARRAY_AGG function.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">func.array_agg(expr)</span></code> construct returns an expression of
type <a class="reference internal" href="type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">array_agg</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.array_agg" title="sqlalchemy.dialects.postgresql.array_agg"><code class="xref py py-func docutils literal notranslate"><span class="pre">array_agg()</span></code></a> - PostgreSQL-specific version that
returns <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a>, which has PG-specific operators
added.</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.array_agg" title="sqlalchemy.sql.functions.array_agg"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.array_agg</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.char_length">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">char_length</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.char_length" title="Link to this definition">¶</a></dt>
<dd><p>The CHAR_LENGTH() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.char_length" title="sqlalchemy.sql.functions.char_length"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.char_length</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.coalesce">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">coalesce</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.coalesce" title="Link to this definition">¶</a></dt>
<dd><div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.coalesce" title="sqlalchemy.sql.functions.coalesce"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.coalesce</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.ReturnTypeFromArgs</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.concat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">concat</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.concat" title="Link to this definition">¶</a></dt>
<dd><p>The SQL CONCAT() function, which concatenates strings.</p>
<p>E.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="n">concat</span><span class="p">(:</span><span class="n">concat_2</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">concat_3</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">concat_1</span>
</div></pre></div>
</div>
<p>String concatenation in SQLAlchemy is more commonly available using the
Python <code class="docutils literal notranslate"><span class="pre">+</span></code> operator with string datatypes, which will render a
backend-specific concatenation operator, such as :</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;b&quot;</span><span class="p">))</span>
<div class='show_sql_print'><span class="k">SELECT</span><span class="w"> </span><span class="p">:</span><span class="n">param_1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">:</span><span class="n">param_2</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">anon_1</span>
</div></pre></div>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.concat" title="sqlalchemy.sql.functions.concat"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.concat</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.count">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">count</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.count" title="Link to this definition">¶</a></dt>
<dd><p>The ANSI COUNT aggregate function.  With no arguments,
emits COUNT *.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span>

<span class="n">my_table</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;some_table&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">))</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">())</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">my_table</span><span class="p">)</span></pre></div>
</div>
<p>Executing <code class="docutils literal notranslate"><span class="pre">stmt</span></code> would emit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">AS</span> <span class="n">count_1</span>
<span class="n">FROM</span> <span class="n">some_table</span></pre></div>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.count" title="sqlalchemy.sql.functions.count"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.count</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.cube">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">cube</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.cube" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">CUBE</span></code> grouping operation.</p>
<p>This function is used as part of the GROUP BY of a statement,
e.g. <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.group_by" title="sqlalchemy.sql.expression.Select.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.group_by()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span>
<span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span><span class="p">))</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.cube" title="sqlalchemy.sql.functions.cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.cube</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.cume_dist">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">cume_dist</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.cume_dist" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">cume_dist</span></code> hypothetical-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is <a class="reference internal" href="type_basics.html#sqlalchemy.types.Numeric" title="sqlalchemy.types.Numeric"><code class="xref py py-class docutils literal notranslate"><span class="pre">Numeric</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.cume_dist" title="sqlalchemy.sql.functions.cume_dist"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.cume_dist</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.current_date">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">current_date</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.current_date" title="Link to this definition">¶</a></dt>
<dd><p>The CURRENT_DATE() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.current_date" title="sqlalchemy.sql.functions.current_date"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.current_date</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.current_time">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">current_time</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.current_time" title="Link to this definition">¶</a></dt>
<dd><p>The CURRENT_TIME() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.current_time" title="sqlalchemy.sql.functions.current_time"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.current_time</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.current_timestamp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">current_timestamp</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.current_timestamp" title="Link to this definition">¶</a></dt>
<dd><p>The CURRENT_TIMESTAMP() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.current_timestamp" title="sqlalchemy.sql.functions.current_timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.current_timestamp</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.current_user">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">current_user</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.current_user" title="Link to this definition">¶</a></dt>
<dd><p>The CURRENT_USER() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.current_user" title="sqlalchemy.sql.functions.current_user"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.current_user</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.dense_rank">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">dense_rank</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.dense_rank" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">dense_rank</span></code> hypothetical-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is <a class="reference internal" href="type_basics.html#sqlalchemy.types.Integer" title="sqlalchemy.types.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.dense_rank" title="sqlalchemy.sql.functions.dense_rank"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.dense_rank</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.grouping_sets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">grouping_sets</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.grouping_sets" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">GROUPING</span> <span class="pre">SETS</span></code> grouping operation.</p>
<p>This function is used as part of the GROUP BY of a statement,
e.g. <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.group_by" title="sqlalchemy.sql.expression.Select.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.group_by()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span>
<span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">grouping_sets</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span><span class="p">))</span></pre></div>
</div>
<p>In order to group by multiple sets, use the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.tuple_" title="sqlalchemy.sql.expression.tuple_"><code class="xref py py-func docutils literal notranslate"><span class="pre">tuple_()</span></code></a> construct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">tuple_</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span><span class="p">,</span>
    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_3</span>
<span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span>
    <span class="n">func</span><span class="o">.</span><span class="n">grouping_sets</span><span class="p">(</span>
        <span class="n">tuple_</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span><span class="p">),</span>
        <span class="n">tuple_</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_3</span><span class="p">),</span>
    <span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.grouping_sets" title="sqlalchemy.sql.functions.grouping_sets"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.grouping_sets</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.localtime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">localtime</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.localtime" title="Link to this definition">¶</a></dt>
<dd><p>The localtime() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.localtime" title="sqlalchemy.sql.functions.localtime"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.localtime</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.localtimestamp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">localtimestamp</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.localtimestamp" title="Link to this definition">¶</a></dt>
<dd><p>The localtimestamp() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.localtimestamp" title="sqlalchemy.sql.functions.localtimestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.localtimestamp</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.max">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">max</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.max" title="Link to this definition">¶</a></dt>
<dd><p>The SQL MAX() aggregate function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.max" title="sqlalchemy.sql.functions.max"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.max</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.ReturnTypeFromArgs</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.min">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">min</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.min" title="Link to this definition">¶</a></dt>
<dd><p>The SQL MIN() aggregate function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.min" title="sqlalchemy.sql.functions.min"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.min</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.ReturnTypeFromArgs</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.mode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">mode</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.mode" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">mode</span></code> ordered-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is the same as the sort expression.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.mode" title="sqlalchemy.sql.functions.mode"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.mode</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.OrderedSetAgg</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.next_value">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">next_value</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.next_value" title="Link to this definition">¶</a></dt>
<dd><p>Represent the ‘next value’, given a <a class="reference internal" href="defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>
as its single argument.</p>
<p>Compiles into the appropriate function on each backend,
or will raise NotImplementedError if used on a backend
that does not provide support for sequences.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.next_value" title="sqlalchemy.sql.functions.next_value"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.next_value</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.now">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">now</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.now" title="Link to this definition">¶</a></dt>
<dd><p>The SQL now() datetime function.</p>
<p>SQLAlchemy dialects will usually render this particular function
in a backend-specific way, such as rendering it as <code class="docutils literal notranslate"><span class="pre">CURRENT_TIMESTAMP</span></code>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.now" title="sqlalchemy.sql.functions.now"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.now</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.percent_rank">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">percent_rank</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.percent_rank" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">percent_rank</span></code> hypothetical-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is <a class="reference internal" href="type_basics.html#sqlalchemy.types.Numeric" title="sqlalchemy.types.Numeric"><code class="xref py py-class docutils literal notranslate"><span class="pre">Numeric</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.percent_rank" title="sqlalchemy.sql.functions.percent_rank"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.percent_rank</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.percentile_cont">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">percentile_cont</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.percentile_cont" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">percentile_cont</span></code> ordered-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is the same as the sort expression,
or if the arguments are an array, an <a class="reference internal" href="type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> of the sort
expression’s type.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.percentile_cont" title="sqlalchemy.sql.functions.percentile_cont"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.percentile_cont</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.OrderedSetAgg</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.percentile_disc">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">percentile_disc</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.percentile_disc" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">percentile_disc</span></code> ordered-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is the same as the sort expression,
or if the arguments are an array, an <a class="reference internal" href="type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ARRAY</span></code></a> of the sort
expression’s type.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.percentile_disc" title="sqlalchemy.sql.functions.percentile_disc"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.percentile_disc</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.OrderedSetAgg</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.random">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">random</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.random" title="Link to this definition">¶</a></dt>
<dd><p>The RANDOM() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.random" title="sqlalchemy.sql.functions.random"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.random</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.rank">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">rank</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.rank" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">rank</span></code> hypothetical-set aggregate function.</p>
<p>This function must be used with the <a class="reference internal" href="#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.within_group()</span></code></a>
modifier to supply a sort expression to operate upon.</p>
<p>The return type of this function is <a class="reference internal" href="type_basics.html#sqlalchemy.types.Integer" title="sqlalchemy.types.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.rank" title="sqlalchemy.sql.functions.rank"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.rank</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.rollup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">rollup</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.rollup" title="Link to this definition">¶</a></dt>
<dd><p>Implement the <code class="docutils literal notranslate"><span class="pre">ROLLUP</span></code> grouping operation.</p>
<p>This function is used as part of the GROUP BY of a statement,
e.g. <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.group_by" title="sqlalchemy.sql.expression.Select.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.group_by()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span>
<span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">rollup</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col_2</span><span class="p">))</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.rollup" title="sqlalchemy.sql.functions.rollup"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.rollup</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.GenericFunction" title="sqlalchemy.sql.functions.GenericFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.GenericFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.session_user">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">session_user</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.session_user" title="Link to this definition">¶</a></dt>
<dd><p>The SESSION_USER() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.session_user" title="sqlalchemy.sql.functions.session_user"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.session_user</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.sum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">sum</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.sum" title="Link to this definition">¶</a></dt>
<dd><p>The SQL SUM() aggregate function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.sum" title="sqlalchemy.sql.functions.sum"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.sum</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.ReturnTypeFromArgs</span></code>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.sysdate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">sysdate</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.sysdate" title="Link to this definition">¶</a></dt>
<dd><p>The SYSDATE() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.sysdate" title="sqlalchemy.sql.functions.sysdate"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.sysdate</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.functions.user">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.functions.</span></span><span class="sig-name descname"><span class="pre">user</span></span><a class="headerlink" href="#sqlalchemy.sql.functions.user" title="Link to this definition">¶</a></dt>
<dd><p>The USER() SQL function.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.functions.user" title="sqlalchemy.sql.functions.user"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.user</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.functions.AnsiFunction" title="sqlalchemy.sql.functions.AnsiFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.functions.AnsiFunction</span></code></a>)</p>
</div>
</dd></dl>

</section>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="dml.html" title="previous chapter">Insert, Updates, Deletes</a>
        Next:
        <a href="compiler.html" title="next chapter">Custom SQL Constructs and Compilation Extension</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2024, the SQLAlchemy authors and contributors.


    <p><b>flambé!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.2.6.

    Documentation last generated: Mon Aug  5 19:31:00 2024 JST

    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      document.documentElement.dataset.content_root = '../';

    </script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script type="text/javascript" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


