<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>
            
    
    Asynchronous I/O (asyncio)
 &mdash;
    SQLAlchemy 2.0 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
        <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="SQLAlchemy 2.0 Documentation" href="../../index.html" />
        <link rel="up" title="ORM Extensions" href="index.html" />
        <link rel="next" title="Association Proxy" href="associationproxy.html" />
        <link rel="prev" title="ORM Extensions" href="index.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">2.0.31</span>


        | Release Date: June 18, 2024

    </div>

    <h1><a href="../../index.html">SQLAlchemy 2.0 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">



        <div id="docs-sidebar-popout">
            <h3><a href="../../index.html">SQLAlchemy 2.0 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../../index.html">Home</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="../index.html" title="SQLAlchemy ORM">SQLAlchemy ORM</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="../quickstart.html">ORM Quick Start</a></span></li>
<li><span class="link-container"><a class="reference external" href="../mapper_config.html">ORM Mapped Class Configuration</a></span></li>
<li><span class="link-container"><a class="reference external" href="../relationships.html">Relationship Configuration</a></span></li>
<li><span class="link-container"><a class="reference external" href="../queryguide/index.html">ORM Querying Guide</a></span></li>
<li><span class="link-container"><a class="reference external" href="../session.html">Using the Session</a></span></li>
<li><span class="link-container"><a class="reference external" href="../extending.html">Events and Internals</a></span></li>
<li><span class="link-container"><a class="reference external" href="index.html">ORM Extensions</a></span><ul>
<li class="selected"><span class="link-container"><strong>Asynchronous I/O (asyncio)</strong><a class="paramlink headerlink reference internal" href="#">Â¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#asyncio-platform-installation-notes-including-apple-m1">Asyncio Platform Installation Notes (Including Apple M1)</a></span></li>
<li><span class="link-container"><a class="reference external" href="#synopsis-core">Synopsis - Core</a></span></li>
<li><span class="link-container"><a class="reference external" href="#synopsis-orm">Synopsis - ORM</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#using-asyncsession-with-concurrent-tasks">Using AsyncSession with Concurrent Tasks</a></span></li>
<li><span class="link-container"><a class="reference external" href="#preventing-implicit-io-when-using-asyncsession">Preventing Implicit IO when Using AsyncSession</a></span></li>
<li><span class="link-container"><a class="reference external" href="#running-synchronous-methods-and-functions-under-asyncio">Running Synchronous Methods and Functions under asyncio</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#using-events-with-the-asyncio-extension">Using events with the asyncio extension</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#examples-of-event-listeners-with-async-engines-sessions-sessionmakers">Examples of Event Listeners with Async Engines / Sessions / Sessionmakers</a></span></li>
<li><span class="link-container"><a class="reference external" href="#using-awaitable-only-driver-methods-in-connection-pool-and-other-events">Using awaitable-only driver methods in connection pool and other events</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#using-multiple-asyncio-event-loops">Using multiple asyncio event loops</a></span></li>
<li><span class="link-container"><a class="reference external" href="#using-asyncio-scoped-session">Using asyncio scoped session</a></span></li>
<li><span class="link-container"><a class="reference external" href="#using-the-inspector-to-inspect-schema-objects">Using the Inspector to inspect schema objects</a></span></li>
<li><span class="link-container"><a class="reference external" href="#engine-api-documentation">Engine API Documentation</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.create_async_engine"><code class="docutils literal notranslate"><span class="pre">create_async_engine()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_engine_from_config"><code class="docutils literal notranslate"><span class="pre">async_engine_from_config()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.create_async_pool_from_url"><code class="docutils literal notranslate"><span class="pre">create_async_pool_from_url()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.begin"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.begin()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.clear_compiled_cache"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.clear_compiled_cache()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.connect"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.connect()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.dialect"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.dialect</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.dispose()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.driver"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.driver</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.echo"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.echo</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.engine"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.engine</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.execution_options()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.get_execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.get_execution_options()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.name"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.name</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.pool"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.pool</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.raw_connection"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.raw_connection()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.update_execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.update_execution_options()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncEngine.url"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.url</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.aclose"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.aclose()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.begin()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin_nested"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.begin_nested()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.close"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.closed"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.closed</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.commit"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.commit()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.connection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.connection</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.default_isolation_level"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.default_isolation_level</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.dialect"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.dialect</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.exec_driver_sql"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.exec_driver_sql()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.execute()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.execution_options()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.get_nested_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.get_raw_connection()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.get_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.in_nested_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.in_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.info"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidate"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.invalidate()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidated"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.invalidated</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.rollback()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalar"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.scalar()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalars"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.scalars()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.start"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.start()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.stream_scalars()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_connection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.sync_connection</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_engine"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.sync_engine</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncTransaction.close"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncTransaction.commit"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.commit()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncTransaction.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.rollback()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncTransaction.start"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.start()</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#result-set-api-documentation">Result Set API Documentation</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">AsyncResult</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.all"><code class="docutils literal notranslate"><span class="pre">AsyncResult.all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.close"><code class="docutils literal notranslate"><span class="pre">AsyncResult.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.closed"><code class="docutils literal notranslate"><span class="pre">AsyncResult.closed</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.columns"><code class="docutils literal notranslate"><span class="pre">AsyncResult.columns()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchall"><code class="docutils literal notranslate"><span class="pre">AsyncResult.fetchall()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchmany"><code class="docutils literal notranslate"><span class="pre">AsyncResult.fetchmany()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchone"><code class="docutils literal notranslate"><span class="pre">AsyncResult.fetchone()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.first"><code class="docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.freeze"><code class="docutils literal notranslate"><span class="pre">AsyncResult.freeze()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.keys"><code class="docutils literal notranslate"><span class="pre">AsyncResult.keys()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.mappings"><code class="docutils literal notranslate"><span class="pre">AsyncResult.mappings()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.one"><code class="docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions"><code class="docutils literal notranslate"><span class="pre">AsyncResult.partitions()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalar()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalar_one()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalar_one_or_none()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.t"><code class="docutils literal notranslate"><span class="pre">AsyncResult.t</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.tuples"><code class="docutils literal notranslate"><span class="pre">AsyncResult.tuples()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.unique"><code class="docutils literal notranslate"><span class="pre">AsyncResult.unique()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncResult.yield_per"><code class="docutils literal notranslate"><span class="pre">AsyncResult.yield_per()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.all"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.close"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.closed"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.closed</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchall"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.fetchall()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchmany"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.fetchmany()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.first"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.first()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.one()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.one_or_none()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.partitions"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.partitions()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.unique"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.unique()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.yield_per"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.yield_per()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.all"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.close"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.closed"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.closed</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.columns"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.columns()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchall"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.fetchall()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchmany"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.fetchmany()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchone"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.fetchone()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.first"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.first()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.keys"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.keys()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.one()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.one_or_none()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.partitions"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.partitions()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.unique"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.unique()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.yield_per"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.yield_per()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncTupleResult"><code class="docutils literal notranslate"><span class="pre">AsyncTupleResult</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#orm-session-api-documentation">ORM Session API Documentation</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_object_session"><code class="docutils literal notranslate"><span class="pre">async_object_session()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_session"><code class="docutils literal notranslate"><span class="pre">async_session()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.close_all_sessions"><code class="docutils literal notranslate"><span class="pre">close_all_sessions()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__call__"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.__call__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__init__"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_sessionmaker.begin"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.begin()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_sessionmaker.configure"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.configure()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.__call__"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.__call__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.__init__"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.aclose"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.aclose()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.add"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.add()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.add_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.add_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.autoflush"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.autoflush</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.begin()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin_nested"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.begin_nested()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.bind"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.bind</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.close"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.close_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.close_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.commit"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.commit()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.configure"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.configure()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.connection"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.connection()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.delete"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.delete()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.deleted"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.deleted</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.dirty"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.dirty</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.execute"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.execute()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expire()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expire_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expunge()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expunge_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.flush"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.flush()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.get"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.get()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_bind"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.get_bind()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_one"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.get_one()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_key"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.identity_key()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_map"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.identity_map</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.info"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.invalidate"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.invalidate()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_active"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.is_active</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_modified"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.is_modified()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.merge"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.merge()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.new"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.new</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.no_autoflush"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.no_autoflush</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.object_session"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.object_session()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.refresh"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.refresh()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.remove()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.reset"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.reset()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.rollback"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.rollback()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalar"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.scalar()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalars"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.scalars()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.session_factory"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.session_factory</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.stream()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream_scalars"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.stream_scalars()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncAttrs"><code class="docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><code class="docutils literal notranslate"><span class="pre">AsyncAttrs.awaitable_attrs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">AsyncSession</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session_class"><code class="docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.__init__"><code class="docutils literal notranslate"><span class="pre">AsyncSession.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.aclose"><code class="docutils literal notranslate"><span class="pre">AsyncSession.aclose()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.add"><code class="docutils literal notranslate"><span class="pre">AsyncSession.add()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.add_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.add_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.autoflush"><code class="docutils literal notranslate"><span class="pre">AsyncSession.autoflush</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.begin"><code class="docutils literal notranslate"><span class="pre">AsyncSession.begin()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.begin_nested"><code class="docutils literal notranslate"><span class="pre">AsyncSession.begin_nested()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.close"><code class="docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.close_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.close_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.commit"><code class="docutils literal notranslate"><span class="pre">AsyncSession.commit()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.connection"><code class="docutils literal notranslate"><span class="pre">AsyncSession.connection()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.delete"><code class="docutils literal notranslate"><span class="pre">AsyncSession.delete()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.deleted"><code class="docutils literal notranslate"><span class="pre">AsyncSession.deleted</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.dirty"><code class="docutils literal notranslate"><span class="pre">AsyncSession.dirty</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.execute"><code class="docutils literal notranslate"><span class="pre">AsyncSession.execute()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.expire"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expire()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.expire_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expire_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expunge()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expunge_all()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.flush"><code class="docutils literal notranslate"><span class="pre">AsyncSession.flush()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.get"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.get_bind"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_bind()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.get_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_nested_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.get_one"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_one()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.get_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_key"><code class="docutils literal notranslate"><span class="pre">AsyncSession.identity_key()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_map"><code class="docutils literal notranslate"><span class="pre">AsyncSession.identity_map</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.in_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.in_nested_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.in_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.in_transaction()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.info"><code class="docutils literal notranslate"><span class="pre">AsyncSession.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.invalidate"><code class="docutils literal notranslate"><span class="pre">AsyncSession.invalidate()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.is_active"><code class="docutils literal notranslate"><span class="pre">AsyncSession.is_active</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.is_modified"><code class="docutils literal notranslate"><span class="pre">AsyncSession.is_modified()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.merge"><code class="docutils literal notranslate"><span class="pre">AsyncSession.merge()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.new"><code class="docutils literal notranslate"><span class="pre">AsyncSession.new</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.no_autoflush"><code class="docutils literal notranslate"><span class="pre">AsyncSession.no_autoflush</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.object_session"><code class="docutils literal notranslate"><span class="pre">AsyncSession.object_session()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh"><code class="docutils literal notranslate"><span class="pre">AsyncSession.refresh()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.reset"><code class="docutils literal notranslate"><span class="pre">AsyncSession.reset()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncSession.rollback()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.scalar"><code class="docutils literal notranslate"><span class="pre">AsyncSession.scalar()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars"><code class="docutils literal notranslate"><span class="pre">AsyncSession.scalars()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.stream"><code class="docutils literal notranslate"><span class="pre">AsyncSession.stream()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.stream_scalars"><code class="docutils literal notranslate"><span class="pre">AsyncSession.stream_scalars()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session"><code class="docutils literal notranslate"><span class="pre">AsyncSession.sync_session</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit"><code class="docutils literal notranslate"><span class="pre">AsyncSessionTransaction.commit()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncSessionTransaction.rollback()</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="associationproxy.html">Association Proxy</a></span></li>
<li><span class="link-container"><a class="reference external" href="automap.html">Automap</a></span></li>
<li><span class="link-container"><a class="reference external" href="baked.html">Baked Queries</a></span></li>
<li><span class="link-container"><a class="reference external" href="declarative/index.html">Declarative Extensions</a></span></li>
<li><span class="link-container"><a class="reference external" href="mypy.html">Mypy  / Pep-484 Support for ORM Mappings</a></span></li>
<li><span class="link-container"><a class="reference external" href="mutable.html">Mutation Tracking</a></span></li>
<li><span class="link-container"><a class="reference external" href="orderinglist.html">Ordering List</a></span></li>
<li><span class="link-container"><a class="reference external" href="horizontal_shard.html">Horizontal Sharding</a></span></li>
<li><span class="link-container"><a class="reference external" href="hybrid.html">Hybrid Attributes</a></span></li>
<li><span class="link-container"><a class="reference external" href="indexable.html">Indexable</a></span></li>
<li><span class="link-container"><a class="reference external" href="instrumentation.html">Alternate Class Instrumentation</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="../examples.html">ORM Examples</a></span></li>
</ul>



        </div>

        </div>

    </div>

    <div id="narrow-index-nav">
        <form class="search" action="../../search.html" method="get">
            <label>
                Search terms:
            <input type="text" placeholder="search..." name="q" size="12" />
            </label>
            <input type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>

        <p>
        <a href="../../index.html">Home</a>
        </p>

    </div>


        <div id="docs-narrow-top-navigation">
            <ul>
                <li><b>Previous:</b>
                <a href="index.html" title="previous chapter">ORM Extensions</a></li>
                <li><b>Next:</b>
                <a href="associationproxy.html" title="next chapter">Association Proxy</a></li>

            <li><b>Up:</b> <a href="../../index.html">Home</a></li>
                    <ul><li><a href="../index.html" title="SQLAlchemy ORM">SQLAlchemy ORM</a></li>
                    <ul><li><a href="index.html" title="ORM Extensions">ORM Extensions</a></li>
                </ul>
                </ul>



            <li><b>On this page:</b></li>
            <ul>
<li><a class="reference internal" href="#asynchronous-i-o-asyncio">Asynchronous I/O (asyncio)</a><ul>
<li><a class="reference internal" href="#asyncio-platform-installation-notes-including-apple-m1">Asyncio Platform Installation Notes (Including Apple M1)</a></li>
<li><a class="reference internal" href="#synopsis-core">Synopsis - Core</a></li>
<li><a class="reference internal" href="#synopsis-orm">Synopsis - ORM</a><ul>
<li><a class="reference internal" href="#using-asyncsession-with-concurrent-tasks">Using AsyncSession with Concurrent Tasks</a></li>
<li><a class="reference internal" href="#preventing-implicit-io-when-using-asyncsession">Preventing Implicit IO when Using AsyncSession</a></li>
<li><a class="reference internal" href="#running-synchronous-methods-and-functions-under-asyncio">Running Synchronous Methods and Functions under asyncio</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-events-with-the-asyncio-extension">Using events with the asyncio extension</a><ul>
<li><a class="reference internal" href="#examples-of-event-listeners-with-async-engines-sessions-sessionmakers">Examples of Event Listeners with Async Engines / Sessions / Sessionmakers</a></li>
<li><a class="reference internal" href="#using-awaitable-only-driver-methods-in-connection-pool-and-other-events">Using awaitable-only driver methods in connection pool and other events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-multiple-asyncio-event-loops">Using multiple asyncio event loops</a></li>
<li><a class="reference internal" href="#using-asyncio-scoped-session">Using asyncio scoped session</a></li>
<li><a class="reference internal" href="#using-the-inspector-to-inspect-schema-objects">Using the Inspector to inspect schema objects</a></li>
<li><a class="reference internal" href="#engine-api-documentation">Engine API Documentation</a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_engine"><code class="docutils literal notranslate"><span class="pre">create_async_engine()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_engine_from_config"><code class="docutils literal notranslate"><span class="pre">async_engine_from_config()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_pool_from_url"><code class="docutils literal notranslate"><span class="pre">create_async_pool_from_url()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.begin"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.begin()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.clear_compiled_cache"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.clear_compiled_cache()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.connect"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.connect()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dialect"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.dialect</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.dispose()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.driver"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.driver</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.echo"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.echo</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.engine"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.engine</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.execution_options()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.get_execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.get_execution_options()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.name"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.name</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.pool"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.pool</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.raw_connection"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.raw_connection()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.update_execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.update_execution_options()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.url"><code class="docutils literal notranslate"><span class="pre">AsyncEngine.url</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.aclose"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.aclose()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.begin()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin_nested"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.begin_nested()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.close"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.closed"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.closed</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.commit"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.commit()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.connection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.connection</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.default_isolation_level"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.default_isolation_level</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.dialect"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.dialect</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.exec_driver_sql"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.exec_driver_sql()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.execute()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execution_options"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.execution_options()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.get_nested_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.get_raw_connection()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.get_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.in_nested_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.in_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.info"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidate"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.invalidate()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidated"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.invalidated</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.rollback()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalar"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.scalar()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalars"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.scalars()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.start"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.start()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.stream_scalars()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_connection"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.sync_connection</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_engine"><code class="docutils literal notranslate"><span class="pre">AsyncConnection.sync_engine</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.close"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.commit"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.commit()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.rollback()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.start"><code class="docutils literal notranslate"><span class="pre">AsyncTransaction.start()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#result-set-api-documentation">Result Set API Documentation</a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">AsyncResult</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.all"><code class="docutils literal notranslate"><span class="pre">AsyncResult.all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.close"><code class="docutils literal notranslate"><span class="pre">AsyncResult.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.closed"><code class="docutils literal notranslate"><span class="pre">AsyncResult.closed</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.columns"><code class="docutils literal notranslate"><span class="pre">AsyncResult.columns()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchall"><code class="docutils literal notranslate"><span class="pre">AsyncResult.fetchall()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchmany"><code class="docutils literal notranslate"><span class="pre">AsyncResult.fetchmany()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchone"><code class="docutils literal notranslate"><span class="pre">AsyncResult.fetchone()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first"><code class="docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.freeze"><code class="docutils literal notranslate"><span class="pre">AsyncResult.freeze()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.keys"><code class="docutils literal notranslate"><span class="pre">AsyncResult.keys()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.mappings"><code class="docutils literal notranslate"><span class="pre">AsyncResult.mappings()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one"><code class="docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions"><code class="docutils literal notranslate"><span class="pre">AsyncResult.partitions()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalar()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalar_one()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalar_one_or_none()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.t"><code class="docutils literal notranslate"><span class="pre">AsyncResult.t</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.tuples"><code class="docutils literal notranslate"><span class="pre">AsyncResult.tuples()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.unique"><code class="docutils literal notranslate"><span class="pre">AsyncResult.unique()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.yield_per"><code class="docutils literal notranslate"><span class="pre">AsyncResult.yield_per()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.all"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.close"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.closed"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.closed</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchall"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.fetchall()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchmany"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.fetchmany()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.first"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.first()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.one()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.one_or_none()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.partitions"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.partitions()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.unique"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.unique()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.yield_per"><code class="docutils literal notranslate"><span class="pre">AsyncScalarResult.yield_per()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.all"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.close"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.closed"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.closed</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.columns"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.columns()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchall"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.fetchall()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchmany"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.fetchmany()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchone"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.fetchone()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.first"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.first()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.keys"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.keys()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.one()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one_or_none"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.one_or_none()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.partitions"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.partitions()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.unique"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.unique()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.yield_per"><code class="docutils literal notranslate"><span class="pre">AsyncMappingResult.yield_per()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTupleResult"><code class="docutils literal notranslate"><span class="pre">AsyncTupleResult</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#orm-session-api-documentation">ORM Session API Documentation</a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_object_session"><code class="docutils literal notranslate"><span class="pre">async_object_session()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_session"><code class="docutils literal notranslate"><span class="pre">async_session()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.close_all_sessions"><code class="docutils literal notranslate"><span class="pre">close_all_sessions()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__call__"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.__call__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__init__"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.begin"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.begin()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.configure"><code class="docutils literal notranslate"><span class="pre">async_sessionmaker.configure()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.__call__"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.__call__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.__init__"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.aclose"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.aclose()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.add"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.add()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.add_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.add_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.autoflush"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.autoflush</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.begin()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin_nested"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.begin_nested()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.bind"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.bind</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.close"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.close_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.close_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.commit"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.commit()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.configure"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.configure()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.connection"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.connection()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.delete"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.delete()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.deleted"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.deleted</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.dirty"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.dirty</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.execute"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.execute()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expire()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expire_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expunge()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge_all"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.expunge_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.flush"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.flush()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.get"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.get()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_bind"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.get_bind()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_one"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.get_one()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_key"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.identity_key()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_map"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.identity_map</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.info"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.invalidate"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.invalidate()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_active"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.is_active</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_modified"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.is_modified()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.merge"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.merge()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.new"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.new</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.no_autoflush"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.no_autoflush</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.object_session"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.object_session()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.refresh"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.refresh()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.remove()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.reset"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.reset()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.rollback"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.rollback()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalar"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.scalar()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalars"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.scalars()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.session_factory"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.session_factory</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.stream()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream_scalars"><code class="docutils literal notranslate"><span class="pre">async_scoped_session.stream_scalars()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs"><code class="docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><code class="docutils literal notranslate"><span class="pre">AsyncAttrs.awaitable_attrs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">AsyncSession</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session_class"><code class="docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.__init__"><code class="docutils literal notranslate"><span class="pre">AsyncSession.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.aclose"><code class="docutils literal notranslate"><span class="pre">AsyncSession.aclose()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.add"><code class="docutils literal notranslate"><span class="pre">AsyncSession.add()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.add_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.add_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.autoflush"><code class="docutils literal notranslate"><span class="pre">AsyncSession.autoflush</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin"><code class="docutils literal notranslate"><span class="pre">AsyncSession.begin()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin_nested"><code class="docutils literal notranslate"><span class="pre">AsyncSession.begin_nested()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close"><code class="docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.close_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.commit"><code class="docutils literal notranslate"><span class="pre">AsyncSession.commit()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.connection"><code class="docutils literal notranslate"><span class="pre">AsyncSession.connection()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.delete"><code class="docutils literal notranslate"><span class="pre">AsyncSession.delete()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.deleted"><code class="docutils literal notranslate"><span class="pre">AsyncSession.deleted</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.dirty"><code class="docutils literal notranslate"><span class="pre">AsyncSession.dirty</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.execute"><code class="docutils literal notranslate"><span class="pre">AsyncSession.execute()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expire()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expire_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expunge()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge_all"><code class="docutils literal notranslate"><span class="pre">AsyncSession.expunge_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.flush"><code class="docutils literal notranslate"><span class="pre">AsyncSession.flush()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_bind"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_bind()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_nested_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_one"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_one()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.get_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_key"><code class="docutils literal notranslate"><span class="pre">AsyncSession.identity_key()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_map"><code class="docutils literal notranslate"><span class="pre">AsyncSession.identity_map</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.in_nested_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.in_nested_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.in_transaction"><code class="docutils literal notranslate"><span class="pre">AsyncSession.in_transaction()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.info"><code class="docutils literal notranslate"><span class="pre">AsyncSession.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.invalidate"><code class="docutils literal notranslate"><span class="pre">AsyncSession.invalidate()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.is_active"><code class="docutils literal notranslate"><span class="pre">AsyncSession.is_active</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.is_modified"><code class="docutils literal notranslate"><span class="pre">AsyncSession.is_modified()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.merge"><code class="docutils literal notranslate"><span class="pre">AsyncSession.merge()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.new"><code class="docutils literal notranslate"><span class="pre">AsyncSession.new</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.no_autoflush"><code class="docutils literal notranslate"><span class="pre">AsyncSession.no_autoflush</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.object_session"><code class="docutils literal notranslate"><span class="pre">AsyncSession.object_session()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh"><code class="docutils literal notranslate"><span class="pre">AsyncSession.refresh()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.reset"><code class="docutils literal notranslate"><span class="pre">AsyncSession.reset()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncSession.rollback()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalar"><code class="docutils literal notranslate"><span class="pre">AsyncSession.scalar()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars"><code class="docutils literal notranslate"><span class="pre">AsyncSession.scalars()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream"><code class="docutils literal notranslate"><span class="pre">AsyncSession.stream()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream_scalars"><code class="docutils literal notranslate"><span class="pre">AsyncSession.stream_scalars()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session"><code class="docutils literal notranslate"><span class="pre">AsyncSession.sync_session</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit"><code class="docutils literal notranslate"><span class="pre">AsyncSessionTransaction.commit()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback"><code class="docutils literal notranslate"><span class="pre">AsyncSessionTransaction.rollback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


            </ul>

        </div>



    <div id="docs-body" role="main" class="withsidebar orm-extensions-asyncio" >
        
<section id="asynchronous-i-o-asyncio">
<span id="asyncio-toplevel"></span><h1>Asynchronous I/O (asyncio)<a class="headerlink" href="#asynchronous-i-o-asyncio" title="Link to this heading">Â¶</a></h1>
<p>Support for Python asyncio.    Support for Core and ORM usage is
included, using asyncio-compatible dialects.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please read <a class="reference internal" href="#asyncio-install"><span class="std std-ref">Asyncio Platform Installation Notes (Including Apple M1)</span></a> for important platform
installation notes for many platforms, including <strong>Apple M1 Architecture</strong>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../changelog/migration_14.html#change-3414"><span class="std std-ref">Asynchronous IO Support for Core and ORM</span></a> - initial feature announcement</p>
<p><a class="reference internal" href="../examples.html#examples-asyncio"><span class="std std-ref">Asyncio Integration</span></a> - example scripts illustrating working examples
of Core and ORM use within the asyncio extension.</p>
</div>
<section id="asyncio-platform-installation-notes-including-apple-m1">
<span id="asyncio-install"></span><h2>Asyncio Platform Installation Notes (Including Apple M1)<a class="headerlink" href="#asyncio-platform-installation-notes-including-apple-m1" title="Link to this heading">Â¶</a></h2>
<p>The asyncio extension requires Python 3 only. It also depends
upon the <a class="reference external" href="https://pypi.org/project/greenlet/">greenlet</a> library. This
dependency is installed by default on common machine platforms including:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x86_64 aarch64 ppc64le amd64 win32</pre></div>
</div>
<p>For the above platforms, <code class="docutils literal notranslate"><span class="pre">greenlet</span></code> is known to supply pre-built wheel files.
For other platforms, <strong>greenlet does not install by default</strong>;
the current file listing for greenlet can be seen at
<a class="reference external" href="https://pypi.org/project/greenlet/#files">Greenlet - Download Files</a>.
Note that <strong>there are many architectures omitted, including Apple M1</strong>.</p>
<p>To install SQLAlchemy while ensuring the <code class="docutils literal notranslate"><span class="pre">greenlet</span></code> dependency is present
regardless of what platform is in use, the
<code class="docutils literal notranslate"><span class="pre">[asyncio]</span></code> <a class="reference external" href="https://packaging.python.org/en/latest/tutorials/installing-packages/#installing-setuptools-extras">setuptools extra</a>
may be installed
as follows, which will include also instruct <code class="docutils literal notranslate"><span class="pre">pip</span></code> to install <code class="docutils literal notranslate"><span class="pre">greenlet</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip install sqlalchemy[asyncio]</pre></div>
</div>
<p>Note that installation of <code class="docutils literal notranslate"><span class="pre">greenlet</span></code> on platforms that do not have a pre-built
wheel file means that <code class="docutils literal notranslate"><span class="pre">greenlet</span></code> will be built from source, which requires
that Pythonâs development libraries also be present.</p>
</section>
<section id="synopsis-core">
<h2>Synopsis - Core<a class="headerlink" href="#synopsis-core" title="Link to this heading">Â¶</a></h2>
<p>For Core use, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_engine" title="sqlalchemy.ext.asyncio.create_async_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_async_engine()</span></code></a> function creates an
instance of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> which then offers an async version of
the traditional <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> API.   The
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> delivers an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> via
its <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.connect" title="sqlalchemy.ext.asyncio.AsyncEngine.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncEngine.connect()</span></code></a> and <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.begin" title="sqlalchemy.ext.asyncio.AsyncEngine.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncEngine.begin()</span></code></a>
methods which both deliver asynchronous context managers.   The
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> can then invoke statements using either the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute" title="sqlalchemy.ext.asyncio.AsyncConnection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.execute()</span></code></a> method to deliver a buffered
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a>, or the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a> method
to deliver a streaming server-side <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a>:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">MetaData</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">String</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;t1&quot;</span><span class="p">,</span> <span class="n">meta</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>


<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">async_main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="go">...     engine = create_async_engine(&quot;sqlite+aiosqlite://&quot;, echo=True)</span>
<span class="go">...</span>
<span class="go">...     async with engine.begin() as conn:</span>
<span class="go">...         await conn.run_sync(meta.drop_all)</span>
<span class="go">...         await conn.run_sync(meta.create_all)</span>
<span class="go">...</span>
<span class="go">...         await conn.execute(</span>
<span class="go">...             t1.insert(), [{&quot;name&quot;: &quot;some name 1&quot;}, {&quot;name&quot;: &quot;some name 2&quot;}]</span>
<span class="go">...         )</span>
<span class="go">...</span>
<span class="go">...     async with engine.connect() as conn:</span>
<span class="go">...         # select a Result, which will be delivered with buffered</span>
<span class="go">...         # results</span>
<span class="go">...         result = await conn.execute(select(t1).where(t1.c.name == &quot;some name 1&quot;))</span>
<span class="go">...</span>
<span class="go">...         print(result.fetchall())</span>
<span class="go">...</span>
<span class="go">...     # for AsyncEngine created in function scope, close and</span>
<span class="go">...     # clean-up pooled connections</span>
<span class="go">...     await engine.dispose()</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">async_main</span><span class="p">())</span>
<div class='show_sql'><span class="k">BEGIN</span><span class="w"> </span><span class="p">(</span><span class="k">implicit</span><span class="p">)</span>
<span class="p">...</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">...</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="o">?</span><span class="p">)</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">[(</span><span class="s1">&#39;some name 1&#39;</span><span class="p">,),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;some name 2&#39;</span><span class="p">,)]</span>
<span class="k">COMMIT</span>
<span class="k">BEGIN</span><span class="w"> </span><span class="p">(</span><span class="k">implicit</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">name</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">t1</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;some name 1&#39;</span><span class="p">,)</span>
<span class="p">[(</span><span class="s1">&#39;some name 1&#39;</span><span class="p">,)]</span>
<span class="k">ROLLBACK</span>
</div></pre></div>
</div>
<p>Above, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync" title="sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a> method may be used to
invoke special DDL functions such as <a class="reference internal" href="../../core/metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a> that
donât include an awaitable hook.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Itâs advisable to invoke the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose" title="sqlalchemy.ext.asyncio.AsyncEngine.dispose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncEngine.dispose()</span></code></a> method
using <code class="docutils literal notranslate"><span class="pre">await</span></code> when using the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> object in a
scope that will go out of context and be garbage collected, as illustrated in the
<code class="docutils literal notranslate"><span class="pre">async_main</span></code> function in the above example.  This ensures that any
connections held open by the connection pool will be properly disposed
within an awaitable context.   Unlike when using blocking IO, SQLAlchemy
cannot properly dispose of these connections within methods like <code class="docutils literal notranslate"><span class="pre">__del__</span></code>
or weakref finalizers as there is no opportunity to invoke <code class="docutils literal notranslate"><span class="pre">await</span></code>.
Failing to explicitly dispose of the engine when it falls out of scope
may result in warnings emitted to standard out resembling the form
<code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">Event</span> <span class="pre">loop</span> <span class="pre">is</span> <span class="pre">closed</span></code> within garbage collection.</p>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> also features a âstreamingâ API via
the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a> method that returns an
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object.  This result object uses a server-side
cursor and provides an async/await API, such as an async iterator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">async_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">t1</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">async_result</span><span class="p">:</span>
        <span class="n">print</span><span class="p">(</span><span class="s2">&quot;row: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">row</span><span class="p">,))</span></pre></div>
</div>
</section>
<section id="synopsis-orm">
<span id="asyncio-orm"></span><h2>Synopsis - ORM<a class="headerlink" href="#synopsis-orm" title="Link to this heading">Â¶</a></h2>
<p>Using <a class="reference internal" href="../../glossary.html#term-2.0-style"><span class="xref std std-term">2.0 style</span></a> querying, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
provides full ORM functionality.</p>
<p>Within the default mode of use, special care must be taken to avoid <a class="reference internal" href="../../glossary.html#term-lazy-loading"><span class="xref std std-term">lazy
loading</span></a> or other expired-attribute access involving ORM relationships and
column attributes; the next section <a class="reference internal" href="#asyncio-orm-avoid-lazyloads"><span class="std std-ref">Preventing Implicit IO when Using AsyncSession</span></a> details
this.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A single instance of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is <strong>not safe for
use in multiple, concurrent tasks</strong>.  See the sections
<a class="reference internal" href="#asyncio-concurrency"><span class="std std-ref">Using AsyncSession with Concurrent Tasks</span></a> and <a class="reference internal" href="../session_basics.html#session-faq-threadsafe"><span class="std std-ref">Is the Session thread-safe?  Is AsyncSession safe to share in concurrent tasks?</span></a> for background.</p>
</div>
<p>The example below illustrates a complete example including mapper and session
configuration:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">ForeignKey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncAttrs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">async_sessionmaker</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncSession</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">DeclarativeBase</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Mapped</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">mapped_column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">relationship</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">selectinload</span>


<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Base</span><span class="p">(</span><span class="n">AsyncAttrs</span><span class="p">,</span> <span class="n">DeclarativeBase</span><span class="p">):</span>
<span class="go">...     pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="go">...     __tablename__ = &quot;b&quot;</span>
<span class="go">...</span>
<span class="go">...     id: Mapped[int] = mapped_column(primary_key=True)</span>
<span class="go">...     a_id: Mapped[int] = mapped_column(ForeignKey(&quot;a.id&quot;))</span>
<span class="go">...     data: Mapped[str]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="go">...     __tablename__ = &quot;a&quot;</span>
<span class="go">...</span>
<span class="go">...     id: Mapped[int] = mapped_column(primary_key=True)</span>
<span class="go">...     data: Mapped[str]</span>
<span class="go">...     create_date: Mapped[datetime.datetime] = mapped_column(server_default=func.now())</span>
<span class="go">...     bs: Mapped[List[B]] = relationship()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">insert_objects</span><span class="p">(</span><span class="n">async_session</span><span class="p">:</span> <span class="n">async_sessionmaker</span><span class="p">[</span><span class="n">AsyncSession</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="go">...     async with async_session() as session:</span>
<span class="go">...         async with session.begin():</span>
<span class="go">...             session.add_all(</span>
<span class="go">...                 [</span>
<span class="go">...                     A(bs=[B(data=&quot;b1&quot;), B(data=&quot;b2&quot;)], data=&quot;a1&quot;),</span>
<span class="go">...                     A(bs=[], data=&quot;a2&quot;),</span>
<span class="go">...                     A(bs=[B(data=&quot;b3&quot;), B(data=&quot;b4&quot;)], data=&quot;a3&quot;),</span>
<span class="go">...                 ]</span>
<span class="go">...             )</span>


<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">select_and_update_objects</span><span class="p">(</span>
<span class="go">...     async_session: async_sessionmaker[AsyncSession],</span>
<span class="go">... ) -&gt; None:</span>
<span class="go">...     async with async_session() as session:</span>
<span class="go">...         stmt = select(A).order_by(A.id).options(selectinload(A.bs))</span>
<span class="go">...</span>
<span class="go">...         result = await session.execute(stmt)</span>
<span class="go">...</span>
<span class="go">...         for a in result.scalars():</span>
<span class="go">...             print(a, a.data)</span>
<span class="go">...             print(f&quot;created at: {a.create_date}&quot;)</span>
<span class="go">...             for b in a.bs:</span>
<span class="go">...                 print(b, b.data)</span>
<span class="go">...</span>
<span class="go">...         result = await session.execute(select(A).order_by(A.id).limit(1))</span>
<span class="go">...</span>
<span class="go">...         a1 = result.scalars().one()</span>
<span class="go">...</span>
<span class="go">...         a1.data = &quot;new data&quot;</span>
<span class="go">...</span>
<span class="go">...         await session.commit()</span>
<span class="go">...</span>
<span class="go">...         # access attribute subsequent to commit; this is what</span>
<span class="go">...         # expire_on_commit=False allows</span>
<span class="go">...         print(a1.data)</span>
<span class="go">...</span>
<span class="go">...         # alternatively, AsyncAttrs may be used to access any attribute</span>
<span class="go">...         # as an awaitable (new in 2.0.13)</span>
<span class="go">...         for b1 in await a1.awaitable_attrs.bs:</span>
<span class="go">...             print(b1, b1.data)</span>


<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">async_main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="go">...     engine = create_async_engine(&quot;sqlite+aiosqlite://&quot;, echo=True)</span>
<span class="go">...</span>
<span class="go">...     # async_sessionmaker: a factory for new AsyncSession objects.</span>
<span class="go">...     # expire_on_commit - don&#39;t expire objects after transaction commit</span>
<span class="go">...     async_session = async_sessionmaker(engine, expire_on_commit=False)</span>
<span class="go">...</span>
<span class="go">...     async with engine.begin() as conn:</span>
<span class="go">...         await conn.run_sync(Base.metadata.create_all)</span>
<span class="go">...</span>
<span class="go">...     await insert_objects(async_session)</span>
<span class="go">...     await select_and_update_objects(async_session)</span>
<span class="go">...</span>
<span class="go">...     # for AsyncEngine created in function scope, close and</span>
<span class="go">...     # clean-up pooled connections</span>
<span class="go">...     await engine.dispose()</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">async_main</span><span class="p">())</span>
<div class='show_sql'><span class="k">BEGIN</span><span class="w"> </span><span class="p">(</span><span class="k">implicit</span><span class="p">)</span>
<span class="p">...</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">data</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">create_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="p">(</span><span class="k">CURRENT_TIMESTAMP</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">...</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">a_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">data</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">a_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">...</span>
<span class="k">COMMIT</span>
<span class="k">BEGIN</span><span class="w"> </span><span class="p">(</span><span class="k">implicit</span><span class="p">)</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">(</span><span class="k">data</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="o">?</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNING</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">create_date</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;a1&#39;</span><span class="p">,)</span>
<span class="p">...</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span><span class="n">a_id</span><span class="p">,</span><span class="w"> </span><span class="k">data</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNING</span><span class="w"> </span><span class="n">id</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b2&#39;</span><span class="p">)</span>
<span class="p">...</span>
<span class="k">COMMIT</span>
<span class="k">BEGIN</span><span class="w"> </span><span class="p">(</span><span class="k">implicit</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">create_date</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">()</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">a_id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">b_a_id</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">b_id</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="k">data</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">b_data</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">b</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">a_id</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">A</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a1</span>
<span class="n">created</span><span class="w"> </span><span class="k">at</span><span class="p">:</span><span class="w"> </span><span class="p">...</span>
<span class="o">&lt;</span><span class="n">B</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b1</span>
<span class="o">&lt;</span><span class="n">B</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b2</span>
<span class="o">&lt;</span><span class="n">A</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a2</span>
<span class="n">created</span><span class="w"> </span><span class="k">at</span><span class="p">:</span><span class="w"> </span><span class="p">...</span>
<span class="o">&lt;</span><span class="n">A</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a3</span>
<span class="n">created</span><span class="w"> </span><span class="k">at</span><span class="p">:</span><span class="w"> </span><span class="p">...</span>
<span class="o">&lt;</span><span class="n">B</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b3</span>
<span class="o">&lt;</span><span class="n">B</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b4</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">create_date</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="k">OFFSET</span><span class="w"> </span><span class="o">?</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="k">UPDATE</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">data</span><span class="o">=?</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span>
<span class="p">[...]</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;new data&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="k">COMMIT</span>
<span class="k">new</span><span class="w"> </span><span class="k">data</span>
<span class="o">&lt;</span><span class="n">B</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b1</span>
<span class="o">&lt;</span><span class="n">B</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b2</span>
</div></pre><div class="code-annotations-key"></div></div>
</div>
<p>In the example above, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is instantiated using
the optional <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a> helper, which provides
a factory for new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> objects with a fixed set
of parameters, which here includes associating it with
an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> against particular database URL. It is then
passed to other methods where it may be used in a Python asynchronous context
manager (i.e. <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with:</span></code> statement) so that it is automatically closed at
the end of the block; this is equivalent to calling the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a> method.</p>
<section id="using-asyncsession-with-concurrent-tasks">
<span id="asyncio-concurrency"></span><h3>Using AsyncSession with Concurrent Tasks<a class="headerlink" href="#using-asyncsession-with-concurrent-tasks" title="Link to this heading">Â¶</a></h3>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> object is a <strong>mutable, stateful object</strong>
which represents a <strong>single, stateful database transaction in progress</strong>. Using
concurrent tasks with asyncio, with APIs such as <code class="docutils literal notranslate"><span class="pre">asyncio.gather()</span></code> for
example, should use a <strong>separate</strong> <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> <strong>per individual
task</strong>.</p>
<p>See the section <a class="reference internal" href="../session_basics.html#session-faq-threadsafe"><span class="std std-ref">Is the Session thread-safe?  Is AsyncSession safe to share in concurrent tasks?</span></a> for a general description of
the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> and <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> with regards to
how they should be used with concurrent workloads.</p>
</section>
<section id="preventing-implicit-io-when-using-asyncsession">
<span id="asyncio-orm-avoid-lazyloads"></span><h3>Preventing Implicit IO when Using AsyncSession<a class="headerlink" href="#preventing-implicit-io-when-using-asyncsession" title="Link to this heading">Â¶</a></h3>
<p>Using traditional asyncio, the application needs to avoid any points at which
IO-on-attribute access may occur.   Techniques that can be used to help
this are below, many of which are illustrated in the preceding example.</p>
<ul>
<li><p>Attributes that are lazy-loading relationships, deferred columns or
expressions, or are being accessed in expiration scenarios can take advantage
of the  <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="sqlalchemy.ext.asyncio.AsyncAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a> mixin.  This mixin, when added to a
specific class or more generally to the Declarative <code class="docutils literal notranslate"><span class="pre">Base</span></code> superclass,
provides an accessor <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs" title="sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncAttrs.awaitable_attrs</span></code></a>
which delivers any attribute as an awaitable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncAttrs</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">DeclarativeBase</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Mapped</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">relationship</span>


<span class="k">class</span> <span class="nc">Base</span><span class="p">(</span><span class="n">AsyncAttrs</span><span class="p">,</span> <span class="n">DeclarativeBase</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span>

    <span class="c1"># ... rest of mapping ...</span>

    <span class="n">bs</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">B</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;b&quot;</span>

    <span class="c1"># ... rest of mapping ...</span></pre><div class="code-annotations-key"></div></div>
</div>
<p>Accessing the <code class="docutils literal notranslate"><span class="pre">A.bs</span></code> collection on newly loaded instances of <code class="docutils literal notranslate"><span class="pre">A</span></code> when
eager loading is not in use will normally use <a class="reference internal" href="../../glossary.html#term-lazy-loading"><span class="xref std std-term">lazy loading</span></a>, which in
order to succeed will usually emit IO to the database, which will fail under
asyncio as no implicit IO is allowed. To access this attribute directly under
asyncio without any prior loading operations, the attribute can be accessed
as an awaitable by indicating the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs" title="sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncAttrs.awaitable_attrs</span></code></a>
prefix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">scalars</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">)))</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
<span class="k">for</span> <span class="n">b1</span> <span class="ow">in</span> <span class="k">await</span> <span class="n">a1</span><span class="o">.</span><span class="n">awaitable_attrs</span><span class="o">.</span><span class="n">bs</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="sqlalchemy.ext.asyncio.AsyncAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a> mixin provides a succinct facade over the
internal approach thatâs also used by the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a> method.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.13.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="sqlalchemy.ext.asyncio.AsyncAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a></p>
</div>
</li>
<li><p>Collections can be replaced with <strong>write only collections</strong> that will never
emit IO implicitly, by using the <a class="reference internal" href="../large_collections.html#write-only-relationship"><span class="std std-ref">Write Only Relationships</span></a> feature in
SQLAlchemy 2.0. Using this feature, collections are never read from, only
queried using explicit SQL calls.  See the example
<code class="docutils literal notranslate"><span class="pre">async_orm_writeonly.py</span></code> in the <a class="reference internal" href="../examples.html#examples-asyncio"><span class="std std-ref">Asyncio Integration</span></a> section for
an example of write-only collections used with asyncio.</p>
<p>When using write only collections, the programâs behavior is simple and easy
to predict regarding collections. However, the downside is that there is not
any built-in system for loading many of these collections all at once, which
instead would need to be performed manually.  Therefore, many of the
bullets below address specific techniques when using traditional lazy-loaded
relationships with asyncio, which requires more care.</p>
</li>
<li><p>If not using <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="sqlalchemy.ext.asyncio.AsyncAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a>, relationships can be declared
with <code class="docutils literal notranslate"><span class="pre">lazy=&quot;raise&quot;</span></code> so that by default they will not attempt to emit SQL.
In order to load collections, <a class="reference internal" href="../../glossary.html#term-eager-loading"><span class="xref std std-term">eager loading</span></a> would be used instead.</p></li>
<li><p>The most useful eager loading strategy is the
<a class="reference internal" href="../queryguide/relationships.html#sqlalchemy.orm.selectinload" title="sqlalchemy.orm.selectinload"><code class="xref py py-func docutils literal notranslate"><span class="pre">selectinload()</span></code></a> eager loader, which is employed in the previous
example in order to eagerly
load the <code class="docutils literal notranslate"><span class="pre">A.bs</span></code> collection within the scope of the
<code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">session.execute()</span></code> call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">selectinload</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">bs</span><span class="p">))</span></pre></div>
</div>
</li>
<li><p>When constructing new objects, <strong>collections are always assigned a default,
empty collection</strong>, such as a list in the above example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">(</span><span class="n">bs</span><span class="o">=</span><span class="p">[],</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;a2&quot;</span><span class="p">)</span></pre></div>
</div>
<p>This allows the <code class="docutils literal notranslate"><span class="pre">.bs</span></code> collection on the above <code class="docutils literal notranslate"><span class="pre">A</span></code> object to be present and
readable when the <code class="docutils literal notranslate"><span class="pre">A</span></code> object is flushed; otherwise, when the <code class="docutils literal notranslate"><span class="pre">A</span></code> is
flushed, <code class="docutils literal notranslate"><span class="pre">.bs</span></code> would be unloaded and would raise an error on access.</p>
</li>
<li><p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is configured using
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.params.expire_on_commit" title="sqlalchemy.orm.Session"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Session.expire_on_commit</span></code></a> set to False, so that we may access
attributes on an object subsequent to a call to
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.commit" title="sqlalchemy.ext.asyncio.AsyncSession.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.commit()</span></code></a>, as in the line at the end where we
access an attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create AsyncSession with expire_on_commit=False</span>
<span class="n">async_session</span> <span class="o">=</span> <span class="n">AsyncSession</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># sessionmaker version</span>
<span class="n">async_session</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">async_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

    <span class="n">a1</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">scalars</span><span class="p">()</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="c1"># commit would normally expire all attributes</span>
    <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># access attribute subsequent to commit; this is what</span>
    <span class="c1"># expire_on_commit=False allows</span>
    <span class="n">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></pre></div>
</div>
</li>
</ul>
<p>Other guidelines include:</p>
<ul>
<li><p>Methods like <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire" title="sqlalchemy.ext.asyncio.AsyncSession.expire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.expire()</span></code></a> should be avoided in favor of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh" title="sqlalchemy.ext.asyncio.AsyncSession.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.refresh()</span></code></a>; <strong>if</strong> expiration is absolutely needed.
Expiration should generally <strong>not</strong> be needed as
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.params.expire_on_commit" title="sqlalchemy.orm.Session"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Session.expire_on_commit</span></code></a>
should normally be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> when using asyncio.</p></li>
<li><p>A lazy-loaded relationship <strong>can be loaded explicitly under asyncio</strong> using
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh" title="sqlalchemy.ext.asyncio.AsyncSession.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.refresh()</span></code></a>, <strong>if</strong> the desired attribute name
is passed explicitly to
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh.params.attribute_names" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Session.refresh.attribute_names</span></code></a>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># assume a_obj is an A that has lazy loaded A.bs collection</span>
<span class="n">a_obj</span> <span class="o">=</span> <span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># force the collection to load by naming it in attribute_names</span>
<span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">a_obj</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;bs&quot;</span><span class="p">])</span>

<span class="c1"># collection is present</span>
<span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bs collection: </span><span class="si">{</span><span class="n">a_obj</span><span class="o">.</span><span class="n">bs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Itâs of course preferable to use eager loading up front in order to have
collections already set up without the need to lazy-load.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.4: </span>Added support for
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh" title="sqlalchemy.ext.asyncio.AsyncSession.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.refresh()</span></code></a> and the underlying
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a> method to force lazy-loaded relationships
to load, if they are named explicitly in the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh.params.attribute_names" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Session.refresh.attribute_names</span></code></a> parameter.
In previous versions, the relationship would be silently skipped even
if named in the parameter.</p>
</div>
</li>
<li><p>Avoid using the <code class="docutils literal notranslate"><span class="pre">all</span></code> cascade option documented at <a class="reference internal" href="../cascades.html#unitofwork-cascades"><span class="std std-ref">Cascades</span></a>
in favor of listing out the desired cascade features explicitly.   The
<code class="docutils literal notranslate"><span class="pre">all</span></code> cascade option implies among others the <a class="reference internal" href="../cascades.html#cascade-refresh-expire"><span class="std std-ref">refresh-expire</span></a>
setting, which means that the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh" title="sqlalchemy.ext.asyncio.AsyncSession.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.refresh()</span></code></a> method will
expire the attributes on related objects, but not necessarily refresh those
related objects assuming eager loading is not configured within the
<a class="reference internal" href="../relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>, leaving them in an expired state.</p></li>
<li><p>Appropriate loader options should be employed for <a class="reference internal" href="../queryguide/columns.html#sqlalchemy.orm.deferred" title="sqlalchemy.orm.deferred"><code class="xref py py-func docutils literal notranslate"><span class="pre">deferred()</span></code></a>
columns, if used at all, in addition to that of <a class="reference internal" href="../relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>
constructs as noted above.  See <a class="reference internal" href="../queryguide/columns.html#orm-queryguide-column-deferral"><span class="std std-ref">Limiting which Columns Load with Column Deferral</span></a> for
background on deferred column loading.</p></li>
</ul>
<ul id="dynamic-asyncio">
<li><p>The âdynamicâ relationship loader strategy described at
<a class="reference internal" href="../large_collections.html#dynamic-relationship"><span class="std std-ref">Dynamic Relationship Loaders</span></a> is not compatible by default with the asyncio approach.
It can be used directly only if invoked within the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a> method described at
<a class="reference internal" href="#session-run-sync"><span class="std std-ref">Running Synchronous Methods and Functions under asyncio</span></a>, or by using its <code class="docutils literal notranslate"><span class="pre">.statement</span></code> attribute
to obtain a normal select:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="n">addresses</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">scalars</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">addresses</span><span class="o">.</span><span class="n">statement</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">addresses</span><span class="o">.</span><span class="n">statement</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email_address</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;patrick&quot;</span><span class="p">))</span>
<span class="n">addresses_filter</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">scalars</span><span class="p">(</span><span class="n">stmt</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span></pre></div>
</div>
<p>The <a class="reference internal" href="../large_collections.html#write-only-relationship"><span class="std std-ref">write only</span></a> technique, introduced in
version 2.0 of SQLAlchemy, is fully compatible with asyncio and should be
preferred.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../changelog/migration_20.html#migration-20-dynamic-loaders"><span class="std std-ref">âDynamicâ relationship loaders superseded by âWrite Onlyâ</span></a> - notes on migration to 2.0 style</p>
</div>
</li>
<li><p>If using asyncio with a database that does not support RETURNING, such as
MySQL 8, server default values such as generated timestamps will not be
available on newly flushed objects unless the
<a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.Mapper.params.eager_defaults" title="sqlalchemy.orm.Mapper"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Mapper.eager_defaults</span></code></a> option is used. In SQLAlchemy 2.0,
this behavior is applied automatically to backends like PostgreSQL, SQLite
and MariaDB which use RETURNING to fetch new values when rows are
INSERTed.</p></li>
</ul>
</section>
<section id="running-synchronous-methods-and-functions-under-asyncio">
<span id="session-run-sync"></span><h3>Running Synchronous Methods and Functions under asyncio<a class="headerlink" href="#running-synchronous-methods-and-functions-under-asyncio" title="Link to this heading">Â¶</a></h3>
<div class="admonition deepalchemy">
<p class="admonition-title">Deep Alchemy</p>
<p>This approach is essentially exposing publicly the
mechanism by which SQLAlchemy is able to provide the asyncio interface
in the first place.   While there is no technical issue with doing so, overall
the approach can probably be considered âcontroversialâ as it works against
some of the central philosophies of the asyncio programming model, which
is essentially that any programming statement that can potentially result
in IO being invoked <strong>must</strong> have an <code class="docutils literal notranslate"><span class="pre">await</span></code> call, lest the program
does not make it explicitly clear every line at which IO may occur.
This approach does not change that general idea, except that it allows
a series of synchronous IO instructions to be exempted from this rule
within the scope of a function call, essentially bundled up into a single
awaitable.</p>
</div>
<p>As an alternative means of integrating traditional SQLAlchemy âlazy loadingâ
within an asyncio event loop, an <strong>optional</strong> method known as
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a> is provided which will run any
Python function inside of a greenlet, where traditional synchronous
programming concepts will be translated to use <code class="docutils literal notranslate"><span class="pre">await</span></code> when they reach the
database driver.   A hypothetical approach here is an asyncio-oriented
application can package up database-related methods into functions that are
invoked using <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a>.</p>
<p>Altering the above example, if we didnât use <a class="reference internal" href="../queryguide/relationships.html#sqlalchemy.orm.selectinload" title="sqlalchemy.orm.selectinload"><code class="xref py py-func docutils literal notranslate"><span class="pre">selectinload()</span></code></a>
for the <code class="docutils literal notranslate"><span class="pre">A.bs</span></code> collection, we could accomplish our treatment of these
attribute accesses within a separate function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncSession</span><span class="p">,</span> <span class="n">create_async_engine</span>


<span class="k">def</span> <span class="nf">fetch_and_update_objects</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;run traditional sync-style ORM code in a function that will be</span>
<span class="sd">    invoked within an awaitable.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># the session object here is a traditional ORM Session.</span>
    <span class="c1"># all features are available here including legacy Query use.</span>

    <span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">a1</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">scalars</span><span class="p">():</span>
        <span class="n">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>

        <span class="c1"># lazy loads</span>
        <span class="k">for</span> <span class="n">b1</span> <span class="ow">in</span> <span class="n">a1</span><span class="o">.</span><span class="n">bs</span><span class="p">:</span>
            <span class="n">print</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span>

    <span class="c1"># legacy Query use</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="n">a1</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;new data&quot;</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">async_main</span><span class="p">():</span>
    <span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span>
        <span class="s2">&quot;postgresql+asyncpg://scott:tiger@localhost/test&quot;</span><span class="p">,</span>
        <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">drop_all</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncSession</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">begin</span><span class="p">():</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add_all</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">A</span><span class="p">(</span><span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="n">B</span><span class="p">(),</span> <span class="n">B</span><span class="p">()],</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;a1&quot;</span><span class="p">),</span>
                    <span class="n">A</span><span class="p">(</span><span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="n">B</span><span class="p">()],</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;a2&quot;</span><span class="p">),</span>
                    <span class="n">A</span><span class="p">(</span><span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="n">B</span><span class="p">(),</span> <span class="n">B</span><span class="p">()],</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;a3&quot;</span><span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">fetch_and_update_objects</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># for AsyncEngine created in function scope, close and</span>
    <span class="c1"># clean-up pooled connections</span>
    <span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>


<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">async_main</span><span class="p">())</span></pre></div>
</div>
<p>The above approach of running certain functions within a âsyncâ runner
has some parallels to an application that runs a SQLAlchemy application
on top of an event-based programming library such as <code class="docutils literal notranslate"><span class="pre">gevent</span></code>.  The
differences are as follows:</p>
<ol class="arabic simple">
<li><p>unlike when using <code class="docutils literal notranslate"><span class="pre">gevent</span></code>, we can continue to use the standard Python
asyncio event loop, or any custom event loop, without the need to integrate
into the <code class="docutils literal notranslate"><span class="pre">gevent</span></code> event loop.</p></li>
<li><p>There is no âmonkeypatchingâ whatsoever.   The above example makes use of
a real asyncio driver and the underlying SQLAlchemy connection pool is also
using the Python built-in <code class="docutils literal notranslate"><span class="pre">asyncio.Queue</span></code> for pooling connections.</p></li>
<li><p>The program can freely switch between async/await code and contained
functions that use sync code with virtually no performance penalty.  There
is no âthread executorâ or any additional waiters or synchronization in use.</p></li>
<li><p>The underlying network drivers are also using pure Python asyncio
concepts, no third party networking libraries as <code class="docutils literal notranslate"><span class="pre">gevent</span></code> and <code class="docutils literal notranslate"><span class="pre">eventlet</span></code>
provides are in use.</p></li>
</ol>
</section>
</section>
<section id="using-events-with-the-asyncio-extension">
<span id="asyncio-events"></span><h2>Using events with the asyncio extension<a class="headerlink" href="#using-events-with-the-asyncio-extension" title="Link to this heading">Â¶</a></h2>
<p>The SQLAlchemy <a class="reference internal" href="../../core/event.html"><span class="std std-ref">event system</span></a> is not directly exposed
by the asyncio extension, meaning there is not yet an âasyncâ version of a
SQLAlchemy event handler.</p>
<p>However, as the asyncio extension surrounds the usual synchronous SQLAlchemy
API, regular âsynchronousâ style event handlers are freely available as they
would be if asyncio were not used.</p>
<p>As detailed below, there are two current strategies to register events given
asyncio-facing APIs:</p>
<ul>
<li><p>Events can be registered at the instance level (e.g. a specific
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> instance) by associating the event with the
<code class="docutils literal notranslate"><span class="pre">sync</span></code> attribute that refers to the proxied object. For example to register
the <a class="reference internal" href="../../core/events.html#sqlalchemy.events.PoolEvents.connect" title="sqlalchemy.events.PoolEvents.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PoolEvents.connect()</span></code></a> event against an
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> instance, use its
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine" title="sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a> attribute as target. Targets
include:</p>
<blockquote>
<div><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine" title="sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_connection" title="sqlalchemy.ext.asyncio.AsyncConnection.sync_connection"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncConnection.sync_connection</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_engine" title="sqlalchemy.ext.asyncio.AsyncConnection.sync_engine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncConnection.sync_engine</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session" title="sqlalchemy.ext.asyncio.AsyncSession.sync_session"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncSession.sync_session</span></code></a></p>
</div></blockquote>
</li>
<li><p>To register an event at the class level, targeting all instances of the same type (e.g.
all <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> instances), use the corresponding
sync-style class. For example to register the
<a class="reference internal" href="../events.html#sqlalchemy.orm.SessionEvents.before_commit" title="sqlalchemy.orm.SessionEvents.before_commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionEvents.before_commit()</span></code></a> event against the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class, use the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class as
the target.</p></li>
<li><p>To register at the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> level, combine an explicit
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> with an <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a>
using <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.params.sync_session_class" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">async_sessionmaker.sync_session_class</span></code></a>, and
associate events with the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a>.</p></li>
</ul>
<p>When working within an event handler that is within an asyncio context, objects
like the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> continue to work in their usual
âsynchronousâ way without requiring <code class="docutils literal notranslate"><span class="pre">await</span></code> or <code class="docutils literal notranslate"><span class="pre">async</span></code> usage; when messages
are ultimately received by the asyncio database adapter, the calling style is
transparently adapted back into the asyncio calling style.  For events that
are passed a DBAPI level connection, such as <a class="reference internal" href="../../core/events.html#sqlalchemy.events.PoolEvents.connect" title="sqlalchemy.events.PoolEvents.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PoolEvents.connect()</span></code></a>,
the object is a <a class="reference internal" href="../../glossary.html#term-pep-249"><span class="xref std std-term">pep-249</span></a> compliant âconnectionâ object which will adapt
sync-style calls into the asyncio driver.</p>
<section id="examples-of-event-listeners-with-async-engines-sessions-sessionmakers">
<h3>Examples of Event Listeners with Async Engines / Sessions / Sessionmakers<a class="headerlink" href="#examples-of-event-listeners-with-async-engines-sessions-sessionmakers" title="Link to this heading">Â¶</a></h3>
<p>Some examples of sync style event handlers associated with async-facing API
constructs are illustrated below:</p>
<ul>
<li><p><strong>Core Events on AsyncEngine</strong></p>
<p>In this example, we access the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine" title="sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a>
attribute of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> as the target for
<a class="reference internal" href="../../core/events.html#sqlalchemy.events.ConnectionEvents" title="sqlalchemy.events.ConnectionEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionEvents</span></code></a> and <a class="reference internal" href="../../core/events.html#sqlalchemy.events.PoolEvents" title="sqlalchemy.events.PoolEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">PoolEvents</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">event</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">text</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+asyncpg://scott:tiger@localhost:5432/test&quot;</span><span class="p">)</span>


<span class="c1"># connect event on instance of Engine</span>
<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">engine</span><span class="o">.</span><span class="n">sync_engine</span><span class="p">,</span> <span class="s2">&quot;connect&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_on_connect</span><span class="p">(</span><span class="n">dbapi_con</span><span class="p">,</span> <span class="n">connection_record</span><span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="s2">&quot;New DBAPI connection:&quot;</span><span class="p">,</span> <span class="n">dbapi_con</span><span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">dbapi_con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># sync style API use for adapted DBAPI connection / cursor</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;execute from event&#39;&quot;</span><span class="p">)</span>
    <span class="n">print</span><span class="p">(</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>


<span class="c1"># before_execute event on all Engine instances</span>
<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">Engine</span><span class="p">,</span> <span class="s2">&quot;before_execute&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_before_execute</span><span class="p">(</span>
    <span class="n">conn</span><span class="p">,</span>
    <span class="n">clauseelement</span><span class="p">,</span>
    <span class="n">multiparams</span><span class="p">,</span>
    <span class="n">params</span><span class="p">,</span>
    <span class="n">execution_options</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="s2">&quot;before execute!&quot;</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">go</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;select 1&quot;</span><span class="p">))</span>
    <span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>


<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">go</span><span class="p">())</span></pre></div>
</div>
<p>Output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>New DBAPI connection: &lt;AdaptedConnection &lt;asyncpg.connection.Connection object at 0x7f33f9b16960&gt;&gt;
execute from event
before execute!</pre></div>
</div>
</li>
<li><p><strong>ORM Events on AsyncSession</strong></p>
<p>In this example, we access <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session" title="sqlalchemy.ext.asyncio.AsyncSession.sync_session"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncSession.sync_session</span></code></a> as the
target for <a class="reference internal" href="../events.html#sqlalchemy.orm.SessionEvents" title="sqlalchemy.orm.SessionEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionEvents</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">event</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">text</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncSession</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+asyncpg://scott:tiger@localhost:5432/test&quot;</span><span class="p">)</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">AsyncSession</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>


<span class="c1"># before_commit event on instance of Session</span>
<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">sync_session</span><span class="p">,</span> <span class="s2">&quot;before_commit&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_before_commit</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="s2">&quot;before commit!&quot;</span><span class="p">)</span>

    <span class="c1"># sync style API use on Session</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">connection</span><span class="p">()</span>

    <span class="c1"># sync style API use on Connection</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;select &#39;execute from event&#39;&quot;</span><span class="p">))</span>
    <span class="n">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">first</span><span class="p">())</span>


<span class="c1"># after_commit event on all Session instances</span>
<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">Session</span><span class="p">,</span> <span class="s2">&quot;after_commit&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_after_commit</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="s2">&quot;after commit!&quot;</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">go</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;select 1&quot;</span><span class="p">))</span>
    <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>


<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">go</span><span class="p">())</span></pre></div>
</div>
<p>Output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>before commit!
execute from event
after commit!</pre></div>
</div>
</li>
<li><p><strong>ORM Events on async_sessionmaker</strong></p>
<p>For this use case, we make a <a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> as the event target,
then assign it to the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a> using
the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.params.sync_session_class" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">async_sessionmaker.sync_session_class</span></code></a> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">event</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">async_sessionmaker</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">sessionmaker</span>

<span class="n">sync_maker</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">()</span>
<span class="n">maker</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span><span class="n">sync_session_class</span><span class="o">=</span><span class="n">sync_maker</span><span class="p">)</span>


<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">sync_maker</span><span class="p">,</span> <span class="s2">&quot;before_commit&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">before_commit</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="s2">&quot;before commit&quot;</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">async_session</span> <span class="o">=</span> <span class="n">maker</span><span class="p">()</span>

    <span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>


<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span></pre></div>
</div>
<p>Output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>before commit</pre></div>
</div>
</li>
</ul>
<aside class="topic">
<p class="topic-title">asyncio and events, two opposites</p>
<p>SQLAlchemy events by their nature take place within the <strong>interior</strong> of a
particular SQLAlchemy process; that is, an event always occurs <em>after</em> some
particular SQLAlchemy API has been invoked by end-user code, and <em>before</em>
some other internal aspect of that API occurs.</p>
<p>Contrast this to the architecture of the asyncio extension, which takes
place on the <strong>exterior</strong> of SQLAlchemyâs usual flow from end-user API to
DBAPI function.</p>
<p>The flow of messaging may be visualized as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> SQLAlchemy    SQLAlchemy        SQLAlchemy          SQLAlchemy   plain
  asyncio      asyncio           ORM/Core            asyncio      asyncio
  (public      (internal)                            (internal)
  facing)
-------------|------------|------------------------|-----------|------------
asyncio API  |            |                        |           |
call  -&gt;     |            |                        |           |
             |  -&gt;  -&gt;    |                        |  -&gt;  -&gt;   |
             |~~~~~~~~~~~~| sync API call -&gt;       |~~~~~~~~~~~|
             | asyncio    |  event hooks -&gt;        | sync      |
             | to         |   invoke action -&gt;     | to        |
             | sync       |    event hooks -&gt;      | asyncio   |
             | (greenlet) |     dialect -&gt;         | (leave    |
             |~~~~~~~~~~~~|      event hooks -&gt;    | greenlet) |
             |  -&gt;  -&gt;    |       sync adapted     |~~~~~~~~~~~|
             |            |               DBAPI -&gt; |  -&gt;  -&gt;   | asyncio
             |            |                        |           | driver -&gt; database</pre></div>
</div>
<p>Where above, an API call always starts as asyncio, flows through the
synchronous API, and ends as asyncio, before results are propagated through
this same chain in the opposite direction. In between, the message is
adapted first into sync-style API use, and then back out to async style.
Event hooks then by their nature occur in the middle of the âsync-style API
useâ.  From this it follows that the API presented within event hooks
occurs inside the process by which asyncio API requests have been adapted
to sync, and outgoing messages to the database API will be converted
to asyncio transparently.</p>
</aside>
</section>
<section id="using-awaitable-only-driver-methods-in-connection-pool-and-other-events">
<span id="asyncio-events-run-async"></span><h3>Using awaitable-only driver methods in connection pool and other events<a class="headerlink" href="#using-awaitable-only-driver-methods-in-connection-pool-and-other-events" title="Link to this heading">Â¶</a></h3>
<p>As discussed in the above section, event handlers such as those oriented
around the <a class="reference internal" href="../../core/events.html#sqlalchemy.events.PoolEvents" title="sqlalchemy.events.PoolEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">PoolEvents</span></code></a> event handlers receive a sync-style âDBAPIâ connection,
which is a wrapper object supplied by SQLAlchemy asyncio dialects to adapt
the underlying asyncio âdriverâ connection into one that can be used by
SQLAlchemyâs internals.    A special use case arises when the user-defined
implementation for such an event handler needs to make use of the
ultimate âdriverâ connection directly, using awaitable only methods on that
driver connection.  One such example is the <code class="docutils literal notranslate"><span class="pre">.set_type_codec()</span></code> method
supplied by the asyncpg driver.</p>
<p>To accommodate this use case, SQLAlchemyâs <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection" title="sqlalchemy.engine.AdaptedConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdaptedConnection</span></code></a>
class provides a method <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection.run_async" title="sqlalchemy.engine.AdaptedConnection.run_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AdaptedConnection.run_async()</span></code></a> that allows
an awaitable function to be invoked within the âsynchronousâ context of
an event handler or other SQLAlchemy internal.  This method is directly
analogous to the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync" title="sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a> method that
allows a sync-style method to run under async.</p>
<p><a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection.run_async" title="sqlalchemy.engine.AdaptedConnection.run_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AdaptedConnection.run_async()</span></code></a> should be passed a function that will
accept the innermost âdriverâ connection as a single argument, and return
an awaitable that will be invoked by the <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection.run_async" title="sqlalchemy.engine.AdaptedConnection.run_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AdaptedConnection.run_async()</span></code></a>
method.  The given function itself does not need to be declared as <code class="docutils literal notranslate"><span class="pre">async</span></code>;
itâs perfectly fine for it to be a Python <code class="docutils literal notranslate"><span class="pre">lambda:</span></code>, as the return awaitable
value will be invoked after being returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">event</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>


<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">engine</span><span class="o">.</span><span class="n">sync_engine</span><span class="p">,</span> <span class="s2">&quot;connect&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">register_custom_types</span><span class="p">(</span><span class="n">dbapi_connection</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">dbapi_connection</span><span class="o">.</span><span class="n">run_async</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">connection</span><span class="p">:</span> <span class="n">connection</span><span class="o">.</span><span class="n">set_type_codec</span><span class="p">(</span>
            <span class="s2">&quot;MyCustomType&quot;</span><span class="p">,</span>
            <span class="n">encoder</span><span class="p">,</span>
            <span class="n">decoder</span><span class="p">,</span>  <span class="c1"># ...</span>
        <span class="p">)</span>
    <span class="p">)</span></pre></div>
</div>
<p>Above, the object passed to the <code class="docutils literal notranslate"><span class="pre">register_custom_types</span></code> event handler
is an instance of <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection" title="sqlalchemy.engine.AdaptedConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdaptedConnection</span></code></a>, which provides a DBAPI-like
interface to an underlying async-only driver-level connection object.
The <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection.run_async" title="sqlalchemy.engine.AdaptedConnection.run_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AdaptedConnection.run_async()</span></code></a> method then provides access to an
awaitable environment where the underlying driver level connection may be
acted upon.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.30.</span></p>
</div>
</section>
</section>
<section id="using-multiple-asyncio-event-loops">
<h2>Using multiple asyncio event loops<a class="headerlink" href="#using-multiple-asyncio-event-loops" title="Link to this heading">Â¶</a></h2>
<p>An application that makes use of multiple event loops, for example in the
uncommon case of combining asyncio with multithreading, should not share the
same <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> with different event loops when using the
default pool implementation.</p>
<p>If an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> is be passed from one event loop to another,
the method <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose" title="sqlalchemy.ext.asyncio.AsyncEngine.dispose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncEngine.dispose()</span></code></a> should be called before itâs
re-used on a new event loop. Failing to do so may lead to a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code>
along the lines of
<code class="docutils literal notranslate"><span class="pre">Task</span> <span class="pre">&lt;Task</span> <span class="pre">pending</span> <span class="pre">...&gt;</span> <span class="pre">got</span> <span class="pre">Future</span> <span class="pre">attached</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">different</span> <span class="pre">loop</span></code></p>
<p>If the same engine must be shared between different loop, it should be configured
to disable pooling using <a class="reference internal" href="../../core/pooling.html#sqlalchemy.pool.NullPool" title="sqlalchemy.pool.NullPool"><code class="xref py py-class docutils literal notranslate"><span class="pre">NullPool</span></code></a>, preventing the Engine
from using any connection more than once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.pool</span> <span class="kn">import</span> <span class="n">NullPool</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span>
    <span class="s2">&quot;postgresql+asyncpg://user:pass@host/dbname&quot;</span><span class="p">,</span>
    <span class="n">poolclass</span><span class="o">=</span><span class="n">NullPool</span><span class="p">,</span>
<span class="p">)</span></pre></div>
</div>
</section>
<section id="using-asyncio-scoped-session">
<span id="asyncio-scoped-session"></span><h2>Using asyncio scoped session<a class="headerlink" href="#using-asyncio-scoped-session" title="Link to this heading">Â¶</a></h2>
<p>The âscoped sessionâ pattern used in threaded SQLAlchemy with the
<a class="reference internal" href="../contextual.html#sqlalchemy.orm.scoped_session" title="sqlalchemy.orm.scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">scoped_session</span></code></a> object is also available in asyncio, using
an adapted version called <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>SQLAlchemy generally does not recommend the âscopedâ pattern
for new development as it relies upon mutable global state that must also be
explicitly torn down when work within the thread or task is complete.
Particularly when using asyncio, itâs likely a better idea to pass the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> directly to the awaitable functions that need
it.</p>
</div>
<p>When using <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a>, as thereâs no âthread-localâ
concept in the asyncio context, the âscopefuncâ parameter must be provided to
the constructor. The example below illustrates using the
<code class="docutils literal notranslate"><span class="pre">asyncio.current_task()</span></code> function for this purpose:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">asyncio</span> <span class="kn">import</span> <span class="n">current_task</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">async_scoped_session</span><span class="p">,</span>
    <span class="n">async_sessionmaker</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">async_session_factory</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span>
    <span class="n">some_async_engine</span><span class="p">,</span>
    <span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">AsyncScopedSession</span> <span class="o">=</span> <span class="n">async_scoped_session</span><span class="p">(</span>
    <span class="n">async_session_factory</span><span class="p">,</span>
    <span class="n">scopefunc</span><span class="o">=</span><span class="n">current_task</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">some_async_session</span> <span class="o">=</span> <span class="n">AsyncScopedSession</span><span class="p">()</span></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The âscopefuncâ used by <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a>
is invoked <strong>an arbitrary number of times</strong> within a task, once for each
time the underlying <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is accessed. The function
should therefore be <strong>idempotent</strong> and lightweight, and should not attempt
to create or mutate any state, such as establishing callbacks, etc.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">current_task()</span></code> for the âkeyâ in the scope requires that
the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove" title="sqlalchemy.ext.asyncio.async_scoped_session.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">async_scoped_session.remove()</span></code></a> method is called from
within the outermost awaitable, to ensure the key is removed from the
registry when the task is complete, otherwise the task handle as well as
the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> will remain in memory, essentially
creating a memory leak.  See the following example which illustrates
the correct use of <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove" title="sqlalchemy.ext.asyncio.async_scoped_session.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">async_scoped_session.remove()</span></code></a>.</p>
</div>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> includes <strong>proxy
behavior</strong> similar to that of <a class="reference internal" href="../contextual.html#sqlalchemy.orm.scoped_session" title="sqlalchemy.orm.scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">scoped_session</span></code></a>, which means it can be
treated as a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> directly, keeping in mind that
the usual <code class="docutils literal notranslate"><span class="pre">await</span></code> keywords are necessary, including for the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove" title="sqlalchemy.ext.asyncio.async_scoped_session.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">async_scoped_session.remove()</span></code></a> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">some_function</span><span class="p">(</span><span class="n">some_async_session</span><span class="p">,</span> <span class="n">some_object</span><span class="p">):</span>
    <span class="c1"># use the AsyncSession directly</span>
    <span class="n">some_async_session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span>

    <span class="c1"># use the AsyncSession via the context-local proxy</span>
    <span class="k">await</span> <span class="n">AsyncScopedSession</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># &quot;remove&quot; the current proxied AsyncSession for the local context</span>
    <span class="k">await</span> <span class="n">AsyncScopedSession</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.19.</span></p>
</div>
</section>
<section id="using-the-inspector-to-inspect-schema-objects">
<span id="asyncio-inspector"></span><h2>Using the Inspector to inspect schema objects<a class="headerlink" href="#using-the-inspector-to-inspect-schema-objects" title="Link to this heading">Â¶</a></h2>
<p>SQLAlchemy does not yet offer an asyncio version of the
<a class="reference internal" href="../../core/reflection.html#sqlalchemy.engine.reflection.Inspector" title="sqlalchemy.engine.reflection.Inspector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Inspector</span></code></a> (introduced at <a class="reference internal" href="../../core/reflection.html#metadata-reflection-inspector"><span class="std std-ref">Fine Grained Reflection with Inspector</span></a>),
however the existing interface may be used in an asyncio context by
leveraging the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync" title="sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a> method of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">inspect</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+asyncpg://scott:tiger@localhost/test&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">use_inspector</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
    <span class="n">inspector</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
    <span class="c1"># use the inspector</span>
    <span class="n">print</span><span class="p">(</span><span class="n">inspector</span><span class="o">.</span><span class="n">get_view_names</span><span class="p">())</span>
    <span class="c1"># return any value to the caller</span>
    <span class="k">return</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">async_main</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">tables</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">use_inspector</span><span class="p">)</span>


<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">async_main</span><span class="p">())</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/reflection.html#metadata-reflection"><span class="std std-ref">Reflecting Database Objects</span></a></p>
<p><a class="reference internal" href="../../core/inspection.html"><span class="std std-ref">Runtime Inspection API</span></a></p>
</div>
</section>
<section id="engine-api-documentation">
<h2>Engine API Documentation<a class="headerlink" href="#engine-api-documentation" title="Link to this heading">Â¶</a></h2>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_engine_from_config"><span class="sig-name descname">async_engine_from_config</span></a>(configuration[, prefix], **kwargs)</p></td>
<td><p>Create a new AsyncEngine instance using a configuration dictionary.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><span class="sig-name descname">AsyncConnection</span></a></p></td>
<td><p>An asyncio proxy for a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><span class="sig-name descname">AsyncEngine</span></a></p></td>
<td><p>An asyncio proxy for a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><span class="sig-name descname">AsyncTransaction</span></a></p></td>
<td><p>An asyncio proxy for a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Transaction" title="sqlalchemy.engine.Transaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transaction</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_engine"><span class="sig-name descname">create_async_engine</span></a>(url, **kw)</p></td>
<td><p>Create a new async engine instance.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_pool_from_url"><span class="sig-name descname">create_async_pool_from_url</span></a>(url, **kwargs)</p></td>
<td><p>Create a new async engine instance.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.create_async_engine">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">create_async_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/engines.html#sqlalchemy.engine.URL" title="sqlalchemy.engine.URL"><span class="pre">URL</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><span class="pre">AsyncEngine</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.create_async_engine" title="Link to this definition">Â¶</a></dt>
<dd><p>Create a new async engine instance.</p>
<p>Arguments passed to <a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_engine" title="sqlalchemy.ext.asyncio.create_async_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_async_engine()</span></code></a> are mostly
identical to those passed to the <a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a> function.
The specified dialect must be an asyncio-compatible dialect
such as <a class="reference internal" href="../../dialects/postgresql.html#dialect-postgresql-asyncpg"><span class="std std-ref">asyncpg</span></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.create_async_engine.params.async_creator"></span><strong>async_creator</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.create_async_engine.params.async_creator">Â¶</a> â <p>an async callable which returns a driver-level
asyncio connection. If given, the function should take no arguments,
and return a new asyncio connection from the underlying asyncio
database driver; the connection will be wrapped in the appropriate
structures to be used with the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>.   Note that the
parameters specified in the URL are not applied here, and the creator
function should use its own connection parameters.</p>
<p>This parameter is the asyncio equivalent of the
<a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine.params.creator" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_engine.creator</span></code></a> parameter of the
<a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.16.</span></p>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_engine_from_config">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">async_engine_from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sqlalchemy.'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.engine.AsyncEngine"><span class="pre">AsyncEngine</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_engine_from_config" title="Link to this definition">Â¶</a></dt>
<dd><p>Create a new AsyncEngine instance using a configuration dictionary.</p>
<p>This function is analogous to the <a class="reference internal" href="../../core/engines.html#sqlalchemy.engine_from_config" title="sqlalchemy.engine_from_config"><code class="xref py py-func docutils literal notranslate"><span class="pre">engine_from_config()</span></code></a> function
in SQLAlchemy Core, except that the requested dialect must be an
asyncio-compatible dialect such as <a class="reference internal" href="../../dialects/postgresql.html#dialect-postgresql-asyncpg"><span class="std std-ref">asyncpg</span></a>.
The argument signature of the function is identical to that
of <a class="reference internal" href="../../core/engines.html#sqlalchemy.engine_from_config" title="sqlalchemy.engine_from_config"><code class="xref py py-func docutils literal notranslate"><span class="pre">engine_from_config()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.29.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.create_async_pool_from_url">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">create_async_pool_from_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/engines.html#sqlalchemy.engine.URL" title="sqlalchemy.engine.URL"><span class="pre">URL</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><span class="pre">Pool</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.create_async_pool_from_url" title="Link to this definition">Â¶</a></dt>
<dd><p>Create a new async engine instance.</p>
<p>Arguments passed to <a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_pool_from_url" title="sqlalchemy.ext.asyncio.create_async_pool_from_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_async_pool_from_url()</span></code></a> are mostly
identical to those passed to the <a class="reference internal" href="../../core/engines.html#sqlalchemy.create_pool_from_url" title="sqlalchemy.create_pool_from_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_pool_from_url()</span></code></a> function.
The specified dialect must be an asyncio-compatible dialect
such as <a class="reference internal" href="../../dialects/postgresql.html#dialect-postgresql-asyncpg"><span class="std std-ref">asyncpg</span></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.10.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncEngine</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="Link to this definition">Â¶</a></dt>
<dd><p>An asyncio proxy for a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> is acquired using the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.create_async_engine" title="sqlalchemy.ext.asyncio.create_async_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_async_engine()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+asyncpg://user:pass@host/dbname&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.begin"><span class="sig-name descname">begin()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.clear_compiled_cache"><span class="sig-name descname">clear_compiled_cache()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.connect"><span class="sig-name descname">connect()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dialect"><span class="sig-name descname">dialect</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose"><span class="sig-name descname">dispose()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.driver"><span class="sig-name descname">driver</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.echo"><span class="sig-name descname">echo</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.engine"><span class="sig-name descname">engine</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.execution_options"><span class="sig-name descname">execution_options()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.get_execution_options"><span class="sig-name descname">get_execution_options()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.name"><span class="sig-name descname">name</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.pool"><span class="sig-name descname">pool</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.raw_connection"><span class="sig-name descname">raw_connection()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><span class="sig-name descname">sync_engine</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.update_execution_options"><span class="sig-name descname">update_execution_options()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.url"><span class="sig-name descname">url</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.ProxyComparable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnectable</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.begin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">begin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncIterator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.engine.AsyncConnection"><span class="pre">AsyncConnection</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.begin" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a context manager which when entered will deliver an
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> with an
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a> established.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">async_engine</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
        <span class="n">text</span><span class="p">(</span><span class="s2">&quot;insert into table (x, y, z) values (1, 2, 3)&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;my_special_procedure(5)&quot;</span><span class="p">))</span></pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.clear_compiled_cache">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">clear_compiled_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.clear_compiled_cache" title="Link to this definition">Â¶</a></dt>
<dd><p>Clear the compiled cache associated with the dialect.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
<p>This applies <strong>only</strong> to the built-in cache that is established
via the <code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_engine.query_cache_size</span></code> parameter.
It will not impact any dictionary caches that were passed via the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.compiled_cache" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Connection.execution_options.compiled_cache</span></code></a> parameter.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.connect">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.engine.AsyncConnection"><span class="pre">AsyncConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.connect" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> object.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> will procure a database
connection from the underlying connection pool when it is entered
as an async context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">async_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">user_table</span><span class="p">))</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> may also be started outside of a
context manager by invoking its <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.start" title="sqlalchemy.ext.asyncio.AsyncConnection.start"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.start()</span></code></a>
method.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.dialect">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">dialect</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.dialect" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Engine.dialect</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.dispose">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dispose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose" title="Link to this definition">Â¶</a></dt>
<dd><p>Dispose of the connection pool used by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncEngine.dispose.params.close"></span><strong>close</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.dispose.params.close">Â¶</a> â <p>if left at its default of <code class="docutils literal notranslate"><span class="pre">True</span></code>, has the
effect of fully closing all <strong>currently checked in</strong>
database connections.  Connections that are still checked out
will <strong>not</strong> be closed, however they will no longer be associated
with this <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>,
so when they are closed individually, eventually the
<a class="reference internal" href="../../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code></a> which they are associated with will
be garbage collected and they will be closed out fully, if
not already closed on checkin.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the previous connection pool is de-referenced,
and otherwise not touched in any way.</p>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine.dispose" title="sqlalchemy.engine.Engine.dispose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.dispose()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.driver">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">driver</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.driver" title="Link to this definition">Â¶</a></dt>
<dd><p>Driver name of the <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.Dialect" title="sqlalchemy.engine.interfaces.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a>
in use by this <code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.echo">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">echo</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.echo" title="Link to this definition">Â¶</a></dt>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, enable log output for this element.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
<p>This has the effect of setting the Python logging level for the namespace
of this elementâs class and object reference.  A value of boolean <code class="docutils literal notranslate"><span class="pre">True</span></code>
indicates that the loglevel <code class="docutils literal notranslate"><span class="pre">logging.INFO</span></code> will be set for the logger,
whereas the string value <code class="docutils literal notranslate"><span class="pre">debug</span></code> will set the loglevel to
<code class="docutils literal notranslate"><span class="pre">logging.DEBUG</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.engine">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">engine</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.engine" title="Link to this definition">Â¶</a></dt>
<dd><p>Returns this <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
<p>Used for legacy schemes that accept <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> /
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> objects within the same variable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.engine.AsyncEngine"><span class="pre">AsyncEngine</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.execution_options" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> that will provide
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> objects with the given execution
options.</p>
<p>Proxied from <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.execution_options()</span></code></a>.  See that
method for details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.get_execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">get_execution_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_ExecuteOptions</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.get_execution_options" title="Link to this definition">Â¶</a></dt>
<dd><p>Get the non-SQL options which will take effect during execution.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.name">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.name" title="Link to this definition">Â¶</a></dt>
<dd><p>String name of the <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.Dialect" title="sqlalchemy.engine.interfaces.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a>
in use by this <code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.pool">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">pool</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.pool" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Engine.pool</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.raw_connection">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raw_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/pooling.html#sqlalchemy.pool.PoolProxiedConnection" title="sqlalchemy.pool.PoolProxiedConnection"><span class="pre">PoolProxiedConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.raw_connection" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a ârawâ DBAPI connection from the connection pool.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#dbapi-connections"><span class="std std-ref">Working with Driver SQL and Raw DBAPI Connections</span></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.sync_engine">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">sync_engine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><span class="pre">Engine</span></a></em><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine" title="Link to this definition">Â¶</a></dt>
<dd><p>Reference to the sync-style <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> proxies requests towards.</p>
<p>This instance can be used as an event target.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#asyncio-events"><span class="std std-ref">Using events with the asyncio extension</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.update_execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">update_execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.update_execution_options" title="Link to this definition">Â¶</a></dt>
<dd><p>Update the default execution_options dictionary
of this <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</div>
<p>The given keys/values in **opt are added to the
default execution options that will be used for
all connections.  The initial contents of this dictionary
can be sent via the <code class="docutils literal notranslate"><span class="pre">execution_options</span></code> parameter
to <a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a></p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncEngine.url">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncEngine.</span></code></a><span class="sig-name descname"><span class="pre">url</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncEngine.url" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Engine.url</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncConnection</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="Link to this definition">Â¶</a></dt>
<dd><p>An asyncio proxy for a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> is acquired using the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.connect" title="sqlalchemy.ext.asyncio.AsyncEngine.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncEngine.connect()</span></code></a>
method of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+asyncpg://user:pass@host/dbname&quot;</span><span class="p">)</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">))</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.aclose"><span class="sig-name descname">aclose()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin"><span class="sig-name descname">begin()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin_nested"><span class="sig-name descname">begin_nested()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.closed"><span class="sig-name descname">closed</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.commit"><span class="sig-name descname">commit()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.connection"><span class="sig-name descname">connection</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.default_isolation_level"><span class="sig-name descname">default_isolation_level</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.dialect"><span class="sig-name descname">dialect</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.exec_driver_sql"><span class="sig-name descname">exec_driver_sql()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute"><span class="sig-name descname">execute()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execution_options"><span class="sig-name descname">execution_options()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_nested_transaction"><span class="sig-name descname">get_nested_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection"><span class="sig-name descname">get_raw_connection()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_transaction"><span class="sig-name descname">get_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_nested_transaction"><span class="sig-name descname">in_nested_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_transaction"><span class="sig-name descname">in_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidate"><span class="sig-name descname">invalidate()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidated"><span class="sig-name descname">invalidated</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.rollback"><span class="sig-name descname">rollback()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><span class="sig-name descname">run_sync()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalar"><span class="sig-name descname">scalar()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalars"><span class="sig-name descname">scalars()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.start"><span class="sig-name descname">start()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream"><span class="sig-name descname">stream()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars"><span class="sig-name descname">stream_scalars()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_connection"><span class="sig-name descname">sync_connection</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_engine"><span class="sig-name descname">sync_engine</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.ProxyComparable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.StartableContext</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnectable</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.aclose">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aclose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.aclose" title="Link to this definition">Â¶</a></dt>
<dd><p>A synonym for <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.close" title="sqlalchemy.ext.asyncio.AsyncConnection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.close()</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.aclose" title="sqlalchemy.ext.asyncio.AsyncConnection.aclose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.aclose()</span></code></a> name is specifically
to support the Python standard library <code class="docutils literal notranslate"><span class="pre">&#64;contextlib.aclosing</span></code>
context manager function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.20.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.begin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">begin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.engine.AsyncTransaction"><span class="pre">AsyncTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin" title="Link to this definition">Â¶</a></dt>
<dd><p>Begin a transaction prior to autobegin occurring.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.begin_nested">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">begin_nested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.engine.AsyncTransaction"><span class="pre">AsyncTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.begin_nested" title="Link to this definition">Â¶</a></dt>
<dd><p>Begin a nested transaction and return a transaction handle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.close" title="Link to this definition">Â¶</a></dt>
<dd><p>Close this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a>.</p>
<p>This has the effect of also rolling back the transaction if one
is in place.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.closed">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.closed" title="Link to this definition">Â¶</a></dt>
<dd><p>Return True if this connection is closed.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.commit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.commit" title="Link to this definition">Â¶</a></dt>
<dd><p>Commit the transaction that is currently in progress.</p>
<p>This method commits the current transaction if one has been started.
If no transaction was started, the method has no effect, assuming
the connection is in a non-invalidated state.</p>
<p>A transaction is begun on a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> automatically
whenever a statement is first executed, or when the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.begin" title="sqlalchemy.engine.Connection.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.begin()</span></code></a> method is called.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.connection">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">connection</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.connection" title="Link to this definition">Â¶</a></dt>
<dd><p>Not implemented for async; call
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection" title="sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.get_raw_connection()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.default_isolation_level">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">default_isolation_level</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.default_isolation_level" title="Link to this definition">Â¶</a></dt>
<dd><p>The initial-connection time isolation level associated with the
<a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.Dialect" title="sqlalchemy.engine.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a> in use.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> class.</p>
</div>
<p>This value is independent of the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.isolation_level" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Connection.execution_options.isolation_level</span></code></a> and
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine.execution_options.params.isolation_level" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Engine.execution_options.isolation_level</span></code></a> execution
options, and is determined by the <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.Dialect" title="sqlalchemy.engine.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a> when the
first connection is created, by performing a SQL query against the
database for the current isolation level before any additional commands
have been emitted.</p>
<p>Calling this accessor does not invoke any new SQL queries.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.get_isolation_level" title="sqlalchemy.engine.Connection.get_isolation_level"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.get_isolation_level()</span></code></a>
- view current actual isolation level</p>
<p><a class="reference internal" href="../../core/engines.html#sqlalchemy.create_engine.params.isolation_level" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_engine.isolation_level</span></code></a>
- set per <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> isolation level</p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.isolation_level" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Connection.execution_options.isolation_level</span></code></a>
- set per <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> isolation level</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.dialect">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">dialect</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.dialect" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Connection.dialect</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.exec_driver_sql">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exec_driver_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DBAPIAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.CursorResult" title="sqlalchemy.engine.CursorResult"><span class="pre">CursorResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.exec_driver_sql" title="Link to this definition">Â¶</a></dt>
<dd><p>Executes a driver-level SQL string and return buffered
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.CursorResult" title="sqlalchemy.engine.CursorResult"><span class="pre">CursorResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute" title="Link to this definition">Â¶</a></dt>
<dd><p>Executes a SQL statement construct and return a buffered
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncConnection.execute.params.object"></span><strong>object</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute.params.object">Â¶</a> â <p>The statement to be executed.  This is always
an object that is in both the <a class="reference internal" href="../../core/foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> and
<a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> hierarchies, including:</p>
<ul>
<li><p><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a></p></li>
<li><p><a class="reference internal" href="../../core/dml.html#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a>, <a class="reference internal" href="../../core/dml.html#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>,
<a class="reference internal" href="../../core/dml.html#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delete</span></code></a></p></li>
<li><p><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> and
<a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a></p></li>
<li><p><a class="reference internal" href="../../core/ddl.html#sqlalchemy.schema.DDL" title="sqlalchemy.schema.DDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">DDL</span></code></a> and objects which inherit from
<a class="reference internal" href="../../core/ddl.html#sqlalchemy.schema.ExecutableDDLElement" title="sqlalchemy.schema.ExecutableDDLElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExecutableDDLElement</span></code></a></p></li>
</ul>
</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncConnection.execute.params.parameters"></span><strong>parameters</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute.params.parameters">Â¶</a> â parameters which will be bound into the statement.
This may be either a dictionary of parameter names to values,
or a mutable sequence (e.g. a list) of dictionaries.  When a
list of dictionaries is passed, the underlying statement execution
will make use of the DBAPI <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> method.
When a single dictionary is passed, the DBAPI <code class="docutils literal notranslate"><span class="pre">cursor.execute()</span></code>
method will be used.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncConnection.execute.params.execution_options"></span><strong>execution_options</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.execute.params.execution_options">Â¶</a> â optional dictionary of execution options,
which will be associated with the statement execution.  This
dictionary can provide a subset of the options that are accepted
by <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.engine.AsyncConnection"><span class="pre">AsyncConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.execution_options" title="Link to this definition">Â¶</a></dt>
<dd><p>Set non-SQL options for the connection which take effect
during execution.</p>
<p>This returns this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> object with
the new options added.</p>
<p>See <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a> for full details
on this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.get_nested_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">get_nested_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.engine.AsyncTransaction"><span class="pre">AsyncTransaction</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_nested_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a> representing the current
nested (savepoint) transaction, if any.</p>
<p>This makes use of the underlying synchronous connectionâs
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.get_nested_transaction" title="sqlalchemy.engine.Connection.get_nested_transaction"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.get_nested_transaction()</span></code></a> method to get the
current <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Transaction" title="sqlalchemy.engine.Transaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transaction</span></code></a>, which is then proxied in a new
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a> object.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_raw_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/pooling.html#sqlalchemy.pool.PoolProxiedConnection" title="sqlalchemy.pool.PoolProxiedConnection"><span class="pre">PoolProxiedConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_raw_connection" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the pooled DBAPI-level connection in use by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a>.</p>
<p>This is a SQLAlchemy connection-pool proxied connection
which then has the attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">_ConnectionFairy.driver_connection</span></code> that refers to the
actual driver connection. Its
<code class="xref py py-attr docutils literal notranslate"><span class="pre">_ConnectionFairy.dbapi_connection</span></code> refers instead
to an <a class="reference internal" href="../../core/internals.html#sqlalchemy.engine.AdaptedConnection" title="sqlalchemy.engine.AdaptedConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdaptedConnection</span></code></a> instance that
adapts the driver connection to the DBAPI protocol.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.get_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">get_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.engine.AsyncTransaction"><span class="pre">AsyncTransaction</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.get_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a> representing the current
transaction, if any.</p>
<p>This makes use of the underlying synchronous connectionâs
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.get_transaction" title="sqlalchemy.engine.Connection.get_transaction"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.get_transaction()</span></code></a> method to get the current
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Transaction" title="sqlalchemy.engine.Transaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transaction</span></code></a>, which is then proxied in a new
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a> object.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.in_nested_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">in_nested_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_nested_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return True if a transaction is in progress.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.in_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">in_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.in_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return True if a transaction is in progress.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.info" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.info" title="sqlalchemy.engine.Connection.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Connection.info</span></code></a> dictionary of the
underlying <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.</p>
<p>This dictionary is freely writable for user-defined state to be
associated with the database connection.</p>
<p>This attribute is only available if the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> is
currently connected.   If the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.closed" title="sqlalchemy.ext.asyncio.AsyncConnection.closed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncConnection.closed</span></code></a> attribute
is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then accessing this attribute will raise
<a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.ResourceClosedError" title="sqlalchemy.exc.ResourceClosedError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceClosedError</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.invalidate">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">invalidate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exception</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseException</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidate" title="Link to this definition">Â¶</a></dt>
<dd><p>Invalidate the underlying DBAPI connection associated with
this <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.</p>
<p>See the method <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.invalidate" title="sqlalchemy.engine.Connection.invalidate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.invalidate()</span></code></a> for full
detail on this method.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.invalidated">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">invalidated</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.invalidated" title="Link to this definition">Â¶</a></dt>
<dd><p>Return True if this connection was invalidated.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> class.</p>
</div>
<p>This does not indicate whether or not the connection was
invalidated at the pool level, however</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.rollback">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.rollback" title="Link to this definition">Â¶</a></dt>
<dd><p>Roll back the transaction that is currently in progress.</p>
<p>This method rolls back the current transaction if one has been started.
If no transaction was started, the method has no effect.  If a
transaction was started and the connection is in an invalidated state,
the transaction is cleared using this method.</p>
<p>A transaction is begun on a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> automatically
whenever a statement is first executed, or when the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.begin" title="sqlalchemy.engine.Connection.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.begin()</span></code></a> method is called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.run_sync">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_sync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fn:</span> <span class="pre">~typing.Callable[[~typing.Concatenate[~sqlalchemy.engine.base.Connection,</span> <span class="pre">~_P]],</span> <span class="pre">~sqlalchemy.ext.asyncio.engine._T],</span> <span class="pre">*arg:</span> <span class="pre">~typing.~_P,</span> <span class="pre">**kw:</span> <span class="pre">~typing.~_P</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_T</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync" title="Link to this definition">Â¶</a></dt>
<dd><p>Invoke the given synchronous (i.e. not async) callable,
passing a synchronous-style <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> as the first
argument.</p>
<p>This method allows traditional synchronous SQLAlchemy functions to
run within the context of an asyncio application.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">do_something_with_core</span><span class="p">(</span><span class="n">conn</span><span class="p">:</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">arg1</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">arg2</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;A synchronous function that does not require awaiting</span>

<span class="sd">    :param conn: a Core SQLAlchemy Connection, used synchronously</span>

<span class="sd">    :return: an optional return value is supported</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
        <span class="n">some_table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">int_col</span><span class="o">=</span><span class="n">arg1</span><span class="p">,</span> <span class="n">str_col</span><span class="o">=</span><span class="n">arg2</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;success&quot;</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">do_something_async</span><span class="p">(</span><span class="n">async_engine</span><span class="p">:</span> <span class="n">AsyncEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;an async function that uses awaiting&#39;&#39;&#39;</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">async_engine</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span> <span class="k">as</span> <span class="n">async_conn</span><span class="p">:</span>
        <span class="c1"># run do_something_with_core() with a sync-style</span>
        <span class="c1"># Connection, proxied into an awaitable</span>
        <span class="n">return_code</span> <span class="o">=</span> <span class="k">await</span> <span class="n">async_conn</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">do_something_with_core</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;strval&quot;</span><span class="p">)</span>
        <span class="n">print</span><span class="p">(</span><span class="n">return_code</span><span class="p">)</span></pre></div>
</div>
<p>This method maintains the asyncio event loop all the way through
to the database connection by running the given callable in a
specially instrumented greenlet.</p>
<p>The most rudimentary use of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync" title="sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a> is to
invoke methods such as <a class="reference internal" href="../../core/metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a>, given
an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> that needs to be provided to
<a class="reference internal" href="../../core/metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a> as a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># run metadata.create_all(conn) with a sync-style Connection,</span>
<span class="c1"># proxied into an awaitable</span>
<span class="k">with</span> <span class="n">async_engine</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">)</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The provided callable is invoked inline within the asyncio event
loop, and will block on traditional IO calls.  IO within this
callable should only call into SQLAlchemyâs asyncio database
APIs which will be properly adapted to the greenlet context.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a></p>
<p><a class="reference internal" href="#session-run-sync"><span class="std std-ref">Running Synchronous Methods and Functions under asyncio</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreSingleExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalar" title="Link to this definition">Â¶</a></dt>
<dd><p>Executes a SQL statement construct and returns a scalar object.</p>
<p>This method is shorthand for invoking the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.scalar" title="sqlalchemy.engine.Result.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.scalar()</span></code></a> method after invoking the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method.  Parameters are equivalent.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a scalar Python value representing the first column of the
first row returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><span class="pre">ScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Executes a SQL statement construct and returns a scalar objects.</p>
<p>This method is shorthand for invoking the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.scalars" title="sqlalchemy.engine.Result.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.scalars()</span></code></a> method after invoking the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method.  Parameters are equivalent.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarResult</span></code></a> object.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.start">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_ctxmanager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.engine.AsyncConnection"><span class="pre">AsyncConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.start" title="Link to this definition">Â¶</a></dt>
<dd><p>Start this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> objectâs context
outside of using a Python <code class="docutils literal notranslate"><span class="pre">with:</span></code> block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.stream">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncIterator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><span class="pre">AsyncResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return an awaitable yielding a
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a>
method supports optional context manager use against the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object, as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span> <span class="k">as</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></pre></div>
</div>
<p>In the above pattern, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.close" title="sqlalchemy.ext.asyncio.AsyncResult.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.close()</span></code></a> method is
invoked unconditionally, even if the iterator is interrupted by an
exception throw.   Context manager use remains optional, however,
and the function may be called in either an <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span> <span class="pre">fn():</span></code> or
<code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">fn()</span></code> style.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0b3: </span>added context manager support</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an awaitable object that will yield an
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars" title="sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream_scalars()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">stream_scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreSingleExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncIterator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><span class="pre">AsyncScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return an awaitable yielding a
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> object.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream_scalars</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">scalar</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scalar</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></pre></div>
</div>
<p>This method is shorthand for invoking the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code> method after invoking the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.stream()</span></code> method.  Parameters are equivalent.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars" title="sqlalchemy.ext.asyncio.AsyncConnection.stream_scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream_scalars()</span></code></a>
method supports optional context manager use against the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> object, as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream_scalars</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span> <span class="k">as</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">for</span> <span class="n">scalar</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scalar</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></pre></div>
</div>
<p>In the above pattern, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.close" title="sqlalchemy.ext.asyncio.AsyncScalarResult.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncScalarResult.close()</span></code></a> method is
invoked unconditionally, even if the iterator is interrupted by an
exception throw.  Context manager use remains optional, however,
and the function may be called in either an <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span> <span class="pre">fn():</span></code> or
<code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">fn()</span></code> style.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0b3: </span>added context manager support</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an awaitable object that will yield an
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> object.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.sync_connection">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">sync_connection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><span class="pre">Connection</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_connection" title="Link to this definition">Â¶</a></dt>
<dd><p>Reference to the sync-style <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> proxies requests towards.</p>
<p>This instance can be used as an event target.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#asyncio-events"><span class="std std-ref">Using events with the asyncio extension</span></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncConnection.sync_engine">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncConnection.</span></code></a><span class="sig-name descname"><span class="pre">sync_engine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><span class="pre">Engine</span></a></em><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncConnection.sync_engine" title="Link to this definition">Â¶</a></dt>
<dd><p>Reference to the sync-style <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> is associated with via its underlying
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.</p>
<p>This instance can be used as an event target.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#asyncio-events"><span class="std std-ref">Using events with the asyncio extension</span></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncTransaction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncTransaction</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="Link to this definition">Â¶</a></dt>
<dd><p>An asyncio proxy for a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Transaction" title="sqlalchemy.engine.Transaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transaction</span></code></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.commit"><span class="sig-name descname">commit()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.rollback"><span class="sig-name descname">rollback()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction.start"><span class="sig-name descname">start()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncTransaction</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.ProxyComparable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.StartableContext</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncTransaction.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncTransaction.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncTransaction.close" title="Link to this definition">Â¶</a></dt>
<dd><p>Close this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a>.</p>
<p>If this transaction is the base transaction in a begin/commit
nesting, the transaction will rollback().  Otherwise, the
method returns.</p>
<p>This is used to cancel a Transaction without affecting the scope of
an enclosing transaction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncTransaction.commit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncTransaction.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncTransaction.commit" title="Link to this definition">Â¶</a></dt>
<dd><p>Commit this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncTransaction.rollback">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncTransaction.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncTransaction.rollback" title="Link to this definition">Â¶</a></dt>
<dd><p>Roll back this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncTransaction.start">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncTransaction.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_ctxmanager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.engine.AsyncTransaction"><span class="pre">AsyncTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncTransaction.start" title="Link to this definition">Â¶</a></dt>
<dd><p>Start this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a> objectâs context
outside of using a Python <code class="docutils literal notranslate"><span class="pre">with:</span></code> block.</p>
</dd></dl>

</dd></dl>

</section>
<section id="result-set-api-documentation">
<h2>Result Set API Documentation<a class="headerlink" href="#result-set-api-documentation" title="Link to this heading">Â¶</a></h2>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object is an async-adapted version of the
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.  It is only returned when using the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a> or <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream" title="sqlalchemy.ext.asyncio.AsyncSession.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.stream()</span></code></a>
methods, which return a result object that is on top of an active database
cursor.</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><span class="sig-name descname">AsyncMappingResult</span></a></p></td>
<td><p>A wrapper for a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> that returns dictionary
values rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> values.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><span class="sig-name descname">AsyncResult</span></a></p></td>
<td><p>An asyncio wrapper around a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><span class="sig-name descname">AsyncScalarResult</span></a></p></td>
<td><p>A wrapper for a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> that returns scalar values
rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> values.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTupleResult"><span class="sig-name descname">AsyncTupleResult</span></a></p></td>
<td><p>A <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> thatâs typed as returning plain
Python tuples instead of rows.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncResult</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult" title="Link to this definition">Â¶</a></dt>
<dd><p>An asyncio wrapper around a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> only applies to statement executions that
use a server-side cursor.  It is returned only from the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.stream" title="sqlalchemy.ext.asyncio.AsyncConnection.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.stream()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream" title="sqlalchemy.ext.asyncio.AsyncSession.stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.stream()</span></code></a> methods.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As is the case with <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a>, this object is
used for ORM results returned by <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.execute" title="sqlalchemy.ext.asyncio.AsyncSession.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.execute()</span></code></a>,
which can yield instances of ORM mapped objects either individually or
within tuple-like rows.  Note that these result objects do not
deduplicate instances or rows automatically as is the case with the
legacy <a class="reference internal" href="../queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object. For in-Python de-duplication of
instances or rows, use the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.unique" title="sqlalchemy.ext.asyncio.AsyncResult.unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.unique()</span></code></a> modifier
method.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.all"><span class="sig-name descname">all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.closed"><span class="sig-name descname">closed</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.columns"><span class="sig-name descname">columns()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchall"><span class="sig-name descname">fetchall()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchmany"><span class="sig-name descname">fetchmany()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchone"><span class="sig-name descname">fetchone()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first"><span class="sig-name descname">first()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.freeze"><span class="sig-name descname">freeze()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.keys"><span class="sig-name descname">keys()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.mappings"><span class="sig-name descname">mappings()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one"><span class="sig-name descname">one()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><span class="sig-name descname">one_or_none()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions"><span class="sig-name descname">partitions()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar"><span class="sig-name descname">scalar()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one"><span class="sig-name descname">scalar_one()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one_or_none"><span class="sig-name descname">scalar_one_or_none()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars"><span class="sig-name descname">scalars()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.t"><span class="sig-name descname">t</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.tuples"><span class="sig-name descname">tuples()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.unique"><span class="sig-name descname">unique()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.yield_per"><span class="sig-name descname">yield_per()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult</span></code></a> (<code class="docutils literal notranslate"><span class="pre">sqlalchemy.engine._WithKeys</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncCommon</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.all" title="Link to this definition">Â¶</a></dt>
<dd><p>Return all rows in a list.</p>
<p>Closes the result set after invocation.   Subsequent invocations
will return an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.close" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncCommon.close()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncCommon</span></code></p>
</div>
<p>Close this result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.closed">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.closed" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncCommon.closed</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncCommon</span></code></p>
</div>
<p>proxies the .closed attribute of the underlying result object,
if any, else raises <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0b3.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.columns">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">col_expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_KeyIndexType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.columns" title="Link to this definition">Â¶</a></dt>
<dd><p>Establish the columns that should be returned in each row.</p>
<p>Refer to <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.columns" title="sqlalchemy.engine.Result.columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.columns()</span></code></a> in the synchronous
SQLAlchemy API for a complete behavioral description.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.fetchall">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchall</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchall" title="Link to this definition">Â¶</a></dt>
<dd><p>A synonym for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.all" title="sqlalchemy.ext.asyncio.AsyncResult.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.all()</span></code></a> method.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.fetchmany">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchmany</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchmany" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch many rows.</p>
<p>When all rows are exhausted, returns an empty list.</p>
<p>This method is provided for backwards compatibility with
SQLAlchemy 1.x.x.</p>
<p>To fetch rows in groups, use the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions" title="sqlalchemy.ext.asyncio.AsyncResult.partitions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.partitions()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions" title="sqlalchemy.ext.asyncio.AsyncResult.partitions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.partitions()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.fetchone">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchone" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch one row.</p>
<p>When all rows are exhausted, returns None.</p>
<p>This method is provided for backwards compatibility with
SQLAlchemy 1.x.x.</p>
<p>To fetch the first row of a result only, use the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="sqlalchemy.ext.asyncio.AsyncResult.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a> method.  To iterate through all
rows, iterate the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> object if no filters are applied,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no rows remain.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.first">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch the first row or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no row is present.</p>
<p>Closes the result set and discards remaining rows.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method returns one <strong>row</strong>, e.g. tuple, by default.
To return exactly one single scalar value, that is, the first
column of the first row, use the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar" title="sqlalchemy.ext.asyncio.AsyncResult.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalar()</span></code></a> method,
or combine <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="sqlalchemy.ext.asyncio.AsyncResult.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a>.</p>
<p>Additionally, in contrast to the behavior of the legacy  ORM
<a class="reference internal" href="../queryguide/query.html#sqlalchemy.orm.Query.first" title="sqlalchemy.orm.Query.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.first()</span></code></a> method, <strong>no limit is applied</strong> to the
SQL query which was invoked to produce this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a>;
for a DBAPI driver that buffers results in memory before yielding
rows, all rows will be sent to the Python process and all but
the first row will be discarded.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../changelog/migration_20.html#migration-20-unify-select"><span class="std std-ref">ORM Query Unified with Core Select</span></a></p>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> object, or None
if no rows remain.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar" title="sqlalchemy.ext.asyncio.AsyncResult.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalar()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.freeze">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">freeze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FrozenResult" title="sqlalchemy.engine.result.FrozenResult"><span class="pre">FrozenResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.freeze" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a callable object that will produce copies of this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> when invoked.</p>
<p>The callable object returned is an instance of
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FrozenResult" title="sqlalchemy.engine.FrozenResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrozenResult</span></code></a>.</p>
<p>This is used for result set caching.  The method must be called
on the result when it has been unconsumed, and calling the method
will consume the result fully.   When the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FrozenResult" title="sqlalchemy.engine.FrozenResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrozenResult</span></code></a>
is retrieved from a cache, it can be called any number of times where
it will produce a new <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object each time
against its stored set of rows.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_events.html#do-orm-execute-re-executing"><span class="std std-ref">Re-Executing Statements</span></a> - example usage within the
ORM to implement a result-set cache.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.keys">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">RMKeyView</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.keys" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.engine._WithKeys.keys</span></code> <em>method of</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.engine._WithKeys</span></code></p>
</div>
<p>Return an iterable view which yields the string keys that would
be represented by each <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>.</p>
<p>The keys can represent the labels of the columns returned by a core
statement or the names of the orm classes returned by an orm
execution.</p>
<p>The view also can be tested for key containment using the Python
<code class="docutils literal notranslate"><span class="pre">in</span></code> operator, which will test both for the string keys represented
in the view, as well as for alternate keys such as column objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>a key view object is returned rather than a
plain list.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.mappings">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">mappings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="sqlalchemy.ext.asyncio.result.AsyncMappingResult"><span class="pre">AsyncMappingResult</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.mappings" title="Link to this definition">Â¶</a></dt>
<dd><p>Apply a mappings filter to returned rows, returning an instance of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncMappingResult</span></code></a>.</p>
<p>When this filter is applied, fetching rows will return
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> objects instead of <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncMappingResult</span></code></a> filtering object
referring to the underlying <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.one">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="Link to this definition">Â¶</a></dt>
<dd><p>Return exactly one row or raise an exception.</p>
<p>Raises <a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.NoResultFound" title="sqlalchemy.exc.NoResultFound"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoResultFound</span></code></a> if the result returns no
rows, or <a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.MultipleResultsFound" title="sqlalchemy.exc.MultipleResultsFound"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleResultsFound</span></code></a> if multiple rows
would be returned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method returns one <strong>row</strong>, e.g. tuple, by default.
To return exactly one single scalar value, that is, the first
column of the first row, use the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one" title="sqlalchemy.ext.asyncio.AsyncResult.scalar_one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalar_one()</span></code></a> method, or combine
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The first <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.MultipleResultsFound" title="sqlalchemy.exc.MultipleResultsFound"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleResultsFound</span></code></a>, <a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.NoResultFound" title="sqlalchemy.exc.NoResultFound"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoResultFound</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="sqlalchemy.ext.asyncio.AsyncResult.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none" title="sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one" title="sqlalchemy.ext.asyncio.AsyncResult.scalar_one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalar_one()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.one_or_none">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one_or_none</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none" title="Link to this definition">Â¶</a></dt>
<dd><p>Return at most one result or raise an exception.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if the result has no rows.
Raises <a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.MultipleResultsFound" title="sqlalchemy.exc.MultipleResultsFound"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleResultsFound</span></code></a>
if multiple rows are returned.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The first <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no row
is available.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.MultipleResultsFound" title="sqlalchemy.exc.MultipleResultsFound"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleResultsFound</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="sqlalchemy.ext.asyncio.AsyncResult.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.partitions">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">partitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncIterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.row.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions" title="Link to this definition">Â¶</a></dt>
<dd><p>Iterate through sub-lists of rows of the size given.</p>
<p>An async iterator is returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">scroll_results</span><span class="p">(</span><span class="n">connection</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">users_table</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">for</span> <span class="n">partition</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">partitions</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">print</span><span class="p">(</span><span class="s2">&quot;list of rows: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">partition</span><span class="p">)</span></pre></div>
</div>
<p>Refer to <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.partitions" title="sqlalchemy.engine.Result.partitions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.partitions()</span></code></a> in the synchronous
SQLAlchemy API for a complete behavioral description.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch the first column of the first row, and close the result set.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no rows to fetch.</p>
<p>No validation is performed to test if additional rows remain.</p>
<p>After calling this method, the object is fully closed,
e.g. the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.CursorResult.close" title="sqlalchemy.engine.CursorResult.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.close()</span></code></a>
method will have been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a Python scalar value, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no rows remain.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.scalar_one">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalar_one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one" title="Link to this definition">Â¶</a></dt>
<dd><p>Return exactly one scalar result or raise an exception.</p>
<p>This is equivalent to calling <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a> and
then <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.scalar_one_or_none">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalar_one_or_none</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.scalar_one_or_none" title="Link to this definition">Â¶</a></dt>
<dd><p>Return exactly one scalar result or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This is equivalent to calling <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a> and
then <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none" title="sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none" title="sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_KeyIndexType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><span class="pre">AsyncScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> filtering object which
will return single elements rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects.</p>
<p>Refer to <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.scalars" title="sqlalchemy.engine.Result.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.scalars()</span></code></a> in the synchronous
SQLAlchemy API for a complete behavioral description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncResult.scalars.params.index"></span><strong>index</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars.params.index">Â¶</a> â integer or row key indicating the column to be fetched
from each row, defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code> indicating the first column.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> filtering object
referring to this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.t">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">t</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.t" title="Link to this definition">Â¶</a></dt>
<dd><p>Apply a âtyped tupleâ typing filter to returned rows.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.t" title="sqlalchemy.ext.asyncio.AsyncResult.t"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncResult.t</span></code></a> attribute is a synonym for
calling the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.tuples" title="sqlalchemy.ext.asyncio.AsyncResult.tuples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.tuples()</span></code></a> method.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.tuples">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">tuples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTupleResult" title="sqlalchemy.ext.asyncio.result.AsyncTupleResult"><span class="pre">AsyncTupleResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_TP</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.tuples" title="Link to this definition">Â¶</a></dt>
<dd><p>Apply a âtyped tupleâ typing filter to returned rows.</p>
<p>This method returns the same <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object
at runtime,
however annotates as returning a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTupleResult" title="sqlalchemy.ext.asyncio.AsyncTupleResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTupleResult</span></code></a>
object that will indicate to <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> typing tools that plain typed
<code class="docutils literal notranslate"><span class="pre">Tuple</span></code> instances are returned rather than rows.  This allows
tuple unpacking and <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> access of <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects to by typed, for those cases where the statement invoked
itself included typing information.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTupleResult</span></code> type at typing time.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.t" title="sqlalchemy.ext.asyncio.AsyncResult.t"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncResult.t</span></code></a> - shorter synonym</p>
<p><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row.t" title="sqlalchemy.engine.Row.t"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Row.t</span></code></a> - <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> version</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.unique">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_UniqueFilterType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.unique" title="Link to this definition">Â¶</a></dt>
<dd><p>Apply unique filtering to the objects returned by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a>.</p>
<p>Refer to <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.unique" title="sqlalchemy.engine.Result.unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.unique()</span></code></a> in the synchronous
SQLAlchemy API for a complete behavioral description.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncResult.yield_per">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncResult.</span></code></a><span class="sig-name descname"><span class="pre">yield_per</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncResult.yield_per" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult" title="sqlalchemy.engine.FilterResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilterResult</span></code></a></p>
</div>
<p>Configure the row-fetching strategy to fetch <code class="docutils literal notranslate"><span class="pre">num</span></code> rows at a time.</p>
<p>The <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a> method is a pass through
to the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.yield_per" title="sqlalchemy.engine.Result.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.yield_per()</span></code></a> method.  See that methodâs
documentation for usage notes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.40: </span>- added <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a>
so that the method is available on all result set implementations</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#engine-stream-results"><span class="std std-ref">Using Server Side Cursors (a.k.a. stream results)</span></a> - describes Core behavior for
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.yield_per" title="sqlalchemy.engine.Result.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.yield_per()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/api.html#orm-queryguide-yield-per"><span class="std std-ref">Fetching Large Result Sets with Yield Per</span></a> - in the <a class="reference internal" href="../queryguide/index.html"><span class="std std-ref">ORM Querying Guide</span></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncScalarResult</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="Link to this definition">Â¶</a></dt>
<dd><p>A wrapper for a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> that returns scalar values
rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> values.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> object is acquired by calling the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.scalars" title="sqlalchemy.ext.asyncio.AsyncResult.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.scalars()</span></code></a> method.</p>
<p>Refer to the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarResult</span></code></a> object in the synchronous
SQLAlchemy API for a complete behavioral description.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.all"><span class="sig-name descname">all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.closed"><span class="sig-name descname">closed</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchall"><span class="sig-name descname">fetchall()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchmany"><span class="sig-name descname">fetchmany()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.first"><span class="sig-name descname">first()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one"><span class="sig-name descname">one()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one_or_none"><span class="sig-name descname">one_or_none()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.partitions"><span class="sig-name descname">partitions()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.unique"><span class="sig-name descname">unique()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.yield_per"><span class="sig-name descname">yield_per()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncCommon</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_R</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.all" title="Link to this definition">Â¶</a></dt>
<dd><p>Return all scalar values in a list.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.all" title="sqlalchemy.ext.asyncio.AsyncResult.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.all()</span></code></a> except that
scalar values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects,
are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.close" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncCommon.close()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncCommon</span></code></p>
</div>
<p>Close this result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.closed">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.closed" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncCommon.closed</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncCommon</span></code></p>
</div>
<p>proxies the .closed attribute of the underlying result object,
if any, else raises <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0b3.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.fetchall">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchall</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_R</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchall" title="Link to this definition">Â¶</a></dt>
<dd><p>A synonym for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.all" title="sqlalchemy.ext.asyncio.AsyncScalarResult.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncScalarResult.all()</span></code></a> method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.fetchmany">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchmany</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_R</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.fetchmany" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch many objects.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchmany" title="sqlalchemy.ext.asyncio.AsyncResult.fetchmany"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.fetchmany()</span></code></a> except that
scalar values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects,
are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.first">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_R</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.first" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch the first object or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no object is present.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="sqlalchemy.ext.asyncio.AsyncResult.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a> except that
scalar values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects,
are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.one">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_R</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one" title="Link to this definition">Â¶</a></dt>
<dd><p>Return exactly one object or raise an exception.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a> except that
scalar values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects,
are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.one_or_none">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one_or_none</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_R</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.one_or_none" title="Link to this definition">Â¶</a></dt>
<dd><p>Return at most one object or raise an exception.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none" title="sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a> except that
scalar values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects,
are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.partitions">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">partitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncIterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_R</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.partitions" title="Link to this definition">Â¶</a></dt>
<dd><p>Iterate through sub-lists of elements of the size given.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions" title="sqlalchemy.ext.asyncio.AsyncResult.partitions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.partitions()</span></code></a> except that
scalar values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects,
are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.unique">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_UniqueFilterType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.unique" title="Link to this definition">Â¶</a></dt>
<dd><p>Apply unique filtering to the objects returned by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a>.</p>
<p>See <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.unique" title="sqlalchemy.ext.asyncio.AsyncResult.unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.unique()</span></code></a> for usage details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncScalarResult.yield_per">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncScalarResult.</span></code></a><span class="sig-name descname"><span class="pre">yield_per</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncScalarResult.yield_per" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult" title="sqlalchemy.engine.FilterResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilterResult</span></code></a></p>
</div>
<p>Configure the row-fetching strategy to fetch <code class="docutils literal notranslate"><span class="pre">num</span></code> rows at a time.</p>
<p>The <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a> method is a pass through
to the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.yield_per" title="sqlalchemy.engine.Result.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.yield_per()</span></code></a> method.  See that methodâs
documentation for usage notes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.40: </span>- added <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a>
so that the method is available on all result set implementations</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#engine-stream-results"><span class="std std-ref">Using Server Side Cursors (a.k.a. stream results)</span></a> - describes Core behavior for
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.yield_per" title="sqlalchemy.engine.Result.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.yield_per()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/api.html#orm-queryguide-yield-per"><span class="std std-ref">Fetching Large Result Sets with Yield Per</span></a> - in the <a class="reference internal" href="../queryguide/index.html"><span class="std std-ref">ORM Querying Guide</span></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncMappingResult</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="Link to this definition">Â¶</a></dt>
<dd><p>A wrapper for a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> that returns dictionary
values rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> values.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncMappingResult</span></code></a> object is acquired by calling the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.mappings" title="sqlalchemy.ext.asyncio.AsyncResult.mappings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.mappings()</span></code></a> method.</p>
<p>Refer to the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.MappingResult" title="sqlalchemy.engine.MappingResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappingResult</span></code></a> object in the synchronous
SQLAlchemy API for a complete behavioral description.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.all"><span class="sig-name descname">all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.closed"><span class="sig-name descname">closed</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.columns"><span class="sig-name descname">columns()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchall"><span class="sig-name descname">fetchall()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchmany"><span class="sig-name descname">fetchmany()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchone"><span class="sig-name descname">fetchone()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.first"><span class="sig-name descname">first()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.keys"><span class="sig-name descname">keys()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one"><span class="sig-name descname">one()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one_or_none"><span class="sig-name descname">one_or_none()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.partitions"><span class="sig-name descname">partitions()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.unique"><span class="sig-name descname">unique()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.yield_per"><span class="sig-name descname">yield_per()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult</span></code></a> (<code class="docutils literal notranslate"><span class="pre">sqlalchemy.engine._WithKeys</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncCommon</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.all" title="Link to this definition">Â¶</a></dt>
<dd><p>Return all rows in a list.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.all" title="sqlalchemy.ext.asyncio.AsyncResult.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.all()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.close" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncCommon.close()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncCommon</span></code></p>
</div>
<p>Close this result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.closed">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.closed" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncCommon.closed</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncCommon</span></code></p>
</div>
<p>proxies the .closed attribute of the underlying result object,
if any, else raises <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0b3.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.columns">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">col_expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_KeyIndexType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.columns" title="Link to this definition">Â¶</a></dt>
<dd><p>Establish the columns that should be returned in each row.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.fetchall">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchall</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchall" title="Link to this definition">Â¶</a></dt>
<dd><p>A synonym for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.all" title="sqlalchemy.ext.asyncio.AsyncMappingResult.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncMappingResult.all()</span></code></a> method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.fetchmany">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchmany</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchmany" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch many rows.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchmany" title="sqlalchemy.ext.asyncio.AsyncResult.fetchmany"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.fetchmany()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.fetchone">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetchone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.fetchone" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch one object.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.fetchone" title="sqlalchemy.ext.asyncio.AsyncResult.fetchone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.fetchone()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.first">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.first" title="Link to this definition">Â¶</a></dt>
<dd><p>Fetch the first object or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no object is present.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.first" title="sqlalchemy.ext.asyncio.AsyncResult.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.first()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.keys">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">RMKeyView</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.keys" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.engine._WithKeys.keys</span></code> <em>method of</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.engine._WithKeys</span></code></p>
</div>
<p>Return an iterable view which yields the string keys that would
be represented by each <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>.</p>
<p>The keys can represent the labels of the columns returned by a core
statement or the names of the orm classes returned by an orm
execution.</p>
<p>The view also can be tested for key containment using the Python
<code class="docutils literal notranslate"><span class="pre">in</span></code> operator, which will test both for the string keys represented
in the view, as well as for alternate keys such as column objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>a key view object is returned rather than a
plain list.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.one">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one" title="Link to this definition">Â¶</a></dt>
<dd><p>Return exactly one object or raise an exception.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one" title="sqlalchemy.ext.asyncio.AsyncResult.one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.one_or_none">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one_or_none</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.one_or_none" title="Link to this definition">Â¶</a></dt>
<dd><p>Return at most one object or raise an exception.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.one_or_none" title="sqlalchemy.ext.asyncio.AsyncResult.one_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.one_or_none()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.partitions">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">partitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncIterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.row.RowMapping"><span class="pre">RowMapping</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.partitions" title="Link to this definition">Â¶</a></dt>
<dd><p>Iterate through sub-lists of elements of the size given.</p>
<p>Equivalent to <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.partitions" title="sqlalchemy.ext.asyncio.AsyncResult.partitions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.partitions()</span></code></a> except that
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">RowMapping</span></code></a> values, rather than <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a>
objects, are returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.unique">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_UniqueFilterType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.unique" title="Link to this definition">Â¶</a></dt>
<dd><p>Apply unique filtering to the objects returned by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult" title="sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncMappingResult</span></code></a>.</p>
<p>See <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult.unique" title="sqlalchemy.ext.asyncio.AsyncResult.unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncResult.unique()</span></code></a> for usage details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncMappingResult.yield_per">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncMappingResult"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncMappingResult.</span></code></a><span class="sig-name descname"><span class="pre">yield_per</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncMappingResult.yield_per" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a> <em>method of</em> <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult" title="sqlalchemy.engine.FilterResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilterResult</span></code></a></p>
</div>
<p>Configure the row-fetching strategy to fetch <code class="docutils literal notranslate"><span class="pre">num</span></code> rows at a time.</p>
<p>The <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a> method is a pass through
to the <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.yield_per" title="sqlalchemy.engine.Result.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.yield_per()</span></code></a> method.  See that methodâs
documentation for usage notes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.40: </span>- added <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.FilterResult.yield_per" title="sqlalchemy.engine.FilterResult.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FilterResult.yield_per()</span></code></a>
so that the method is available on all result set implementations</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../core/connections.html#engine-stream-results"><span class="std std-ref">Using Server Side Cursors (a.k.a. stream results)</span></a> - describes Core behavior for
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result.yield_per" title="sqlalchemy.engine.Result.yield_per"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Result.yield_per()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/api.html#orm-queryguide-yield-per"><span class="std std-ref">Fetching Large Result Sets with Yield Per</span></a> - in the <a class="reference internal" href="../queryguide/index.html"><span class="std std-ref">ORM Querying Guide</span></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncTupleResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncTupleResult</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncTupleResult" title="Link to this definition">Â¶</a></dt>
<dd><p>A <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> thatâs typed as returning plain
Python tuples instead of rows.</p>
<p>Since <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> acts like a tuple in every way already,
this class is a typing only class, regular <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> is
still used at runtime.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTupleResult" title="sqlalchemy.ext.asyncio.AsyncTupleResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncTupleResult</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncCommon</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.util.langhelpers.TypingOnly</span></code>)</p>
</div>
</dd></dl>

</section>
<section id="orm-session-api-documentation">
<h2>ORM Session API Documentation<a class="headerlink" href="#orm-session-api-documentation" title="Link to this heading">Â¶</a></h2>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_object_session"><span class="sig-name descname">async_object_session</span></a>(instance)</p></td>
<td><p>Return the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> to which the given instance
belongs.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><span class="sig-name descname">async_scoped_session</span></a></p></td>
<td><p>Provides scoped management of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> objects.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_session"><span class="sig-name descname">async_session</span></a>(session)</p></td>
<td><p>Return the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> which is proxying the given
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> object, if any.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><span class="sig-name descname">async_sessionmaker</span></a></p></td>
<td><p>A configurable <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> factory.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs"><span class="sig-name descname">AsyncAttrs</span></a></p></td>
<td><p>Mixin class which provides an awaitable accessor for all attributes.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><span class="sig-name descname">AsyncSession</span></a></p></td>
<td><p>Asyncio version of <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction"><span class="sig-name descname">AsyncSessionTransaction</span></a></p></td>
<td><p>A wrapper for the ORM <a class="reference internal" href="../session_api.html#sqlalchemy.orm.SessionTransaction" title="sqlalchemy.orm.SessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionTransaction</span></code></a> object.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.ext.asyncio.close_all_sessions"><span class="sig-name descname">close_all_sessions</span></a>()</p></td>
<td><p>Close all <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> sessions.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_object_session">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">async_object_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.session.AsyncSession"><span class="pre">AsyncSession</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_object_session" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> to which the given instance
belongs.</p>
<p>This function makes use of the sync-API function
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.object_session" title="sqlalchemy.orm.object_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">object_session</span></code></a> to retrieve the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> which
refers to the given instance, and from there links it to the original
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<p>If the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> has been garbage collected, the
return value is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This functionality is also available from the
<a class="reference internal" href="../internals.html#sqlalchemy.orm.InstanceState.async_session" title="sqlalchemy.orm.InstanceState.async_session"><code class="xref py py-attr docutils literal notranslate"><span class="pre">InstanceState.async_session</span></code></a> accessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.async_object_session.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_object_session.params.instance">Â¶</a> â an ORM mapped instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> object, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.18.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_session">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">async_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.session.Session"><span class="pre">Session</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.session.AsyncSession"><span class="pre">AsyncSession</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_session" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> which is proxying the given
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> object, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.async_session.params.session"></span><strong>session</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_session.params.session">Â¶</a> â a <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> instance, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.18.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.close_all_sessions">
<em class="property"><span class="pre">function</span> </em><em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">close_all_sessions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.close_all_sessions" title="Link to this definition">Â¶</a></dt>
<dd><p>Close all <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> sessions.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.23.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">close_all_sessions()</span></code></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_sessionmaker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">async_sessionmaker</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="Link to this definition">Â¶</a></dt>
<dd><p>A configurable <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> factory.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a> factory works in the same way as the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> factory, to generate new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>
objects when called, creating them given
the configurational arguments established here.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncSession</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">async_sessionmaker</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">run_some_sql</span><span class="p">(</span><span class="n">async_session</span><span class="p">:</span> <span class="n">async_sessionmaker</span><span class="p">[</span><span class="n">AsyncSession</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">async_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">SomeObject</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">))</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">SomeOtherObject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;other object&quot;</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># an AsyncEngine, which the AsyncSession will use for connection</span>
    <span class="c1"># resources</span>
    <span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span><span class="s1">&#39;postgresql+asyncpg://scott:tiger@localhost/&#39;</span><span class="p">)</span>

    <span class="c1"># create a reusable factory for new AsyncSession instances</span>
    <span class="n">async_session</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">run_some_sql</span><span class="p">(</span><span class="n">async_session</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a> is useful so that different parts
of a program can create new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> objects with a
fixed configuration established up front.  Note that <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>
objects may also be instantiated directly when not using
<a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0: </span><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a> provides a
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> class thatâs dedicated to the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> object, including pep-484 typing support.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#asyncio-orm"><span class="std std-ref">Synopsis - ORM</span></a> - shows example use</p>
<dl class="simple">
<dt><a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a>  - general overview of the</dt><dd><p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> architecture</p>
</dd>
</dl>
<p><a class="reference internal" href="../session_basics.html#session-getting"><span class="std std-ref">Opening and Closing a Session</span></a> - introductory text on creating
sessions using <a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a>.</p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__call__"><span class="sig-name descname">__call__()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.begin"><span class="sig-name descname">begin()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker.configure"><span class="sig-name descname">configure()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_sessionmaker</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_sessionmaker.__call__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_sessionmaker.</span></code></a><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">local_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_AS</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__call__" title="Link to this definition">Â¶</a></dt>
<dd><p>Produce a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> object using the configuration
established in this <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a>.</p>
<p>In Python, the <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method is invoked on an object when
it is âcalledâ in the same way as a function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AsyncSession</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span><span class="n">async_engine</span><span class="p">,</span> <span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">AsyncSession</span><span class="p">()</span>  <span class="c1"># invokes sessionmaker.__call__()</span></pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_sessionmaker.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_sessionmaker.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind:</span> <span class="pre">Optional[_AsyncSessionBind]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_:</span> <span class="pre">Type[_AS]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'sqlalchemy.ext.asyncio.session.AsyncSession'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoflush:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expire_on_commit:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info:</span> <span class="pre">Optional[_InfoType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kw:</span> <span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_sessionmaker.__init__" title="Link to this definition">Â¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a>.</p>
<p>All arguments here except for <code class="docutils literal notranslate"><span class="pre">class_</span></code> correspond to arguments
accepted by <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> directly. See the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.__init__" title="sqlalchemy.ext.asyncio.AsyncSession.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.__init__()</span></code></a> docstring for more details on
parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_sessionmaker.begin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_sessionmaker.</span></code></a><span class="sig-name descname"><span class="pre">begin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_AsyncSessionContextManager</span><span class="p"><span class="pre">[</span></span><span class="pre">_AS</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_sessionmaker.begin" title="Link to this definition">Â¶</a></dt>
<dd><p>Produce a context manager that both provides a new
<code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code> as well as a transaction that commits.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">Session</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span><span class="n">some_engine</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">Session</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span>

    <span class="c1"># commits transaction, closes session</span></pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_sessionmaker.configure">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_sessionmaker.</span></code></a><span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">new_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_sessionmaker.configure" title="Link to this definition">Â¶</a></dt>
<dd><p>(Re)configure the arguments for this async_sessionmaker.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AsyncSession</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span><span class="n">some_engine</span><span class="p">)</span>

<span class="n">AsyncSession</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s1">&#39;sqlite+aiosqlite://&#39;</span><span class="p">))</span></pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">async_scoped_session</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="Link to this definition">Â¶</a></dt>
<dd><p>Provides scoped management of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> objects.</p>
<p>See the section <a class="reference internal" href="#asyncio-scoped-session"><span class="std std-ref">Using asyncio scoped session</span></a> for usage details.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.19.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.__call__"><span class="sig-name descname">__call__()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.aclose"><span class="sig-name descname">aclose()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.add"><span class="sig-name descname">add()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.add_all"><span class="sig-name descname">add_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.autoflush"><span class="sig-name descname">autoflush</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin"><span class="sig-name descname">begin()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin_nested"><span class="sig-name descname">begin_nested()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.bind"><span class="sig-name descname">bind</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.close_all"><span class="sig-name descname">close_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.commit"><span class="sig-name descname">commit()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.configure"><span class="sig-name descname">configure()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.connection"><span class="sig-name descname">connection()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.delete"><span class="sig-name descname">delete()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.deleted"><span class="sig-name descname">deleted</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.dirty"><span class="sig-name descname">dirty</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.execute"><span class="sig-name descname">execute()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire"><span class="sig-name descname">expire()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire_all"><span class="sig-name descname">expire_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge"><span class="sig-name descname">expunge()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge_all"><span class="sig-name descname">expunge_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.flush"><span class="sig-name descname">flush()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.get"><span class="sig-name descname">get()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_bind"><span class="sig-name descname">get_bind()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_one"><span class="sig-name descname">get_one()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_key"><span class="sig-name descname">identity_key()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_map"><span class="sig-name descname">identity_map</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.invalidate"><span class="sig-name descname">invalidate()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_active"><span class="sig-name descname">is_active</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_modified"><span class="sig-name descname">is_modified()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.merge"><span class="sig-name descname">merge()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.new"><span class="sig-name descname">new</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.no_autoflush"><span class="sig-name descname">no_autoflush</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.object_session"><span class="sig-name descname">object_session()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.refresh"><span class="sig-name descname">refresh()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove"><span class="sig-name descname">remove()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.reset"><span class="sig-name descname">reset()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.rollback"><span class="sig-name descname">rollback()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalar"><span class="sig-name descname">scalar()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalars"><span class="sig-name descname">scalars()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.session_factory"><span class="sig-name descname">session_factory</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream"><span class="sig-name descname">stream()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream_scalars"><span class="sig-name descname">stream_scalars()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.__call__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_AS</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.__call__" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the current <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>, creating it
using the <a class="reference internal" href="../contextual.html#sqlalchemy.orm.scoped_session.session_factory" title="sqlalchemy.orm.scoped_session.session_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">scoped_session.session_factory</span></code></a> if not present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.__call__.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.__call__.params.**kw">Â¶</a> â Keyword arguments will be passed to the
<a class="reference internal" href="../contextual.html#sqlalchemy.orm.scoped_session.session_factory" title="sqlalchemy.orm.scoped_session.session_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">scoped_session.session_factory</span></code></a> callable, if an existing
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is not present.  If the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is present
and keyword arguments have been passed,
<a class="reference internal" href="../../core/exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidRequestError</span></code></a> is raised.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.session.async_sessionmaker"><span class="pre">async_sessionmaker</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_AS</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scopefunc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.__init__" title="Link to this definition">Â¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.params.session_factory"></span><strong>session_factory</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.params.session_factory">Â¶</a> â a factory to create new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>
instances. This is usually, but not necessarily, an instance
of <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.async_sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.params.scopefunc"></span><strong>scopefunc</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.params.scopefunc">Â¶</a> â function which defines
the current scope.   A function such as <code class="docutils literal notranslate"><span class="pre">asyncio.current_task</span></code>
may be useful here.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.aclose">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aclose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.aclose" title="Link to this definition">Â¶</a></dt>
<dd><p>A synonym for <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.aclose" title="sqlalchemy.ext.asyncio.AsyncSession.aclose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.aclose()</span></code></a> name is specifically
to support the Python standard library <code class="docutils literal notranslate"><span class="pre">&#64;contextlib.aclosing</span></code>
context manager function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.20.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.add">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_warn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.add" title="Link to this definition">Â¶</a></dt>
<dd><p>Place an object into this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>Objects that are in the <a class="reference internal" href="../../glossary.html#term-transient"><span class="xref std std-term">transient</span></a> state when passed to the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> method will move to the
<a class="reference internal" href="../../glossary.html#term-pending"><span class="xref std std-term">pending</span></a> state, until the next flush, at which point they
will move to the <a class="reference internal" href="../../glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a> state.</p>
<p>Objects that are in the <a class="reference internal" href="../../glossary.html#term-detached"><span class="xref std std-term">detached</span></a> state when passed to the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> method will move to the <a class="reference internal" href="../../glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a>
state directly.</p>
<p>If the transaction used by the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is rolled back,
objects which were transient when they were passed to
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> will be moved back to the
<a class="reference internal" href="../../glossary.html#term-transient"><span class="xref std std-term">transient</span></a> state, and will no longer be present within this
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add_all" title="sqlalchemy.orm.Session.add_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add_all()</span></code></a></p>
<p><a class="reference internal" href="../session_basics.html#session-adding"><span class="std std-ref">Adding New or Existing Items</span></a> - at <a class="reference internal" href="../session_basics.html#id1"><span class="std std-ref">Basics of Using a Session</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.add_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">add_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.add_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Add the given collection of instances to this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>See the documentation for <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> for a general
behavioral description.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a></p>
<p><a class="reference internal" href="../session_basics.html#session-adding"><span class="std std-ref">Adding New or Existing Items</span></a> - at <a class="reference internal" href="../session_basics.html#id1"><span class="std std-ref">Basics of Using a Session</span></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.autoflush">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">autoflush</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.autoflush" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.autoflush</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.begin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">begin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><span class="pre">AsyncSessionTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a> object.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>The underlying <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> will perform the
âbeginâ action when the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a>
object is entered:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">async_session</span><span class="o">.</span><span class="n">begin</span><span class="p">():</span>
    <span class="c1"># .. ORM transaction is begun</span></pre></div>
</div>
<p>Note that database IO will not normally occur when the session-level
transaction is begun, as database transactions begin on an
on-demand basis.  However, the begin block is async to accommodate
for a <a class="reference internal" href="../events.html#sqlalchemy.orm.SessionEvents.after_transaction_create" title="sqlalchemy.orm.SessionEvents.after_transaction_create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionEvents.after_transaction_create()</span></code></a>
event hook that may perform IO.</p>
<p>For a general description of ORM begin, see
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.begin" title="sqlalchemy.orm.Session.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.begin()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.begin_nested">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">begin_nested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><span class="pre">AsyncSessionTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.begin_nested" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a> object
which will begin a ânestedâ transaction, e.g. SAVEPOINT.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>Behavior is the same as that of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin" title="sqlalchemy.ext.asyncio.AsyncSession.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.begin()</span></code></a>.</p>
<p>For a general description of ORM begin nested, see
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.begin_nested" title="sqlalchemy.orm.Session.begin_nested"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.begin_nested()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../dialects/sqlite.html#aiosqlite-serializable"><span class="std std-ref">Serializable isolation / Savepoints / Transactional DDL (asyncio version)</span></a> - special workarounds required
with the SQLite asyncio driver in order for SAVEPOINT to work
correctly.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.bind" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncSession.bind</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.close" title="Link to this definition">Â¶</a></dt>
<dd><p>Close out the transactional resources and ORM objects used by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.close" title="sqlalchemy.orm.Session.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.close()</span></code></a> - main documentation for
âcloseâ</p>
<p><a class="reference internal" href="../session_basics.html#session-closing"><span class="std std-ref">Closing</span></a> - detail on the semantics of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.reset" title="sqlalchemy.ext.asyncio.AsyncSession.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.reset()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.close_all">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">close_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.close_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Close all <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> sessions.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 2.0: </span>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close_all" title="sqlalchemy.ext.asyncio.AsyncSession.close_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close_all()</span></code></a> method is deprecated and will be removed in a future release.  Please refer to <a class="reference internal" href="#sqlalchemy.ext.asyncio.close_all_sessions" title="sqlalchemy.ext.asyncio.close_all_sessions"><code class="xref py py-func docutils literal notranslate"><span class="pre">close_all_sessions()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.commit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.commit" title="Link to this definition">Â¶</a></dt>
<dd><p>Commit the current transaction in progress.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.commit" title="sqlalchemy.orm.Session.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.commit()</span></code></a> - main documentation for
âcommitâ</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.configure">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.configure" title="Link to this definition">Â¶</a></dt>
<dd><p>reconfigure the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> used by this
<a class="reference internal" href="../contextual.html#sqlalchemy.orm.scoped_session" title="sqlalchemy.orm.scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">scoped_session</span></code></a>.</p>
<p>See <a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker.configure" title="sqlalchemy.orm.sessionmaker.configure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sessionmaker.configure()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.connection">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><span class="pre">AsyncConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.connection" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> object corresponding to
this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs transactional state.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>This method may also be used to establish execution options for the
database connection used by the current transaction.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24: </span>Added **kw arguments which are passed
through to the underlying <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.connection" title="sqlalchemy.orm.Session.connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.connection()</span></code></a> method.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.connection" title="sqlalchemy.orm.Session.connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.connection()</span></code></a> - main documentation for
âconnectionâ</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.delete">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.delete" title="Link to this definition">Â¶</a></dt>
<dd><p>Mark an instance as deleted.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>The database delete operation occurs upon <code class="docutils literal notranslate"><span class="pre">flush()</span></code>.</p>
<p>As this operation may need to cascade along unloaded relationships,
it is awaitable to allow for those queries to take place.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.delete" title="sqlalchemy.orm.Session.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.delete()</span></code></a> - main documentation for delete</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.deleted">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">deleted</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.deleted" title="Link to this definition">Â¶</a></dt>
<dd><p>The set of all instances marked as âdeletedâ within this <code class="docutils literal notranslate"><span class="pre">Session</span></code></p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.dirty">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">dirty</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.dirty" title="Link to this definition">Â¶</a></dt>
<dd><p>The set of all persistent instances considered dirty.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">some_mapped_object</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">dirty</span></pre></div>
</div>
<p>Instances are considered dirty when they were modified but not
deleted.</p>
<p>Note that this âdirtyâ calculation is âoptimisticâ; most
attribute-setting or collection modification operations will
mark an instance as âdirtyâ and place it in this set, even if
there is no net change to the attributeâs value.  At flush
time, the value of each attribute is compared to its
previously saved value, and if thereâs no net change, no SQL
operation will occur (this is a more expensive operation so
itâs only done at flush time).</p>
<p>To check if an instance has actionable net changes to its
attributes, use the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_modified" title="sqlalchemy.orm.Session.is_modified"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.is_modified()</span></code></a> method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><span class="pre">Result</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.execute" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a buffered
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> - main documentation for execute</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.expire">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">expire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire" title="Link to this definition">Â¶</a></dt>
<dd><p>Expire the attributes on an instance.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>Marks the attributes of an instance as out of date. When an expired
attribute is next accessed, a query will be issued to the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs current transactional context in order to
load all expired attributes for the given instance.   Note that
a highly isolated transaction will return the same values as were
previously read in that same transaction, regardless of changes
in database state outside of that transaction.</p>
<p>To expire all objects in the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> simultaneously,
use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire_all()</span></code>.</p>
<p>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs default behavior is to
expire all state whenever the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code>
or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.commit()</span></code> methods are called, so that new
state can be loaded for the new transaction.   For this reason,
calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code> only makes sense for the specific
case that a non-ORM SQL statement was emitted in the current
transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.expire.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire.params.instance">Â¶</a> â The instance to be refreshed.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.expire.params.attribute_names"></span><strong>attribute_names</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire.params.attribute_names">Â¶</a> â optional list of string attribute names
indicating a subset of attributes to be expired.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_state_management.html#session-expire"><span class="std std-ref">Refreshing / Expiring</span></a> - introductory material</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.expire" title="sqlalchemy.orm.Session.expire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code></a></p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/query.html#sqlalchemy.orm.Query.populate_existing" title="sqlalchemy.orm.Query.populate_existing"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.populate_existing()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.expire_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">expire_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.expire_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Expires all persistent instances within this Session.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>When any attributes on a persistent instance is next accessed,
a query will be issued using the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs current transactional context in order to
load all expired attributes for the given instance.   Note that
a highly isolated transaction will return the same values as were
previously read in that same transaction, regardless of changes
in database state outside of that transaction.</p>
<p>To expire individual objects and individual attributes
on those objects, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code>.</p>
<p>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs default behavior is to
expire all state whenever the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code>
or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.commit()</span></code> methods are called, so that new
state can be loaded for the new transaction.   For this reason,
calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire_all()</span></code> is not usually needed,
assuming the transaction is isolated.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_state_management.html#session-expire"><span class="std std-ref">Refreshing / Expiring</span></a> - introductory material</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.expire" title="sqlalchemy.orm.Session.expire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code></a></p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/query.html#sqlalchemy.orm.Query.populate_existing" title="sqlalchemy.orm.Query.populate_existing"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.populate_existing()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.expunge">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">expunge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge" title="Link to this definition">Â¶</a></dt>
<dd><p>Remove the <cite>instance</cite> from this <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This will free all internal references to the instance.  Cascading
will be applied according to the <em>expunge</em> cascade rule.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.expunge_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">expunge_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.expunge_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Remove all object instances from this <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This is equivalent to calling <code class="docutils literal notranslate"><span class="pre">expunge(obj)</span></code> on all objects in this
<code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.flush">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.flush" title="Link to this definition">Â¶</a></dt>
<dd><p>Flush all the object changes to the database.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.flush" title="sqlalchemy.orm.Session.flush"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.flush()</span></code></a> - main documentation for flush</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.get">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_EntityBindKey</span><span class="p"><span class="pre">[</span></span><span class="pre">_O</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_PKIdentityArgument</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ORMOption</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">populate_existing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_for_update</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ForUpdateParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identity_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_O</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.get" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an instance based on the given primary key identifier,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if not found.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get" title="sqlalchemy.orm.Session.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get()</span></code></a> - main documentation for get</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.get_bind">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">get_bind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_EntityBindKey</span><span class="p"><span class="pre">[</span></span><span class="pre">_O</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><span class="pre">ClauseElement</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_SessionBind</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><span class="pre">Engine</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><span class="pre">Connection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_bind" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a âbindâ to which the synchronous proxied <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>
is bound.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>Unlike the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> method, this method is
currently <strong>not</strong> used by this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> in any way
in order to resolve engines for requests.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method proxies directly to the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a>
method, however is currently <strong>not</strong> useful as an override target,
in contrast to that of the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> method.
The example below illustrates how to implement custom
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> schemes that work with
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> and <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>.</p>
</div>
<p>The pattern introduced at <a class="reference internal" href="../persistence_techniques.html#session-custom-partitioning"><span class="std std-ref">Custom Vertical Partitioning</span></a>
illustrates how to apply a custom bind-lookup scheme to a
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> given a set of <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> objects.
To apply a corresponding <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> implementation
for use with a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> and <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>
objects, continue to subclass <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> and apply it to
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> using
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.params.sync_session_class" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a>. The inner method must
continue to return <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> instances, which can be
acquired from a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> using the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine" title="sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># using example from &quot;Custom Vertical Partitioning&quot;</span>


<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncSession</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">async_sessionmaker</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="c1"># construct async engines w/ async drivers</span>
<span class="n">engines</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;leader&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///leader.db&quot;</span><span class="p">),</span>
    <span class="s1">&#39;other&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///other.db&quot;</span><span class="p">),</span>
    <span class="s1">&#39;follower1&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///follower1.db&quot;</span><span class="p">),</span>
    <span class="s1">&#39;follower2&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///follower2.db&quot;</span><span class="p">),</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">RoutingSession</span><span class="p">(</span><span class="n">Session</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clause</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="c1"># within get_bind(), return sync engines</span>
        <span class="k">if</span> <span class="n">mapper</span> <span class="ow">and</span> <span class="n">issubclass</span><span class="p">(</span><span class="n">mapper</span><span class="o">.</span><span class="n">class_</span><span class="p">,</span> <span class="n">MyOtherClass</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">engines</span><span class="p">[</span><span class="s1">&#39;other&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sync_engine</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flushing</span> <span class="ow">or</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">clause</span><span class="p">,</span> <span class="p">(</span><span class="n">Update</span><span class="p">,</span> <span class="n">Delete</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">engines</span><span class="p">[</span><span class="s1">&#39;leader&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sync_engine</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">engines</span><span class="p">[</span>
                <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;follower1&#39;</span><span class="p">,</span><span class="s1">&#39;follower2&#39;</span><span class="p">])</span>
            <span class="p">]</span><span class="o">.</span><span class="n">sync_engine</span>

<span class="c1"># apply to AsyncSession using sync_session_class</span>
<span class="n">AsyncSessionMaker</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span>
    <span class="n">sync_session_class</span><span class="o">=</span><span class="n">RoutingSession</span>
<span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> method is called in a non-asyncio,
implicitly non-blocking context in the same manner as ORM event hooks
and functions that are invoked via <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a>, so
routines that wish to run SQL commands inside of
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> can continue to do so using
blocking-style code, which will be translated to implicitly async calls
at the point of invoking IO on the database drivers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.get_one">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_EntityBindKey</span><span class="p"><span class="pre">[</span></span><span class="pre">_O</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_PKIdentityArgument</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ORMOption</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">populate_existing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_for_update</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ForUpdateParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identity_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_O</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.get_one" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an instance based on the given primary key identifier,
or raise an exception if not found.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>Raises <code class="docutils literal notranslate"><span class="pre">sqlalchemy.orm.exc.NoResultFound</span></code> if the query selects
no rows.</p>
<p>..versionadded: 2.0.22</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_one" title="sqlalchemy.orm.Session.get_one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_one()</span></code></a> - main documentation for get_one</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.identity_key">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">identity_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.Tuple" title="sqlalchemy.sql.expression.Tuple"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><span class="pre">RowMapping</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identity_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_IdentityKeyType</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_key" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an identity key.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This is an alias of <a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.util.identity_key" title="sqlalchemy.orm.util.identity_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">identity_key()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.identity_map">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">identity_map</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.identity_map" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.identity_map" title="sqlalchemy.orm.Session.identity_map"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.identity_map</span></code></a> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.info" title="Link to this definition">Â¶</a></dt>
<dd><p>A user-modifiable dictionary.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>The initial value of this dictionary can be populated using the
<code class="docutils literal notranslate"><span class="pre">info</span></code> argument to the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> constructor or
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> constructor or factory methods.  The dictionary
here is always local to this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> and can be modified
independently of all other <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.invalidate">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">invalidate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.invalidate" title="Link to this definition">Â¶</a></dt>
<dd><p>Close this Session, using connection invalidation.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>For a complete description, see <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.invalidate" title="sqlalchemy.orm.Session.invalidate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.invalidate()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.is_active">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">is_active</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_active" title="Link to this definition">Â¶</a></dt>
<dd><p>True if this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> not in âpartial rollbackâ state.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> no longer begins
a new transaction immediately, so this attribute will be False
when the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is first instantiated.</p>
</div>
<p>âpartial rollbackâ state typically indicates that the flush process
of the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> has failed, and that the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.rollback" title="sqlalchemy.orm.Session.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code></a> method must be emitted in order to
fully roll back the transaction.</p>
<p>If this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is not in a transaction at all, the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> will autobegin when it is first used, so in this
case <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_active" title="sqlalchemy.orm.Session.is_active"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.is_active</span></code></a> will return True.</p>
<p>Otherwise, if this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is within a transaction,
and that transaction has not been rolled back internally, the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_active" title="sqlalchemy.orm.Session.is_active"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.is_active</span></code></a> will also return True.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../faq/sessions.html#faq-session-rollback"><span class="std std-ref">âThis Sessionâs transaction has been rolled back due to a previous exception during flush.â (or similar)</span></a></p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.in_transaction" title="sqlalchemy.orm.Session.in_transaction"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.in_transaction()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.is_modified">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">is_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_collections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_modified" title="Link to this definition">Â¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given instance has locally
modified attributes.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This method retrieves the history for each instrumented
attribute on the instance and performs a comparison of the current
value to its previously flushed or committed value, if any.</p>
<p>It is in effect a more expensive and accurate
version of checking for the given instance in the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.dirty" title="sqlalchemy.orm.Session.dirty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.dirty</span></code></a> collection; a full test for
each attributeâs net âdirtyâ status is performed.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">is_modified</span><span class="p">(</span><span class="n">someobject</span><span class="p">)</span></pre></div>
</div>
<p>A few caveats to this method apply:</p>
<ul>
<li><p>Instances present in the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.dirty" title="sqlalchemy.orm.Session.dirty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.dirty</span></code></a> collection may
report <code class="docutils literal notranslate"><span class="pre">False</span></code> when tested with this method.  This is because
the object may have received change events via attribute mutation,
thus placing it in <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.dirty" title="sqlalchemy.orm.Session.dirty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.dirty</span></code></a>, but ultimately the state
is the same as that loaded from the database, resulting in no net
change here.</p></li>
<li><p>Scalar attributes may not have recorded the previously set
value when a new value was applied, if the attribute was not loaded,
or was expired, at the time the new value was received - in these
cases, the attribute is assumed to have a change, even if there is
ultimately no net change against its database value. SQLAlchemy in
most cases does not need the âoldâ value when a set event occurs, so
it skips the expense of a SQL call if the old value isnât present,
based on the assumption that an UPDATE of the scalar value is
usually needed, and in those few cases where it isnât, is less
expensive on average than issuing a defensive SELECT.</p>
<p>The âoldâ value is fetched unconditionally upon set only if the
attribute container has the <code class="docutils literal notranslate"><span class="pre">active_history</span></code> flag set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
This flag is set typically for primary key attributes and scalar
object references that are not a simple many-to-one.  To set this
flag for any arbitrary mapped column, use the <code class="docutils literal notranslate"><span class="pre">active_history</span></code>
argument with <a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.column_property" title="sqlalchemy.orm.column_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">column_property()</span></code></a>.</p>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.is_modified.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_modified.params.instance">Â¶</a> â mapped instance to be tested for pending changes.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.async_scoped_session.is_modified.params.include_collections"></span><strong>include_collections</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.is_modified.params.include_collections">Â¶</a> â Indicates if multivalued collections
should be included in the operation.  Setting this to <code class="docutils literal notranslate"><span class="pre">False</span></code> is a
way to detect only local-column based properties (i.e. scalar columns
or many-to-one foreign keys) that would result in an UPDATE for this
instance upon flush.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.merge">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_O</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ORMOption</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_O</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.merge" title="Link to this definition">Â¶</a></dt>
<dd><p>Copy the state of a given instance into a corresponding instance
within this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.merge" title="sqlalchemy.orm.Session.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.merge()</span></code></a> - main documentation for merge</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.new">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">new</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.new" title="Link to this definition">Â¶</a></dt>
<dd><p>The set of all instances marked as ânewâ within this <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.no_autoflush">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">no_autoflush</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.no_autoflush" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a context manager that disables autoflush.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">no_autoflush</span><span class="p">:</span>

    <span class="n">some_object</span> <span class="o">=</span> <span class="n">SomeClass</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span>
    <span class="c1"># won&#39;t autoflush</span>
    <span class="n">some_object</span><span class="o">.</span><span class="n">related_thing</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SomeRelated</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span></pre></div>
</div>
<p>Operations that proceed within the <code class="docutils literal notranslate"><span class="pre">with:</span></code> block
will not be subject to flushes occurring upon query
access.  This is useful when initializing a series
of objects which involve existing database queries,
where the uncompleted object should not yet be flushed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.object_session">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">object_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.session.Session"><span class="pre">Session</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.object_session" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> to which an object belongs.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This is an alias of <a class="reference internal" href="../session_api.html#sqlalchemy.orm.object_session" title="sqlalchemy.orm.object_session"><code class="xref py py-func docutils literal notranslate"><span class="pre">object_session()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.refresh">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_for_update</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ForUpdateParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.refresh" title="Link to this definition">Â¶</a></dt>
<dd><p>Expire and refresh the attributes on the given instance.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<p>A query will be issued to the database and all attributes will be
refreshed with their current database value.</p>
<p>This is the async version of the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a> method.
See that method for a complete description of all options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a> - main documentation for refresh</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.remove">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.remove" title="Link to this definition">Â¶</a></dt>
<dd><p>Dispose of the current <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>, if present.</p>
<p>Different from scoped_sessionâs remove method, this method would use
await to wait for the close method of AsyncSession.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.reset">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.reset" title="Link to this definition">Â¶</a></dt>
<dd><p>Close out the transactional resources and ORM objects used by this
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>, resetting the session to its initial state.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.22.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.reset" title="sqlalchemy.orm.Session.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.reset()</span></code></a> - main documentation for
âresetâ</p>
<p><a class="reference internal" href="../session_basics.html#session-closing"><span class="std std-ref">Closing</span></a> - detail on the semantics of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.reset" title="sqlalchemy.ext.asyncio.AsyncSession.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.reset()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.rollback">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.rollback" title="Link to this definition">Â¶</a></dt>
<dd><p>Rollback the current transaction in progress.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.rollback" title="sqlalchemy.orm.Session.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code></a> - main documentation for
ârollbackâ</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalar" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a scalar result.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.scalar" title="sqlalchemy.orm.Session.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalar()</span></code></a> - main documentation for scalar</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><span class="pre">ScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return scalar results.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarResult</span></code></a> object</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24: </span>Added <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars" title="sqlalchemy.ext.asyncio.AsyncSession.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.scalars()</span></code></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.26: </span>Added
<a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalars" title="sqlalchemy.ext.asyncio.async_scoped_session.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">async_scoped_session.scalars()</span></code></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.scalars" title="sqlalchemy.orm.Session.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalars()</span></code></a> - main documentation for scalars</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream_scalars" title="sqlalchemy.ext.asyncio.AsyncSession.stream_scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.stream_scalars()</span></code></a> - streaming version</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.session_factory">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><span class="sig-name descname"><span class="pre">session_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_sessionmaker" title="sqlalchemy.ext.asyncio.session.async_sessionmaker"><span class="pre">async_sessionmaker</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_AS</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.session_factory" title="Link to this definition">Â¶</a></dt>
<dd><p>The <cite>session_factory</cite> provided to <cite>__init__</cite> is stored in this
attribute and may be accessed at a later time.  This can be useful when
a new non-scoped <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is needed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.stream">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><span class="pre">AsyncResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a streaming
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.async_scoped_session.stream_scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.async_scoped_session.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream_scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><span class="pre">AsyncScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.async_scoped_session.stream_scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a stream of scalar results.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session" title="sqlalchemy.ext.asyncio.scoping.async_scoped_session"><code class="xref py py-class docutils literal notranslate"><span class="pre">async_scoped_session</span></code></a> class.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> object</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.scalars" title="sqlalchemy.orm.Session.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalars()</span></code></a> - main documentation for scalars</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars" title="sqlalchemy.ext.asyncio.AsyncSession.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.scalars()</span></code></a> - non streaming version</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncAttrs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncAttrs</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="Link to this definition">Â¶</a></dt>
<dd><p>Mixin class which provides an awaitable accessor for all attributes.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">ForeignKey</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncAttrs</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">DeclarativeBase</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Mapped</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">mapped_column</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">relationship</span>


<span class="k">class</span> <span class="nc">Base</span><span class="p">(</span><span class="n">AsyncAttrs</span><span class="p">,</span> <span class="n">DeclarativeBase</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span>

    <span class="n">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
    <span class="n">bs</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">B</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;b&quot;</span>
    <span class="n">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">a_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;a.id&quot;</span><span class="p">))</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">str</span><span class="p">]</span></pre><div class="code-annotations-key"></div></div>
</div>
<p>In the above example, the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="sqlalchemy.ext.asyncio.AsyncAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a> mixin is applied to
the declarative <code class="docutils literal notranslate"><span class="pre">Base</span></code> class where it takes effect for all subclasses.
This mixin adds a single new attribute
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs" title="sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncAttrs.awaitable_attrs</span></code></a> to all classes, which will
yield the value of any attribute as an awaitable. This allows attributes
which may be subject to lazy loading or deferred / unexpiry loading to be
accessed such that IO can still be emitted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">scalars</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

<span class="c1"># use the lazy loader on ``a1.bs`` via the ``.awaitable_attrs``</span>
<span class="c1"># interface, so that it may be awaited</span>
<span class="k">for</span> <span class="n">b1</span> <span class="ow">in</span> <span class="k">await</span> <span class="n">a1</span><span class="o">.</span><span class="n">awaitable_attrs</span><span class="o">.</span><span class="n">bs</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs" title="sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncAttrs.awaitable_attrs</span></code></a> performs a call against the
attribute that is approximately equivalent to using the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a> method, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">b1</span> <span class="ow">in</span> <span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="k">lambda</span> <span class="n">sess</span><span class="p">:</span> <span class="n">a1</span><span class="o">.</span><span class="n">bs</span><span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.13.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs"><span class="sig-name descname">awaitable_attrs</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#asyncio-orm-avoid-lazyloads"><span class="std std-ref">Preventing Implicit IO when Using AsyncSession</span></a></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncAttrs.</span></code></a><span class="sig-name descname"><span class="pre">awaitable_attrs</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncAttrs.awaitable_attrs" title="Link to this definition">Â¶</a></dt>
<dd><p>provide a namespace of all attributes on this object wrapped
as awaitables.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">scalars</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

<span class="n">some_attribute</span> <span class="o">=</span> <span class="k">await</span> <span class="n">a1</span><span class="o">.</span><span class="n">awaitable_attrs</span><span class="o">.</span><span class="n">some_deferred_attribute</span>
<span class="n">some_collection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">a1</span><span class="o">.</span><span class="n">awaitable_attrs</span><span class="o">.</span><span class="n">some_collection</span></pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncSession</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession" title="Link to this definition">Â¶</a></dt>
<dd><p>Asyncio version of <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is a proxy for a traditional
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> instance.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> is <strong>not safe for use in concurrent
tasks.</strong>.  See <a class="reference internal" href="../session_basics.html#session-faq-threadsafe"><span class="std std-ref">Is the Session thread-safe?  Is AsyncSession safe to share in concurrent tasks?</span></a> for background.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<p>To use an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> with custom <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>
implementations, see the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.params.sync_session_class" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a> parameter.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session_class"><span class="sig-name descname">sync_session_class</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.aclose"><span class="sig-name descname">aclose()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.add"><span class="sig-name descname">add()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.add_all"><span class="sig-name descname">add_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.autoflush"><span class="sig-name descname">autoflush</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin"><span class="sig-name descname">begin()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin_nested"><span class="sig-name descname">begin_nested()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close"><span class="sig-name descname">close()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close_all"><span class="sig-name descname">close_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.commit"><span class="sig-name descname">commit()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.connection"><span class="sig-name descname">connection()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.delete"><span class="sig-name descname">delete()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.deleted"><span class="sig-name descname">deleted</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.dirty"><span class="sig-name descname">dirty</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.execute"><span class="sig-name descname">execute()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire"><span class="sig-name descname">expire()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire_all"><span class="sig-name descname">expire_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge"><span class="sig-name descname">expunge()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge_all"><span class="sig-name descname">expunge_all()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.flush"><span class="sig-name descname">flush()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get"><span class="sig-name descname">get()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_bind"><span class="sig-name descname">get_bind()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_nested_transaction"><span class="sig-name descname">get_nested_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_one"><span class="sig-name descname">get_one()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.get_transaction"><span class="sig-name descname">get_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_key"><span class="sig-name descname">identity_key()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_map"><span class="sig-name descname">identity_map</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.in_nested_transaction"><span class="sig-name descname">in_nested_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.in_transaction"><span class="sig-name descname">in_transaction()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.invalidate"><span class="sig-name descname">invalidate()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.is_active"><span class="sig-name descname">is_active</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.is_modified"><span class="sig-name descname">is_modified()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.merge"><span class="sig-name descname">merge()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.new"><span class="sig-name descname">new</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.no_autoflush"><span class="sig-name descname">no_autoflush</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.object_session"><span class="sig-name descname">object_session()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh"><span class="sig-name descname">refresh()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.reset"><span class="sig-name descname">reset()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.rollback"><span class="sig-name descname">rollback()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync"><span class="sig-name descname">run_sync()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalar"><span class="sig-name descname">scalar()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars"><span class="sig-name descname">scalars()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream"><span class="sig-name descname">stream()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream_scalars"><span class="sig-name descname">stream_scalars()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session"><span class="sig-name descname">sync_session</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.ReversibleProxy</span></code>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.sync_session_class">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">sync_session_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><span class="pre">Session</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;class</span> <span class="pre">'sqlalchemy.orm.session.Session'&gt;</span></em><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session_class" title="Link to this definition">Â¶</a></dt>
<dd><p>The class or callable that provides the
underlying <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> instance for a particular
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<p>At the class level, this attribute is the default value for the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.params.sync_session_class" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a> parameter. Custom
subclasses of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> can override this.</p>
<p>At the instance level, this attribute indicates the current class or
callable that was used to provide the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> instance for
this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> instance.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_AsyncSessionBind</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">_SessionBindKey</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">_AsyncSessionBind</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_session_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><span class="pre">Session</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.__init__" title="Link to this definition">Â¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<p>All parameters other than <code class="docutils literal notranslate"><span class="pre">sync_session_class</span></code> are passed to the
<code class="docutils literal notranslate"><span class="pre">sync_session_class</span></code> callable directly to instantiate a new
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. Refer to <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.__init__" title="sqlalchemy.orm.Session.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.__init__()</span></code></a> for
parameter documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncSession.params.sync_session_class"></span><strong>sync_session_class</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.params.sync_session_class">Â¶</a> â <p>A <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> subclass or other callable which will be used
to construct the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> which will be proxied. This
parameter may be used to provide custom <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>
subclasses. Defaults to the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session_class" title="sqlalchemy.ext.asyncio.AsyncSession.sync_session_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a> class-level
attribute.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24.</span></p>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.aclose">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aclose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.aclose" title="Link to this definition">Â¶</a></dt>
<dd><p>A synonym for <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.aclose" title="sqlalchemy.ext.asyncio.AsyncSession.aclose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.aclose()</span></code></a> name is specifically
to support the Python standard library <code class="docutils literal notranslate"><span class="pre">&#64;contextlib.aclosing</span></code>
context manager function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.20.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.add">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_warn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.add" title="Link to this definition">Â¶</a></dt>
<dd><p>Place an object into this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>Objects that are in the <a class="reference internal" href="../../glossary.html#term-transient"><span class="xref std std-term">transient</span></a> state when passed to the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> method will move to the
<a class="reference internal" href="../../glossary.html#term-pending"><span class="xref std std-term">pending</span></a> state, until the next flush, at which point they
will move to the <a class="reference internal" href="../../glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a> state.</p>
<p>Objects that are in the <a class="reference internal" href="../../glossary.html#term-detached"><span class="xref std std-term">detached</span></a> state when passed to the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> method will move to the <a class="reference internal" href="../../glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a>
state directly.</p>
<p>If the transaction used by the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is rolled back,
objects which were transient when they were passed to
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> will be moved back to the
<a class="reference internal" href="../../glossary.html#term-transient"><span class="xref std std-term">transient</span></a> state, and will no longer be present within this
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add_all" title="sqlalchemy.orm.Session.add_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add_all()</span></code></a></p>
<p><a class="reference internal" href="../session_basics.html#session-adding"><span class="std std-ref">Adding New or Existing Items</span></a> - at <a class="reference internal" href="../session_basics.html#id1"><span class="std std-ref">Basics of Using a Session</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.add_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">add_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.add_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Add the given collection of instances to this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>See the documentation for <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> for a general
behavioral description.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a></p>
<p><a class="reference internal" href="../session_basics.html#session-adding"><span class="std std-ref">Adding New or Existing Items</span></a> - at <a class="reference internal" href="../session_basics.html#id1"><span class="std std-ref">Basics of Using a Session</span></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.autoflush">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">autoflush</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.autoflush" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.autoflush</span></code> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.begin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">begin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.session.AsyncSessionTransaction"><span class="pre">AsyncSessionTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.begin" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a> object.</p>
<p>The underlying <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> will perform the
âbeginâ action when the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a>
object is entered:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">async_session</span><span class="o">.</span><span class="n">begin</span><span class="p">():</span>
    <span class="c1"># .. ORM transaction is begun</span></pre></div>
</div>
<p>Note that database IO will not normally occur when the session-level
transaction is begun, as database transactions begin on an
on-demand basis.  However, the begin block is async to accommodate
for a <a class="reference internal" href="../events.html#sqlalchemy.orm.SessionEvents.after_transaction_create" title="sqlalchemy.orm.SessionEvents.after_transaction_create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionEvents.after_transaction_create()</span></code></a>
event hook that may perform IO.</p>
<p>For a general description of ORM begin, see
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.begin" title="sqlalchemy.orm.Session.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.begin()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.begin_nested">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">begin_nested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.session.AsyncSessionTransaction"><span class="pre">AsyncSessionTransaction</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.begin_nested" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a> object
which will begin a ânestedâ transaction, e.g. SAVEPOINT.</p>
<p>Behavior is the same as that of <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin" title="sqlalchemy.ext.asyncio.AsyncSession.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.begin()</span></code></a>.</p>
<p>For a general description of ORM begin nested, see
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.begin_nested" title="sqlalchemy.orm.Session.begin_nested"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.begin_nested()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../dialects/sqlite.html#aiosqlite-serializable"><span class="std std-ref">Serializable isolation / Savepoints / Transactional DDL (asyncio version)</span></a> - special workarounds required
with the SQLite asyncio driver in order for SAVEPOINT to work
correctly.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.close">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="Link to this definition">Â¶</a></dt>
<dd><p>Close out the transactional resources and ORM objects used by this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.close" title="sqlalchemy.orm.Session.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.close()</span></code></a> - main documentation for
âcloseâ</p>
<p><a class="reference internal" href="../session_basics.html#session-closing"><span class="std std-ref">Closing</span></a> - detail on the semantics of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.reset" title="sqlalchemy.ext.asyncio.AsyncSession.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.reset()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.close_all">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">close_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.close_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Close all <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> sessions.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 2.0: </span>The <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close_all" title="sqlalchemy.ext.asyncio.AsyncSession.close_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close_all()</span></code></a> method is deprecated and will be removed in a future release.  Please refer to <a class="reference internal" href="#sqlalchemy.ext.asyncio.close_all_sessions" title="sqlalchemy.ext.asyncio.close_all_sessions"><code class="xref py py-func docutils literal notranslate"><span class="pre">close_all_sessions()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.commit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.commit" title="Link to this definition">Â¶</a></dt>
<dd><p>Commit the current transaction in progress.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.commit" title="sqlalchemy.orm.Session.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.commit()</span></code></a> - main documentation for
âcommitâ</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.connection">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreExecuteOptionsParameter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><span class="pre">AsyncConnection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.connection" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection" title="sqlalchemy.ext.asyncio.AsyncConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncConnection</span></code></a> object corresponding to
this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs transactional state.</p>
<p>This method may also be used to establish execution options for the
database connection used by the current transaction.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24: </span>Added **kw arguments which are passed
through to the underlying <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.connection" title="sqlalchemy.orm.Session.connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.connection()</span></code></a> method.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.connection" title="sqlalchemy.orm.Session.connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.connection()</span></code></a> - main documentation for
âconnectionâ</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.delete">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.delete" title="Link to this definition">Â¶</a></dt>
<dd><p>Mark an instance as deleted.</p>
<p>The database delete operation occurs upon <code class="docutils literal notranslate"><span class="pre">flush()</span></code>.</p>
<p>As this operation may need to cascade along unloaded relationships,
it is awaitable to allow for those queries to take place.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.delete" title="sqlalchemy.orm.Session.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.delete()</span></code></a> - main documentation for delete</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.deleted">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">deleted</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.deleted" title="Link to this definition">Â¶</a></dt>
<dd><p>The set of all instances marked as âdeletedâ within this <code class="docutils literal notranslate"><span class="pre">Session</span></code></p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.dirty">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">dirty</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.dirty" title="Link to this definition">Â¶</a></dt>
<dd><p>The set of all persistent instances considered dirty.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">some_mapped_object</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">dirty</span></pre></div>
</div>
<p>Instances are considered dirty when they were modified but not
deleted.</p>
<p>Note that this âdirtyâ calculation is âoptimisticâ; most
attribute-setting or collection modification operations will
mark an instance as âdirtyâ and place it in this set, even if
there is no net change to the attributeâs value.  At flush
time, the value of each attribute is compared to its
previously saved value, and if thereâs no net change, no SQL
operation will occur (this is a more expensive operation so
itâs only done at flush time).</p>
<p>To check if an instance has actionable net changes to its
attributes, use the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_modified" title="sqlalchemy.orm.Session.is_modified"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.is_modified()</span></code></a> method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><span class="pre">Result</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.execute" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a buffered
<a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Result" title="sqlalchemy.engine.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> - main documentation for execute</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.expire">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">expire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.expire" title="Link to this definition">Â¶</a></dt>
<dd><p>Expire the attributes on an instance.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>Marks the attributes of an instance as out of date. When an expired
attribute is next accessed, a query will be issued to the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs current transactional context in order to
load all expired attributes for the given instance.   Note that
a highly isolated transaction will return the same values as were
previously read in that same transaction, regardless of changes
in database state outside of that transaction.</p>
<p>To expire all objects in the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> simultaneously,
use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire_all()</span></code>.</p>
<p>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs default behavior is to
expire all state whenever the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code>
or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.commit()</span></code> methods are called, so that new
state can be loaded for the new transaction.   For this reason,
calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code> only makes sense for the specific
case that a non-ORM SQL statement was emitted in the current
transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncSession.expire.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire.params.instance">Â¶</a> â The instance to be refreshed.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncSession.expire.params.attribute_names"></span><strong>attribute_names</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.expire.params.attribute_names">Â¶</a> â optional list of string attribute names
indicating a subset of attributes to be expired.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_state_management.html#session-expire"><span class="std std-ref">Refreshing / Expiring</span></a> - introductory material</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.expire" title="sqlalchemy.orm.Session.expire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code></a></p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/query.html#sqlalchemy.orm.Query.populate_existing" title="sqlalchemy.orm.Query.populate_existing"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.populate_existing()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.expire_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">expire_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.expire_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Expires all persistent instances within this Session.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>When any attributes on a persistent instance is next accessed,
a query will be issued using the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs current transactional context in order to
load all expired attributes for the given instance.   Note that
a highly isolated transaction will return the same values as were
previously read in that same transaction, regardless of changes
in database state outside of that transaction.</p>
<p>To expire individual objects and individual attributes
on those objects, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code>.</p>
<p>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objectâs default behavior is to
expire all state whenever the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code>
or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.commit()</span></code> methods are called, so that new
state can be loaded for the new transaction.   For this reason,
calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire_all()</span></code> is not usually needed,
assuming the transaction is isolated.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_state_management.html#session-expire"><span class="std std-ref">Refreshing / Expiring</span></a> - introductory material</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.expire" title="sqlalchemy.orm.Session.expire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.expire()</span></code></a></p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a></p>
<p><a class="reference internal" href="../queryguide/query.html#sqlalchemy.orm.Query.populate_existing" title="sqlalchemy.orm.Query.populate_existing"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.populate_existing()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.expunge">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">expunge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge" title="Link to this definition">Â¶</a></dt>
<dd><p>Remove the <cite>instance</cite> from this <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This will free all internal references to the instance.  Cascading
will be applied according to the <em>expunge</em> cascade rule.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.expunge_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">expunge_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.expunge_all" title="Link to this definition">Â¶</a></dt>
<dd><p>Remove all object instances from this <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This is equivalent to calling <code class="docutils literal notranslate"><span class="pre">expunge(obj)</span></code> on all objects in this
<code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.flush">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.flush" title="Link to this definition">Â¶</a></dt>
<dd><p>Flush all the object changes to the database.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.flush" title="sqlalchemy.orm.Session.flush"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.flush()</span></code></a> - main documentation for flush</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.get">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_EntityBindKey</span><span class="p"><span class="pre">[</span></span><span class="pre">_O</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_PKIdentityArgument</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ORMOption</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">populate_existing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_for_update</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ForUpdateParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identity_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_O</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.get" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an instance based on the given primary key identifier,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if not found.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get" title="sqlalchemy.orm.Session.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get()</span></code></a> - main documentation for get</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.get_bind">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">get_bind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_EntityBindKey</span><span class="p"><span class="pre">[</span></span><span class="pre">_O</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><span class="pre">ClauseElement</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_SessionBind</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><span class="pre">Engine</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><span class="pre">Connection</span></a></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.get_bind" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a âbindâ to which the synchronous proxied <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>
is bound.</p>
<p>Unlike the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> method, this method is
currently <strong>not</strong> used by this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> in any way
in order to resolve engines for requests.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method proxies directly to the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a>
method, however is currently <strong>not</strong> useful as an override target,
in contrast to that of the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> method.
The example below illustrates how to implement custom
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> schemes that work with
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> and <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>.</p>
</div>
<p>The pattern introduced at <a class="reference internal" href="../persistence_techniques.html#session-custom-partitioning"><span class="std std-ref">Custom Vertical Partitioning</span></a>
illustrates how to apply a custom bind-lookup scheme to a
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> given a set of <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> objects.
To apply a corresponding <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> implementation
for use with a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> and <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a>
objects, continue to subclass <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> and apply it to
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> using
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.params.sync_session_class" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">AsyncSession.sync_session_class</span></code></a>. The inner method must
continue to return <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> instances, which can be
acquired from a <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine" title="sqlalchemy.ext.asyncio.AsyncEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncEngine</span></code></a> using the
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncEngine.sync_engine" title="sqlalchemy.ext.asyncio.AsyncEngine.sync_engine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AsyncEngine.sync_engine</span></code></a> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># using example from &quot;Custom Vertical Partitioning&quot;</span>


<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">AsyncSession</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">create_async_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">async_sessionmaker</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="c1"># construct async engines w/ async drivers</span>
<span class="n">engines</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;leader&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///leader.db&quot;</span><span class="p">),</span>
    <span class="s1">&#39;other&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///other.db&quot;</span><span class="p">),</span>
    <span class="s1">&#39;follower1&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///follower1.db&quot;</span><span class="p">),</span>
    <span class="s1">&#39;follower2&#39;</span><span class="p">:</span><span class="n">create_async_engine</span><span class="p">(</span><span class="s2">&quot;sqlite+aiosqlite:///follower2.db&quot;</span><span class="p">),</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">RoutingSession</span><span class="p">(</span><span class="n">Session</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clause</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="c1"># within get_bind(), return sync engines</span>
        <span class="k">if</span> <span class="n">mapper</span> <span class="ow">and</span> <span class="n">issubclass</span><span class="p">(</span><span class="n">mapper</span><span class="o">.</span><span class="n">class_</span><span class="p">,</span> <span class="n">MyOtherClass</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">engines</span><span class="p">[</span><span class="s1">&#39;other&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sync_engine</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flushing</span> <span class="ow">or</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">clause</span><span class="p">,</span> <span class="p">(</span><span class="n">Update</span><span class="p">,</span> <span class="n">Delete</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">engines</span><span class="p">[</span><span class="s1">&#39;leader&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sync_engine</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">engines</span><span class="p">[</span>
                <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;follower1&#39;</span><span class="p">,</span><span class="s1">&#39;follower2&#39;</span><span class="p">])</span>
            <span class="p">]</span><span class="o">.</span><span class="n">sync_engine</span>

<span class="c1"># apply to AsyncSession using sync_session_class</span>
<span class="n">AsyncSessionMaker</span> <span class="o">=</span> <span class="n">async_sessionmaker</span><span class="p">(</span>
    <span class="n">sync_session_class</span><span class="o">=</span><span class="n">RoutingSession</span>
<span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> method is called in a non-asyncio,
implicitly non-blocking context in the same manner as ORM event hooks
and functions that are invoked via <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="sqlalchemy.ext.asyncio.AsyncSession.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.run_sync()</span></code></a>, so
routines that wish to run SQL commands inside of
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_bind" title="sqlalchemy.orm.Session.get_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_bind()</span></code></a> can continue to do so using
blocking-style code, which will be translated to implicitly async calls
at the point of invoking IO on the database drivers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.get_nested_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">get_nested_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.session.AsyncSessionTransaction"><span class="pre">AsyncSessionTransaction</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.get_nested_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the current nested transaction in progress, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a> object, or
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.18.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.get_one">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_EntityBindKey</span><span class="p"><span class="pre">[</span></span><span class="pre">_O</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_PKIdentityArgument</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ORMOption</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">populate_existing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_for_update</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ForUpdateParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identity_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_O</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.get_one" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an instance based on the given primary key identifier,
or raise an exception if not found.</p>
<p>Raises <code class="docutils literal notranslate"><span class="pre">sqlalchemy.orm.exc.NoResultFound</span></code> if the query selects
no rows.</p>
<p>..versionadded: 2.0.22</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.get_one" title="sqlalchemy.orm.Session.get_one"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.get_one()</span></code></a> - main documentation for get_one</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.get_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">get_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.session.AsyncSessionTransaction"><span class="pre">AsyncSessionTransaction</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.get_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the current root transaction in progress, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSessionTransaction</span></code></a> object, or
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.18.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.identity_key">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">identity_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/sqlelement.html#sqlalchemy.sql.expression.Tuple" title="sqlalchemy.sql.expression.Tuple"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><span class="pre">Row</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.RowMapping" title="sqlalchemy.engine.RowMapping"><span class="pre">RowMapping</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identity_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_IdentityKeyType</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_key" title="Link to this definition">Â¶</a></dt>
<dd><p>Return an identity key.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This is an alias of <a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.util.identity_key" title="sqlalchemy.orm.util.identity_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">identity_key()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.identity_map">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">identity_map</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.identity_map" title="Link to this definition">Â¶</a></dt>
<dd><p>Proxy for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.identity_map" title="sqlalchemy.orm.Session.identity_map"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.identity_map</span></code></a> attribute
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.in_nested_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">in_nested_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.in_nested_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return True if this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> has begun a nested
transaction, e.g. SAVEPOINT.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.in_transaction">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">in_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.in_transaction" title="Link to this definition">Â¶</a></dt>
<dd><p>Return True if this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> has begun a transaction.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_active" title="sqlalchemy.orm.Session.is_active"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.is_active</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.info" title="Link to this definition">Â¶</a></dt>
<dd><p>A user-modifiable dictionary.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>The initial value of this dictionary can be populated using the
<code class="docutils literal notranslate"><span class="pre">info</span></code> argument to the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> constructor or
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.sessionmaker" title="sqlalchemy.orm.sessionmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sessionmaker</span></code></a> constructor or factory methods.  The dictionary
here is always local to this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> and can be modified
independently of all other <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.invalidate">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">invalidate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.invalidate" title="Link to this definition">Â¶</a></dt>
<dd><p>Close this Session, using connection invalidation.</p>
<p>For a complete description, see <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.invalidate" title="sqlalchemy.orm.Session.invalidate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.invalidate()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.is_active">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">is_active</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.is_active" title="Link to this definition">Â¶</a></dt>
<dd><p>True if this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> not in âpartial rollbackâ state.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>The <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> no longer begins
a new transaction immediately, so this attribute will be False
when the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is first instantiated.</p>
</div>
<p>âpartial rollbackâ state typically indicates that the flush process
of the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> has failed, and that the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.rollback" title="sqlalchemy.orm.Session.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code></a> method must be emitted in order to
fully roll back the transaction.</p>
<p>If this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is not in a transaction at all, the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> will autobegin when it is first used, so in this
case <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_active" title="sqlalchemy.orm.Session.is_active"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.is_active</span></code></a> will return True.</p>
<p>Otherwise, if this <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> is within a transaction,
and that transaction has not been rolled back internally, the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.is_active" title="sqlalchemy.orm.Session.is_active"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.is_active</span></code></a> will also return True.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../../faq/sessions.html#faq-session-rollback"><span class="std std-ref">âThis Sessionâs transaction has been rolled back due to a previous exception during flush.â (or similar)</span></a></p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.in_transaction" title="sqlalchemy.orm.Session.in_transaction"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.in_transaction()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.is_modified">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">is_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_collections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.is_modified" title="Link to this definition">Â¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given instance has locally
modified attributes.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This method retrieves the history for each instrumented
attribute on the instance and performs a comparison of the current
value to its previously flushed or committed value, if any.</p>
<p>It is in effect a more expensive and accurate
version of checking for the given instance in the
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.dirty" title="sqlalchemy.orm.Session.dirty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.dirty</span></code></a> collection; a full test for
each attributeâs net âdirtyâ status is performed.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">is_modified</span><span class="p">(</span><span class="n">someobject</span><span class="p">)</span></pre></div>
</div>
<p>A few caveats to this method apply:</p>
<ul>
<li><p>Instances present in the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.dirty" title="sqlalchemy.orm.Session.dirty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.dirty</span></code></a> collection may
report <code class="docutils literal notranslate"><span class="pre">False</span></code> when tested with this method.  This is because
the object may have received change events via attribute mutation,
thus placing it in <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.dirty" title="sqlalchemy.orm.Session.dirty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Session.dirty</span></code></a>, but ultimately the state
is the same as that loaded from the database, resulting in no net
change here.</p></li>
<li><p>Scalar attributes may not have recorded the previously set
value when a new value was applied, if the attribute was not loaded,
or was expired, at the time the new value was received - in these
cases, the attribute is assumed to have a change, even if there is
ultimately no net change against its database value. SQLAlchemy in
most cases does not need the âoldâ value when a set event occurs, so
it skips the expense of a SQL call if the old value isnât present,
based on the assumption that an UPDATE of the scalar value is
usually needed, and in those few cases where it isnât, is less
expensive on average than issuing a defensive SELECT.</p>
<p>The âoldâ value is fetched unconditionally upon set only if the
attribute container has the <code class="docutils literal notranslate"><span class="pre">active_history</span></code> flag set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
This flag is set typically for primary key attributes and scalar
object references that are not a simple many-to-one.  To set this
flag for any arbitrary mapped column, use the <code class="docutils literal notranslate"><span class="pre">active_history</span></code>
argument with <a class="reference internal" href="../mapping_api.html#sqlalchemy.orm.column_property" title="sqlalchemy.orm.column_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">column_property()</span></code></a>.</p>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncSession.is_modified.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.is_modified.params.instance">Â¶</a> â mapped instance to be tested for pending changes.</p></li>
<li><p><span class="target" id="sqlalchemy.ext.asyncio.AsyncSession.is_modified.params.include_collections"></span><strong>include_collections</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.is_modified.params.include_collections">Â¶</a> â Indicates if multivalued collections
should be included in the operation.  Setting this to <code class="docutils literal notranslate"><span class="pre">False</span></code> is a
way to detect only local-column based properties (i.e. scalar columns
or many-to-one foreign keys) that would result in an UPDATE for this
instance upon flush.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.merge">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_O</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ORMOption</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_O</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.merge" title="Link to this definition">Â¶</a></dt>
<dd><p>Copy the state of a given instance into a corresponding instance
within this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.merge" title="sqlalchemy.orm.Session.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.merge()</span></code></a> - main documentation for merge</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.new">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">new</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.new" title="Link to this definition">Â¶</a></dt>
<dd><p>The set of all instances marked as ânewâ within this <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.no_autoflush">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">no_autoflush</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.no_autoflush" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a context manager that disables autoflush.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class
on behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">no_autoflush</span><span class="p">:</span>

    <span class="n">some_object</span> <span class="o">=</span> <span class="n">SomeClass</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span>
    <span class="c1"># won&#39;t autoflush</span>
    <span class="n">some_object</span><span class="o">.</span><span class="n">related_thing</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SomeRelated</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span></pre></div>
</div>
<p>Operations that proceed within the <code class="docutils literal notranslate"><span class="pre">with:</span></code> block
will not be subject to flushes occurring upon query
access.  This is useful when initializing a series
of objects which involve existing database queries,
where the uncompleted object should not yet be flushed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.object_session">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">object_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.session.Session"><span class="pre">Session</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.object_session" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> to which an object belongs.</p>
<div class="class-bases docutils container">
<p>Proxied for the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> class on
behalf of the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> class.</p>
</div>
<p>This is an alias of <a class="reference internal" href="../session_api.html#sqlalchemy.orm.object_session" title="sqlalchemy.orm.object_session"><code class="xref py py-func docutils literal notranslate"><span class="pre">object_session()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.refresh">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_for_update</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ForUpdateParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.refresh" title="Link to this definition">Â¶</a></dt>
<dd><p>Expire and refresh the attributes on the given instance.</p>
<p>A query will be issued to the database and all attributes will be
refreshed with their current database value.</p>
<p>This is the async version of the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a> method.
See that method for a complete description of all options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.refresh" title="sqlalchemy.orm.Session.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.refresh()</span></code></a> - main documentation for refresh</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.reset">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.reset" title="Link to this definition">Â¶</a></dt>
<dd><p>Close out the transactional resources and ORM objects used by this
<a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>, resetting the session to its initial state.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.22.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.reset" title="sqlalchemy.orm.Session.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.reset()</span></code></a> - main documentation for
âresetâ</p>
<p><a class="reference internal" href="../session_basics.html#session-closing"><span class="std std-ref">Closing</span></a> - detail on the semantics of
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.close" title="sqlalchemy.ext.asyncio.AsyncSession.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.close()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.reset" title="sqlalchemy.ext.asyncio.AsyncSession.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.reset()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.rollback">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.rollback" title="Link to this definition">Â¶</a></dt>
<dd><p>Rollback the current transaction in progress.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.rollback" title="sqlalchemy.orm.Session.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.rollback()</span></code></a> - main documentation for
ârollbackâ</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.run_sync">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_sync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fn:</span> <span class="pre">~typing.Callable[[~typing.Concatenate[~sqlalchemy.orm.session.Session,</span> <span class="pre">~_P]],</span> <span class="pre">~sqlalchemy.ext.asyncio.session._T],</span> <span class="pre">*arg:</span> <span class="pre">~typing.~_P,</span> <span class="pre">**kw:</span> <span class="pre">~typing.~_P</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_T</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.run_sync" title="Link to this definition">Â¶</a></dt>
<dd><p>Invoke the given synchronous (i.e. not async) callable,
passing a synchronous-style <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> as the first
argument.</p>
<p>This method allows traditional synchronous SQLAlchemy functions to
run within the context of an asyncio application.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">some_business_method</span><span class="p">(</span><span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span> <span class="n">param</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;A synchronous function that does not require awaiting</span>

<span class="sd">    :param session: a SQLAlchemy Session, used synchronously</span>

<span class="sd">    :return: an optional return value is supported</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">MyObject</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="n">param</span><span class="p">))</span>
    <span class="n">session</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;success&quot;</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">do_something_async</span><span class="p">(</span><span class="n">async_engine</span><span class="p">:</span> <span class="n">AsyncEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;an async function that uses awaiting&#39;&#39;&#39;</span>

    <span class="k">with</span> <span class="n">AsyncSession</span><span class="p">(</span><span class="n">async_engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">async_session</span><span class="p">:</span>
        <span class="c1"># run some_business_method() with a sync-style</span>
        <span class="c1"># Session, proxied into an awaitable</span>
        <span class="n">return_code</span> <span class="o">=</span> <span class="k">await</span> <span class="n">async_session</span><span class="o">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">some_business_method</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="s2">&quot;param1&quot;</span><span class="p">)</span>
        <span class="n">print</span><span class="p">(</span><span class="n">return_code</span><span class="p">)</span></pre></div>
</div>
<p>This method maintains the asyncio event loop all the way through
to the database connection by running the given callable in a
specially instrumented greenlet.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The provided callable is invoked inline within the asyncio event
loop, and will block on traditional IO calls.  IO within this
callable should only call into SQLAlchemyâs asyncio database
APIs which will be properly adapted to the greenlet context.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncAttrs" title="sqlalchemy.ext.asyncio.AsyncAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncAttrs</span></code></a>  - a mixin for ORM mapped classes that provides
a similar feature more succinctly on a per-attribute basis</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncConnection.run_sync" title="sqlalchemy.ext.asyncio.AsyncConnection.run_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncConnection.run_sync()</span></code></a></p>
<p><a class="reference internal" href="#session-run-sync"><span class="std std-ref">Running Synchronous Methods and Functions under asyncio</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.scalar" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a scalar result.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.scalar" title="sqlalchemy.orm.Session.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalar()</span></code></a> - main documentation for scalar</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><span class="pre">ScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return scalar results.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <a class="reference internal" href="../../core/connections.html#sqlalchemy.engine.ScalarResult" title="sqlalchemy.engine.ScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarResult</span></code></a> object</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24: </span>Added <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars" title="sqlalchemy.ext.asyncio.AsyncSession.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.scalars()</span></code></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.26: </span>Added
<a class="reference internal" href="#sqlalchemy.ext.asyncio.async_scoped_session.scalars" title="sqlalchemy.ext.asyncio.async_scoped_session.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">async_scoped_session.scalars()</span></code></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.scalars" title="sqlalchemy.orm.Session.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalars()</span></code></a> - main documentation for scalars</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.stream_scalars" title="sqlalchemy.ext.asyncio.AsyncSession.stream_scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.stream_scalars()</span></code></a> - streaming version</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.stream">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><span class="pre">AsyncResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.stream" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a streaming
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncResult" title="sqlalchemy.ext.asyncio.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncResult</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.stream_scalars">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream_scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><span class="pre">Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CoreAnyExecuteParams</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OrmExecuteOptionsParameter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BindArguments</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><span class="pre">AsyncScalarResult</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.stream_scalars" title="Link to this definition">Â¶</a></dt>
<dd><p>Execute a statement and return a stream of scalar results.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncScalarResult" title="sqlalchemy.ext.asyncio.AsyncScalarResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncScalarResult</span></code></a> object</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.24.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session.scalars" title="sqlalchemy.orm.Session.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalars()</span></code></a> - main documentation for scalars</p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.scalars" title="sqlalchemy.ext.asyncio.AsyncSession.scalars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.scalars()</span></code></a> - non streaming version</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSession.sync_session">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSession.</span></code></a><span class="sig-name descname"><span class="pre">sync_session</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><span class="pre">Session</span></a></em><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSession.sync_session" title="Link to this definition">Â¶</a></dt>
<dd><p>Reference to the underlying <a class="reference internal" href="../session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> this
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession" title="sqlalchemy.ext.asyncio.AsyncSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code></a> proxies requests towards.</p>
<p>This instance can be used as an event target.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#asyncio-events"><span class="std std-ref">Using events with the asyncio extension</span></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSessionTransaction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.ext.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncSessionTransaction</span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="Link to this definition">Â¶</a></dt>
<dd><p>A wrapper for the ORM <a class="reference internal" href="../session_api.html#sqlalchemy.orm.SessionTransaction" title="sqlalchemy.orm.SessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionTransaction</span></code></a> object.</p>
<p>This object is provided so that a transaction-holding object
for the <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSession.begin" title="sqlalchemy.ext.asyncio.AsyncSession.begin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSession.begin()</span></code></a> may be returned.</p>
<p>The object supports both explicit calls to
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSessionTransaction.commit()</span></code></a> and
<a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AsyncSessionTransaction.rollback()</span></code></a>, as well as use as an
async context manager.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit"><span class="sig-name descname">commit()</span></a>, <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback"><span class="sig-name descname">rollback()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction" title="sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSessionTransaction</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.ReversibleProxy</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.base.StartableContext</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSessionTransaction.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.commit" title="Link to this definition">Â¶</a></dt>
<dd><p>Commit this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.asyncio.AsyncSessionTransaction.</span></code></a><em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback" title="Link to this definition">Â¶</a></dt>
<dd><p>Roll back this <a class="reference internal" href="#sqlalchemy.ext.asyncio.AsyncTransaction" title="sqlalchemy.ext.asyncio.AsyncTransaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTransaction</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="index.html" title="previous chapter">ORM Extensions</a>
        Next:
        <a href="associationproxy.html" title="next chapter">Association Proxy</a>

    <div id="docs-copyright">
        &copy; <a href="../../copyright.html">Copyright</a> 2007-2024, the SQLAlchemy authors and contributors.


    <p><b>flambÃ©!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.2.6.

    Documentation last generated: Mon 05 Aug 2024 08:14:11 PM  JST

    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      document.documentElement.dataset.content_root = '../../';

    </script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script type="text/javascript" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/sphinx_highlight.js"></script>
        <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../../_static/init.js"></script>


    </body>
</html>


