<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>
            
    
    Insert, Updates, Deletes
 &mdash;
    SQLAlchemy 2.0 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 2.0 Documentation" href="../index.html" />
        <link rel="up" title="SQL Statements and Expressions API" href="expression_api.html" />
        <link rel="next" title="SQL and Generic Functions" href="functions.html" />
        <link rel="prev" title="SELECT and Related Constructs" href="selectable.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">2.0.31</span>


        | Release Date: June 18, 2024

    </div>

    <h1><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">



        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../index.html">Home</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="SQLAlchemy Core">SQLAlchemy Core</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="expression_api.html">SQL Statements and Expressions API</a></span><ul>
<li><span class="link-container"><a class="reference external" href="sqlelement.html">Column Elements and Expressions</a></span></li>
<li><span class="link-container"><a class="reference external" href="operators.html">Operator Reference</a></span></li>
<li><span class="link-container"><a class="reference external" href="selectable.html">SELECT and Related Constructs</a></span></li>
<li class="selected"><span class="link-container"><strong>Insert, Updates, Deletes</strong><a class="paramlink headerlink reference internal" href="#">Â¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#dml-foundational-constructors">DML Foundational Constructors</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.delete"><code class="docutils literal notranslate"><span class="pre">delete()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.insert"><code class="docutils literal notranslate"><span class="pre">insert()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.update"><code class="docutils literal notranslate"><span class="pre">update()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#dml-class-documentation-constructors">DML Class Documentation Constructors</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Delete"><code class="docutils literal notranslate"><span class="pre">Delete</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Delete.where"><code class="docutils literal notranslate"><span class="pre">Delete.where()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Delete.returning"><code class="docutils literal notranslate"><span class="pre">Delete.returning()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">Insert</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Insert.values"><code class="docutils literal notranslate"><span class="pre">Insert.values()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Insert.returning"><code class="docutils literal notranslate"><span class="pre">Insert.returning()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Insert.from_select"><code class="docutils literal notranslate"><span class="pre">Insert.from_select()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Insert.inline"><code class="docutils literal notranslate"><span class="pre">Insert.inline()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Insert.select"><code class="docutils literal notranslate"><span class="pre">Insert.select</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">Update</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Update.returning"><code class="docutils literal notranslate"><span class="pre">Update.returning()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Update.where"><code class="docutils literal notranslate"><span class="pre">Update.where()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Update.values"><code class="docutils literal notranslate"><span class="pre">Update.values()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Update.inline"><code class="docutils literal notranslate"><span class="pre">Update.inline()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.Update.ordered_values"><code class="docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.entity_description"><code class="docutils literal notranslate"><span class="pre">UpdateBase.entity_description</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.exported_columns"><code class="docutils literal notranslate"><span class="pre">UpdateBase.exported_columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.params"><code class="docutils literal notranslate"><span class="pre">UpdateBase.params()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.returning"><code class="docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions"><code class="docutils literal notranslate"><span class="pre">UpdateBase.returning_column_descriptions</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.with_dialect_options"><code class="docutils literal notranslate"><span class="pre">UpdateBase.with_dialect_options()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="docutils literal notranslate"><span class="pre">UpdateBase.with_hint()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.ValuesBase"><code class="docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.ValuesBase.select"><code class="docutils literal notranslate"><span class="pre">ValuesBase.select</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.sql.expression.ValuesBase.values"><code class="docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="functions.html">SQL and Generic Functions</a></span></li>
<li><span class="link-container"><a class="reference external" href="compiler.html">Custom SQL Constructs and Compilation Extension</a></span></li>
<li><span class="link-container"><a class="reference external" href="serializer.html">Expression Serializer Extension</a></span></li>
<li><span class="link-container"><a class="reference external" href="foundation.html">SQL Expression Language Foundational Constructs</a></span></li>
<li><span class="link-container"><a class="reference external" href="visitors.html">Visitor and Traversal Utilities</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="schema.html">Schema Definition Language</a></span></li>
<li><span class="link-container"><a class="reference external" href="types.html">SQL Datatype Objects</a></span></li>
<li><span class="link-container"><a class="reference external" href="engines_connections.html">Engine and Connection Use</a></span></li>
<li><span class="link-container"><a class="reference external" href="api_basics.html">Core API Basics</a></span></li>
</ul>



        </div>

        </div>

    </div>

    <div id="narrow-index-nav">
        <form class="search" action="../search.html" method="get">
            <label>
                Search terms:
            <input type="text" placeholder="search..." name="q" size="12" />
            </label>
            <input type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>

        <p>
        <a href="../index.html">Home</a>
        </p>

    </div>


        <div id="docs-narrow-top-navigation">
            <ul>
                <li><b>Previous:</b>
                <a href="selectable.html" title="previous chapter">SELECT and Related Constructs</a></li>
                <li><b>Next:</b>
                <a href="functions.html" title="next chapter">SQL and Generic Functions</a></li>

            <li><b>Up:</b> <a href="../index.html">Home</a></li>
                    <ul><li><a href="index.html" title="SQLAlchemy Core">SQLAlchemy Core</a></li>
                    <ul><li><a href="expression_api.html" title="SQL Statements and Expressions API">SQL Statements and Expressions API</a></li>
                </ul>
                </ul>



            <li><b>On this page:</b></li>
            <ul>
<li><a class="reference internal" href="#insert-updates-deletes">Insert, Updates, Deletes</a><ul>
<li><a class="reference internal" href="#dml-foundational-constructors">DML Foundational Constructors</a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.delete"><code class="docutils literal notranslate"><span class="pre">delete()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.insert"><code class="docutils literal notranslate"><span class="pre">insert()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.update"><code class="docutils literal notranslate"><span class="pre">update()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#dml-class-documentation-constructors">DML Class Documentation Constructors</a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Delete"><code class="docutils literal notranslate"><span class="pre">Delete</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Delete.where"><code class="docutils literal notranslate"><span class="pre">Delete.where()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Delete.returning"><code class="docutils literal notranslate"><span class="pre">Delete.returning()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">Insert</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.values"><code class="docutils literal notranslate"><span class="pre">Insert.values()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.returning"><code class="docutils literal notranslate"><span class="pre">Insert.returning()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.from_select"><code class="docutils literal notranslate"><span class="pre">Insert.from_select()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.inline"><code class="docutils literal notranslate"><span class="pre">Insert.inline()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.select"><code class="docutils literal notranslate"><span class="pre">Insert.select</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">Update</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Update.returning"><code class="docutils literal notranslate"><span class="pre">Update.returning()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Update.where"><code class="docutils literal notranslate"><span class="pre">Update.where()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Update.values"><code class="docutils literal notranslate"><span class="pre">Update.values()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Update.inline"><code class="docutils literal notranslate"><span class="pre">Update.inline()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values"><code class="docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">UpdateBase</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.entity_description"><code class="docutils literal notranslate"><span class="pre">UpdateBase.entity_description</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.exported_columns"><code class="docutils literal notranslate"><span class="pre">UpdateBase.exported_columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params"><code class="docutils literal notranslate"><span class="pre">UpdateBase.params()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning"><code class="docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions"><code class="docutils literal notranslate"><span class="pre">UpdateBase.returning_column_descriptions</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_dialect_options"><code class="docutils literal notranslate"><span class="pre">UpdateBase.with_dialect_options()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="docutils literal notranslate"><span class="pre">UpdateBase.with_hint()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase"><code class="docutils literal notranslate"><span class="pre">ValuesBase</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.select"><code class="docutils literal notranslate"><span class="pre">ValuesBase.select</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values"><code class="docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


            </ul>

        </div>



    <div id="docs-body" role="main" class="withsidebar core-dml" >
        
<section id="insert-updates-deletes">
<h1>Insert, Updates, Deletes<a class="headerlink" href="#insert-updates-deletes" title="Link to this heading">Â¶</a></h1>
<p>INSERT, UPDATE and DELETE statements build on a hierarchy starting
with <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a>.   The <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
constructs build on the intermediary <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a>.</p>
<section id="dml-foundational-constructors">
<span id="dml-foundational-consructors"></span><h2>DML Foundational Constructors<a class="headerlink" href="#dml-foundational-constructors" title="Link to this heading">Â¶</a></h2>
<p>Top level âINSERTâ, âUPDATEâ, âDELETEâ constructors.</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.delete"><span class="sig-name descname">delete</span></a>(table)</p></td>
<td><p>Construct <a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delete</span></code></a> object.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.insert"><span class="sig-name descname">insert</span></a>(table)</p></td>
<td><p>Construct an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> object.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.update"><span class="sig-name descname">update</span></a>(table)</p></td>
<td><p>Construct an <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> object.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.delete">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLTableArgument</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><span class="pre">Delete</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.delete" title="Link to this definition">Â¶</a></dt>
<dd><p>Construct <a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delete</span></code></a> object.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">delete</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">delete</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span>
    <span class="n">where</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>Similar functionality is available via the
<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause.delete" title="sqlalchemy.sql.expression.TableClause.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TableClause.delete()</span></code></a> method on
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.delete.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.delete.params.table">Â¶</a> â The table to delete rows from.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-core-update-delete"><span class="std std-ref">Using UPDATE and DELETE Statements</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.insert">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLTableArgument</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><span class="pre">Insert</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.insert" title="Link to this definition">Â¶</a></dt>
<dd><p>Construct an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> object.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">insert</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">insert</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span>
    <span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="n">fullname</span><span class="o">=</span><span class="s1">&#39;Full Username&#39;</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>Similar functionality is available via the
<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause.insert" title="sqlalchemy.sql.expression.TableClause.insert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TableClause.insert()</span></code></a> method on
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_insert.html#tutorial-core-insert"><span class="std std-ref">Using INSERT Statements</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.insert.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.table">Â¶</a> â <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>
which is the subject of the
insert.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.insert.params.values"></span><strong>values</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.values">Â¶</a> â collection of values to be inserted; see
<a class="reference internal" href="#sqlalchemy.sql.expression.Insert.values" title="sqlalchemy.sql.expression.Insert.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.values()</span></code></a>
for a description of allowed formats here.
Can be omitted entirely; a <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct
will also dynamically render the VALUES clause at execution time
based on the parameters passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.insert.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.inline">Â¶</a> â if True, no attempt will be made to retrieve the
SQL-generated default values to be provided within the statement;
in particular,
this allows SQL expressions to be rendered âinlineâ within the
statement without the need to pre-execute them beforehand; for
backends that support âreturningâ, this turns off the âimplicit
returningâ feature for the statement.</p></li>
</ul>
</dd>
</dl>
<p>If both <a class="reference internal" href="#sqlalchemy.sql.expression.insert.params.values" title="sqlalchemy.sql.expression.insert"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">insert.values</span></code></a> and compile-time bind
parameters are present, the compile-time bind parameters override the
information specified within <a class="reference internal" href="#sqlalchemy.sql.expression.insert.params.values" title="sqlalchemy.sql.expression.insert"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">insert.values</span></code></a> on a
per-key basis.</p>
<p>The keys within <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.params.values" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Insert.values</span></code></a> can be either
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects or their string
identifiers. Each key may reference one of:</p>
<ul class="simple">
<li><p>a literal data value (i.e. string, number, etc.);</p></li>
<li><p>a Column object;</p></li>
<li><p>a SELECT statement.</p></li>
</ul>
<p>If a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement is specified which references this
<code class="docutils literal notranslate"><span class="pre">INSERT</span></code> statementâs table, the statement will be correlated
against the <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> statement.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_insert.html#tutorial-core-insert"><span class="std std-ref">Using INSERT Statements</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.update">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLTableArgument</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><span class="pre">Update</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.update" title="Link to this definition">Â¶</a></dt>
<dd><p>Construct an <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> object.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">update</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">update</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span>
    <span class="n">where</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span>
    <span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;user #5&#39;</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>Similar functionality is available via the
<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause.update" title="sqlalchemy.sql.expression.TableClause.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TableClause.update()</span></code></a> method on
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.update.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.table">Â¶</a> â A <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
object representing the database
table to be updated.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-core-update-delete"><span class="std std-ref">Using UPDATE and DELETE Statements</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

</section>
<section id="dml-class-documentation-constructors">
<h2>DML Class Documentation Constructors<a class="headerlink" href="#dml-class-documentation-constructors" title="Link to this heading">Â¶</a></h2>
<p>Class documentation for the constructors listed at
<a class="reference internal" href="#dml-foundational-consructors"><span class="std std-ref">DML Foundational Constructors</span></a>.</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Delete"><span class="sig-name descname">Delete</span></a></p></td>
<td><p>Represent a DELETE construct.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><span class="sig-name descname">Insert</span></a></p></td>
<td><p>Represent an INSERT construct.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><span class="sig-name descname">Update</span></a></p></td>
<td><p>Represent an Update construct.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><span class="sig-name descname">UpdateBase</span></a></p></td>
<td><p>Form the base for <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> statements.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase"><span class="sig-name descname">ValuesBase</span></a></p></td>
<td><p>Supplies support for <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> to
INSERT and UPDATE constructs.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Delete">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Delete</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete" title="Link to this definition">Â¶</a></dt>
<dd><p>Represent a DELETE construct.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delete</span></code></a> object is created using the
<a class="reference internal" href="#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete()</span></code></a> function.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Delete.where"><span class="sig-name descname">where()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Delete.returning"><span class="sig-name descname">returning()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Delete</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.DMLWhereBase</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Delete.where">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Delete"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Delete.</span></code></a><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">whereclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.where" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">DMLWhereBase.where()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">DMLWhereBase</span></code></p>
</div>
<p>Return a new construct with the given expression(s) added to
its WHERE clause, joined to the existing clause via AND, if any.</p>
<p>Both <a class="reference internal" href="#sqlalchemy.sql.expression.Update.where" title="sqlalchemy.sql.expression.Update.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.where()</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Delete.where" title="sqlalchemy.sql.expression.Delete.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Delete.where()</span></code></a>
support multiple-table forms, including database-specific
<code class="docutils literal notranslate"><span class="pre">UPDATE...FROM</span></code> as well as <code class="docutils literal notranslate"><span class="pre">DELETE..USING</span></code>.  For backends that
donât have multiple-table support, a backend agnostic approach
to using multiple tables is to make use of correlated subqueries.
See the linked tutorial sections below for examples.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-correlated-updates"><span class="std std-ref">Correlated Updates</span></a></p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-update-from"><span class="std std-ref">UPDATE..FROM</span></a></p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-multi-table-deletes"><span class="std std-ref">Multiple Table Deletes</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Delete.returning">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Delete"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Delete.</span></code></a><span class="sig-name descname"><span class="pre">returning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnsClauseArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_parameter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_UpdateBase__kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><span class="pre">UpdateBase</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.returning" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></p>
</div>
<p>Add a <a class="reference internal" href="../glossary.html#term-RETURNING"><span class="xref std std-term">RETURNING</span></a> or equivalent clause to this statement.</p>
<p>e.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
<span class="go">...     table.update()</span>
<span class="go">...     .where(table.c.data == &quot;value&quot;)</span>
<span class="go">...     .values(status=&quot;X&quot;)</span>
<span class="go">...     .returning(table.c.server_flag, table.c.updated_timestamp)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">UPDATE</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">status</span><span class="o">=</span><span class="p">:</span><span class="n">status</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">:</span><span class="n">data_1</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">server_flag</span><span class="p">,</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">updated_timestamp</span>
</div></pre></div>
</div>
<p>The method may be invoked multiple times to add new entries to the
list of expressions to be returned.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2: </span>The method may be invoked multiple times to
add new entries to the list of expressions to be returned.</p>
</div>
<p>The given collection of column expressions should be derived from the
table that is the target of the INSERT, UPDATE, or DELETE.  While
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects are typical, the elements can also be
expressions:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
<span class="go">...     (table.c.first_name + &quot; &quot; + table.c.last_name).label(&quot;fullname&quot;)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(:</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">last_name</span><span class="p">)</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">first_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">:</span><span class="n">first_name_1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">fullname</span>
</div></pre></div>
</div>
<p>Upon compilation, a RETURNING clause, or database equivalent,
will be rendered within the statement.   For INSERT and UPDATE,
the values are the newly inserted/updated values.  For DELETE,
the values are those of the rows which were deleted.</p>
<p>Upon execution, the values of the columns to be returned are made
available via the result set and can be iterated using
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.fetchone" title="sqlalchemy.engine.CursorResult.fetchone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.fetchone()</span></code></a> and similar.
For DBAPIs which do not
natively support returning values (i.e. cx_oracle), SQLAlchemy will
approximate this behavior at the result level so that a reasonable
amount of behavioral neutrality is provided.</p>
<p>Note that not all databases/DBAPIs
support RETURNING.   For those backends with no support,
an exception is raised upon compilation and/or execution.
For those who do support it, the functionality across backends
varies greatly, including restrictions on executemany()
and other statements which return multiple rows. Please
read the documentation notes for the database in use in
order to determine the availability of RETURNING.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Delete.returning.params.*cols"></span><strong>*cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.returning.params.*cols">Â¶</a> â series of columns, SQL expressions, or whole tables
entities to be returned.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Delete.returning.params.sort_by_parameter_order"></span><strong>sort_by_parameter_order</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.returning.params.sort_by_parameter_order">Â¶</a> â <p>for a batch INSERT that is being
executed against multiple parameter sets, organize the results of
RETURNING so that the returned rows correspond to the order of
parameter sets passed in.  This applies only to an <a class="reference internal" href="../glossary.html#term-executemany"><span class="xref std std-term">executemany</span></a>
execution for supporting dialects and typically makes use of the
<a class="reference internal" href="../glossary.html#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> feature.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.10.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">Correlating RETURNING rows to parameter sets</span></a> - background on
sorting of RETURNING rows for bulk INSERT (Core level discussion)</p>
<p><a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert-returning-ordered"><span class="std std-ref">Correlating RETURNING records with input data order</span></a> - example of
use with <a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert"><span class="std std-ref">ORM Bulk INSERT Statements</span></a> (ORM level discussion)</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> - an alternative method tailored
towards efficient fetching of server-side defaults and triggers
for single-row INSERTs or UPDATEs.</p>
<p><a class="reference internal" href="../tutorial/data_insert.html#tutorial-insert-returning"><span class="std std-ref">INSERTâ¦RETURNING</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Insert">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Insert</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert" title="Link to this definition">Â¶</a></dt>
<dd><p>Represent an INSERT construct.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> object is created using the
<a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a> function.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.values"><span class="sig-name descname">values()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.returning"><span class="sig-name descname">returning()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.from_select"><span class="sig-name descname">from_select()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.inline"><span class="sig-name descname">inline()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.select"><span class="sig-name descname">select</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Insert</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Insert.values">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Insert.</span></code></a><span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLColumnKeyMapping</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.values" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></p>
</div>
<p>Specify a fixed VALUES clause for an INSERT statement, or the SET
clause for an UPDATE.</p>
<p>Note that the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> and
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
constructs support
per-execution time formatting of the VALUES and/or SET clauses,
based on the arguments passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>.
However, the <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> method can be used to âfixâ a
particular set of parameters into the statement.</p>
<p>Multiple calls to <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> will produce a new
construct, each one with the parameter list modified to include
the new parameters sent.  In the typical case of a single
dictionary of parameters, the newly passed keys will replace
the same keys in the previous construct.  In the case of a list-based
âmultiple valuesâ construct, each new list of values is extended
onto the existing list of values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.values.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.values.params.**kwargs">Â¶</a> â <p>key value pairs representing the string key
of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
mapped to the value to be rendered into the
VALUES or SET clause:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span></pre></div>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.values.params.*args"></span><strong>*args</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.values.params.*args">Â¶</a> â <p>As an alternative to passing key/value parameters,
a dictionary, tuple, or list of dictionaries or tuples can be passed
as a single positional argument in order to form the VALUES or
SET clause of the statement.  The forms that are accepted vary
based on whether this is an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> or an
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> construct.</p>
<p>For either an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> or
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
construct, a single dictionary can be passed, which works the same as
that of the kwargs form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">})</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some new name&quot;</span><span class="p">})</span></pre></div>
</div>
<p>Also for either form but more typically for the
<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct, a tuple that contains an
entry for every column in the table is also accepted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;some name&quot;</span><span class="p">))</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct also supports being
passed a list of dictionaries or full-table-tuples, which on the
server will render the less common SQL syntax of âmultiple valuesâ -
this syntax is supported on backends such as SQLite, PostgreSQL,
MySQL, but not necessarily others:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">([</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some other name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;yet another name&quot;</span><span class="p">},</span>
                <span class="p">])</span></pre></div>
</div>
<p>The above form would render a multiple VALUES statement similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="n">VALUES</span>
                <span class="p">(:</span><span class="n">name_1</span><span class="p">),</span>
                <span class="p">(:</span><span class="n">name_2</span><span class="p">),</span>
                <span class="p">(:</span><span class="n">name_3</span><span class="p">)</span></pre></div>
</div>
<p>It is essential to note that <strong>passing multiple values is
NOT the same as using traditional executemany() form</strong>.  The above
syntax is a <strong>special</strong> syntax not typically used.  To emit an
INSERT statement against multiple rows, the normal method is
to pass a multiple values list to the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>
method, which is supported by all database backends and is generally
more efficient for a very large number of parameters.</p>
<blockquote>
<div><blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/dbapi_transactions.html#tutorial-multiple-parameters"><span class="std std-ref">Sending Multiple Parameters</span></a> - an introduction to
the traditional Core method of multiple parameter set
invocation for INSERTs and other statements.</p>
</div>
</div></blockquote>
<p>The UPDATE construct also supports rendering the SET parameters
in a specific order.  For this feature refer to the
<a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a> method.</p>
<blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a></p>
</div>
</div></blockquote>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Insert.returning">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Insert.</span></code></a><span class="sig-name descname"><span class="pre">returning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnsClauseArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_parameter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_UpdateBase__kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><span class="pre">UpdateBase</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.returning" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></p>
</div>
<p>Add a <a class="reference internal" href="../glossary.html#term-RETURNING"><span class="xref std std-term">RETURNING</span></a> or equivalent clause to this statement.</p>
<p>e.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
<span class="go">...     table.update()</span>
<span class="go">...     .where(table.c.data == &quot;value&quot;)</span>
<span class="go">...     .values(status=&quot;X&quot;)</span>
<span class="go">...     .returning(table.c.server_flag, table.c.updated_timestamp)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">UPDATE</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">status</span><span class="o">=</span><span class="p">:</span><span class="n">status</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">:</span><span class="n">data_1</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">server_flag</span><span class="p">,</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">updated_timestamp</span>
</div></pre></div>
</div>
<p>The method may be invoked multiple times to add new entries to the
list of expressions to be returned.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2: </span>The method may be invoked multiple times to
add new entries to the list of expressions to be returned.</p>
</div>
<p>The given collection of column expressions should be derived from the
table that is the target of the INSERT, UPDATE, or DELETE.  While
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects are typical, the elements can also be
expressions:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
<span class="go">...     (table.c.first_name + &quot; &quot; + table.c.last_name).label(&quot;fullname&quot;)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(:</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">last_name</span><span class="p">)</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">first_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">:</span><span class="n">first_name_1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">fullname</span>
</div></pre></div>
</div>
<p>Upon compilation, a RETURNING clause, or database equivalent,
will be rendered within the statement.   For INSERT and UPDATE,
the values are the newly inserted/updated values.  For DELETE,
the values are those of the rows which were deleted.</p>
<p>Upon execution, the values of the columns to be returned are made
available via the result set and can be iterated using
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.fetchone" title="sqlalchemy.engine.CursorResult.fetchone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.fetchone()</span></code></a> and similar.
For DBAPIs which do not
natively support returning values (i.e. cx_oracle), SQLAlchemy will
approximate this behavior at the result level so that a reasonable
amount of behavioral neutrality is provided.</p>
<p>Note that not all databases/DBAPIs
support RETURNING.   For those backends with no support,
an exception is raised upon compilation and/or execution.
For those who do support it, the functionality across backends
varies greatly, including restrictions on executemany()
and other statements which return multiple rows. Please
read the documentation notes for the database in use in
order to determine the availability of RETURNING.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.returning.params.*cols"></span><strong>*cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.returning.params.*cols">Â¶</a> â series of columns, SQL expressions, or whole tables
entities to be returned.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.returning.params.sort_by_parameter_order"></span><strong>sort_by_parameter_order</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.returning.params.sort_by_parameter_order">Â¶</a> â <p>for a batch INSERT that is being
executed against multiple parameter sets, organize the results of
RETURNING so that the returned rows correspond to the order of
parameter sets passed in.  This applies only to an <a class="reference internal" href="../glossary.html#term-executemany"><span class="xref std std-term">executemany</span></a>
execution for supporting dialects and typically makes use of the
<a class="reference internal" href="../glossary.html#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> feature.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.10.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">Correlating RETURNING rows to parameter sets</span></a> - background on
sorting of RETURNING rows for bulk INSERT (Core level discussion)</p>
<p><a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert-returning-ordered"><span class="std std-ref">Correlating RETURNING records with input data order</span></a> - example of
use with <a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert"><span class="std std-ref">ORM Bulk INSERT Statements</span></a> (ORM level discussion)</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> - an alternative method tailored
towards efficient fetching of server-side defaults and triggers
for single-row INSERTs or UPDATEs.</p>
<p><a class="reference internal" href="../tutorial/data_insert.html#tutorial-insert-returning"><span class="std std-ref">INSERTâ¦RETURNING</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Insert.from_select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Insert.</span></code></a><span class="sig-name descname"><span class="pre">from_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_DMLColumnArgument</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><span class="pre">Selectable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_defaults</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.from_select" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct which represents
an <code class="docutils literal notranslate"><span class="pre">INSERT...FROM</span> <span class="pre">SELECT</span></code> statement.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sel</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">ins</span> <span class="o">=</span> <span class="n">table2</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">sel</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.names"></span><strong>names</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.names">Â¶</a> â a sequence of string column names or
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects representing the target columns.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.select"></span><strong>select</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.select">Â¶</a> â a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct,
<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
or other construct which resolves into a
<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>,
such as an ORM <a class="reference internal" href="../orm/queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object, etc.  The order of
columns returned from this FROM clause should correspond to the
order of columns sent as the <code class="docutils literal notranslate"><span class="pre">names</span></code> parameter;  while this
is not checked before passing along to the database, the database
would normally raise an exception if these column lists donât
correspond.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.include_defaults"></span><strong>include_defaults</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.include_defaults">Â¶</a> â <p>if True, non-server default values and
SQL expressions as specified on <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects
(as documented in <a class="reference internal" href="defaults.html"><span class="std std-ref">Column INSERT/UPDATE Defaults</span></a>) not
otherwise specified in the list of names will be rendered
into the INSERT and SELECT statements, so that these values are also
included in the data to be inserted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Python-side default that uses a Python callable function
will only be invoked <strong>once</strong> for the whole statement, and <strong>not
per row</strong>.</p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Insert.inline">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Insert.</span></code></a><span class="sig-name descname"><span class="pre">inline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.inline" title="Link to this definition">Â¶</a></dt>
<dd><p>Make this <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct âinlineâ .</p>
<p>When set, no attempt will be made to retrieve the
SQL-generated default values to be provided within the statement;
in particular,
this allows SQL expressions to be rendered âinlineâ within the
statement without the need to pre-execute them beforehand; for
backends that support âreturningâ, this turns off the âimplicit
returningâ feature for the statement.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.params.inline" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Insert.inline</span></code></a>
parameter
is now superseded by the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.inline" title="sqlalchemy.sql.expression.Insert.inline"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Insert.inline()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Insert.select">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Insert"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Insert.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><span class="pre">Select</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.select" title="Link to this definition">Â¶</a></dt>
<dd><p>SELECT statement for INSERT .. FROM SELECT</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Update">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Update</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Update" title="Link to this definition">Â¶</a></dt>
<dd><p>Represent an Update construct.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> object is created using the
<a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> function.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Update.returning"><span class="sig-name descname">returning()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Update.where"><span class="sig-name descname">where()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Update.values"><span class="sig-name descname">values()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Update.inline"><span class="sig-name descname">inline()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values"><span class="sig-name descname">ordered_values()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Update</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.DMLWhereBase</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Update.returning">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Update.</span></code></a><span class="sig-name descname"><span class="pre">returning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnsClauseArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_parameter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_UpdateBase__kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><span class="pre">UpdateBase</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.returning" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></p>
</div>
<p>Add a <a class="reference internal" href="../glossary.html#term-RETURNING"><span class="xref std std-term">RETURNING</span></a> or equivalent clause to this statement.</p>
<p>e.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
<span class="go">...     table.update()</span>
<span class="go">...     .where(table.c.data == &quot;value&quot;)</span>
<span class="go">...     .values(status=&quot;X&quot;)</span>
<span class="go">...     .returning(table.c.server_flag, table.c.updated_timestamp)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">UPDATE</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">status</span><span class="o">=</span><span class="p">:</span><span class="n">status</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">:</span><span class="n">data_1</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">server_flag</span><span class="p">,</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">updated_timestamp</span>
</div></pre></div>
</div>
<p>The method may be invoked multiple times to add new entries to the
list of expressions to be returned.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2: </span>The method may be invoked multiple times to
add new entries to the list of expressions to be returned.</p>
</div>
<p>The given collection of column expressions should be derived from the
table that is the target of the INSERT, UPDATE, or DELETE.  While
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects are typical, the elements can also be
expressions:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
<span class="go">...     (table.c.first_name + &quot; &quot; + table.c.last_name).label(&quot;fullname&quot;)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(:</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">last_name</span><span class="p">)</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">first_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">:</span><span class="n">first_name_1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">fullname</span>
</div></pre></div>
</div>
<p>Upon compilation, a RETURNING clause, or database equivalent,
will be rendered within the statement.   For INSERT and UPDATE,
the values are the newly inserted/updated values.  For DELETE,
the values are those of the rows which were deleted.</p>
<p>Upon execution, the values of the columns to be returned are made
available via the result set and can be iterated using
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.fetchone" title="sqlalchemy.engine.CursorResult.fetchone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.fetchone()</span></code></a> and similar.
For DBAPIs which do not
natively support returning values (i.e. cx_oracle), SQLAlchemy will
approximate this behavior at the result level so that a reasonable
amount of behavioral neutrality is provided.</p>
<p>Note that not all databases/DBAPIs
support RETURNING.   For those backends with no support,
an exception is raised upon compilation and/or execution.
For those who do support it, the functionality across backends
varies greatly, including restrictions on executemany()
and other statements which return multiple rows. Please
read the documentation notes for the database in use in
order to determine the availability of RETURNING.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Update.returning.params.*cols"></span><strong>*cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.returning.params.*cols">Â¶</a> â series of columns, SQL expressions, or whole tables
entities to be returned.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Update.returning.params.sort_by_parameter_order"></span><strong>sort_by_parameter_order</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.returning.params.sort_by_parameter_order">Â¶</a> â <p>for a batch INSERT that is being
executed against multiple parameter sets, organize the results of
RETURNING so that the returned rows correspond to the order of
parameter sets passed in.  This applies only to an <a class="reference internal" href="../glossary.html#term-executemany"><span class="xref std std-term">executemany</span></a>
execution for supporting dialects and typically makes use of the
<a class="reference internal" href="../glossary.html#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> feature.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.10.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">Correlating RETURNING rows to parameter sets</span></a> - background on
sorting of RETURNING rows for bulk INSERT (Core level discussion)</p>
<p><a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert-returning-ordered"><span class="std std-ref">Correlating RETURNING records with input data order</span></a> - example of
use with <a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert"><span class="std std-ref">ORM Bulk INSERT Statements</span></a> (ORM level discussion)</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> - an alternative method tailored
towards efficient fetching of server-side defaults and triggers
for single-row INSERTs or UPDATEs.</p>
<p><a class="reference internal" href="../tutorial/data_insert.html#tutorial-insert-returning"><span class="std std-ref">INSERTâ¦RETURNING</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Update.where">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Update.</span></code></a><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">whereclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnExpressionArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.where" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">DMLWhereBase.where()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">DMLWhereBase</span></code></p>
</div>
<p>Return a new construct with the given expression(s) added to
its WHERE clause, joined to the existing clause via AND, if any.</p>
<p>Both <a class="reference internal" href="#sqlalchemy.sql.expression.Update.where" title="sqlalchemy.sql.expression.Update.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.where()</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Delete.where" title="sqlalchemy.sql.expression.Delete.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Delete.where()</span></code></a>
support multiple-table forms, including database-specific
<code class="docutils literal notranslate"><span class="pre">UPDATE...FROM</span></code> as well as <code class="docutils literal notranslate"><span class="pre">DELETE..USING</span></code>.  For backends that
donât have multiple-table support, a backend agnostic approach
to using multiple tables is to make use of correlated subqueries.
See the linked tutorial sections below for examples.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-correlated-updates"><span class="std std-ref">Correlated Updates</span></a></p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-update-from"><span class="std std-ref">UPDATE..FROM</span></a></p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-multi-table-deletes"><span class="std std-ref">Multiple Table Deletes</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Update.values">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Update.</span></code></a><span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLColumnKeyMapping</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.values" title="Link to this definition">Â¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></p>
</div>
<p>Specify a fixed VALUES clause for an INSERT statement, or the SET
clause for an UPDATE.</p>
<p>Note that the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> and
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
constructs support
per-execution time formatting of the VALUES and/or SET clauses,
based on the arguments passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>.
However, the <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> method can be used to âfixâ a
particular set of parameters into the statement.</p>
<p>Multiple calls to <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> will produce a new
construct, each one with the parameter list modified to include
the new parameters sent.  In the typical case of a single
dictionary of parameters, the newly passed keys will replace
the same keys in the previous construct.  In the case of a list-based
âmultiple valuesâ construct, each new list of values is extended
onto the existing list of values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Update.values.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.values.params.**kwargs">Â¶</a> â <p>key value pairs representing the string key
of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
mapped to the value to be rendered into the
VALUES or SET clause:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span></pre></div>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Update.values.params.*args"></span><strong>*args</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.values.params.*args">Â¶</a> â <p>As an alternative to passing key/value parameters,
a dictionary, tuple, or list of dictionaries or tuples can be passed
as a single positional argument in order to form the VALUES or
SET clause of the statement.  The forms that are accepted vary
based on whether this is an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> or an
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> construct.</p>
<p>For either an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> or
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
construct, a single dictionary can be passed, which works the same as
that of the kwargs form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">})</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some new name&quot;</span><span class="p">})</span></pre></div>
</div>
<p>Also for either form but more typically for the
<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct, a tuple that contains an
entry for every column in the table is also accepted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;some name&quot;</span><span class="p">))</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct also supports being
passed a list of dictionaries or full-table-tuples, which on the
server will render the less common SQL syntax of âmultiple valuesâ -
this syntax is supported on backends such as SQLite, PostgreSQL,
MySQL, but not necessarily others:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">([</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some other name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;yet another name&quot;</span><span class="p">},</span>
                <span class="p">])</span></pre></div>
</div>
<p>The above form would render a multiple VALUES statement similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="n">VALUES</span>
                <span class="p">(:</span><span class="n">name_1</span><span class="p">),</span>
                <span class="p">(:</span><span class="n">name_2</span><span class="p">),</span>
                <span class="p">(:</span><span class="n">name_3</span><span class="p">)</span></pre></div>
</div>
<p>It is essential to note that <strong>passing multiple values is
NOT the same as using traditional executemany() form</strong>.  The above
syntax is a <strong>special</strong> syntax not typically used.  To emit an
INSERT statement against multiple rows, the normal method is
to pass a multiple values list to the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>
method, which is supported by all database backends and is generally
more efficient for a very large number of parameters.</p>
<blockquote>
<div><blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/dbapi_transactions.html#tutorial-multiple-parameters"><span class="std std-ref">Sending Multiple Parameters</span></a> - an introduction to
the traditional Core method of multiple parameter set
invocation for INSERTs and other statements.</p>
</div>
</div></blockquote>
<p>The UPDATE construct also supports rendering the SET parameters
in a specific order.  For this feature refer to the
<a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a> method.</p>
<blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a></p>
</div>
</div></blockquote>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Update.inline">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Update.</span></code></a><span class="sig-name descname"><span class="pre">inline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.inline" title="Link to this definition">Â¶</a></dt>
<dd><p>Make this <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> construct âinlineâ .</p>
<p>When set, SQL defaults present on <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects via the
<code class="docutils literal notranslate"><span class="pre">default</span></code> keyword will be compiled âinlineâ into the statement and
not pre-executed.  This means that their values will not be available
in the dictionary returned from
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.last_updated_params" title="sqlalchemy.engine.CursorResult.last_updated_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.last_updated_params()</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>the <a class="reference internal" href="#sqlalchemy.sql.expression.update.params.inline" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">update.inline</span></code></a>
parameter
is now superseded by the <a class="reference internal" href="#sqlalchemy.sql.expression.Update.inline" title="sqlalchemy.sql.expression.Update.inline"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.inline()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Update.ordered_values">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Update"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Update.</span></code></a><span class="sig-name descname"><span class="pre">ordered_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.Tuple" title="sqlalchemy.sql.expression.Tuple"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_DMLColumnArgument</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.ordered_values" title="Link to this definition">Â¶</a></dt>
<dd><p>Specify the VALUES clause of this UPDATE statement with an explicit
parameter ordering that will be maintained in the SET clause of the
resulting UPDATE statement.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">ordered_values</span><span class="p">(</span>
    <span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;ed&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;ident&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_update.html#tutorial-parameter-ordered-updates"><span class="std std-ref">Parameter Ordered Updates</span></a> - full example of the
<a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a> method.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a>
method
supersedes the
<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">update.preserve_parameter_order</span></code></a>
parameter, which will be removed in SQLAlchemy 2.0.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">UpdateBase</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase" title="Link to this definition">Â¶</a></dt>
<dd><p>Form the base for <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> statements.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.entity_description"><span class="sig-name descname">entity_description</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.exported_columns"><span class="sig-name descname">exported_columns</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params"><span class="sig-name descname">params()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults"><span class="sig-name descname">return_defaults()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning"><span class="sig-name descname">returning()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions"><span class="sig-name descname">returning_column_descriptions</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_dialect_options"><span class="sig-name descname">with_dialect_options()</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint"><span class="sig-name descname">with_hint()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.DMLRole</span></code>, <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCTE</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCompileState</span></code>, <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasPrefixes</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ExecutableReturnsRows</span></code>, <a class="reference internal" href="foundation.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ClauseElement</span></code></a>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.entity_description">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">entity_description</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.entity_description" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference internal" href="../glossary.html#term-plugin-enabled"><span class="xref std std-term">plugin-enabled</span></a> description of the table and/or
entity which this DML construct is operating against.</p>
<p>This attribute is generally useful when using the ORM, as an
extended structure which includes information about mapped
entities is returned.  The section <a class="reference internal" href="../orm/queryguide/api.html#queryguide-inspection"><span class="std std-ref">Inspecting entities and columns from ORM-enabled SELECT and DML statements</span></a>
contains more background.</p>
<p>For a Core statement, the structure returned by this accessor
is derived from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">UpdateBase.table</span></code> attribute, and
refers to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> being inserted, updated, or deleted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span><span class="o">.</span><span class="n">entity_description</span>
<span class="go">{</span>
<span class="go">    &quot;name&quot;: &quot;user_table&quot;,</span>
<span class="go">    &quot;table&quot;: Table(&quot;user_table&quot;, ...)</span>
<span class="go">}</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.33.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions" title="sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UpdateBase.returning_column_descriptions</span></code></a></p>
<p><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.column_descriptions" title="sqlalchemy.sql.expression.Select.column_descriptions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.column_descriptions</span></code></a> - entity information for
a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct</p>
<p><a class="reference internal" href="../orm/queryguide/api.html#queryguide-inspection"><span class="std std-ref">Inspecting entities and columns from ORM-enabled SELECT and DML statements</span></a> - ORM background</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.exported_columns" title="Link to this definition">Â¶</a></dt>
<dd><p>Return the RETURNING columns as a column collection for this
statement.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.params">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NoReturn</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.params" title="Link to this definition">Â¶</a></dt>
<dd><p>Set the parameters for the statement.</p>
<p>This method raises <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> on the base class,
and is overridden by <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a> to provide the
SET/VALUES clause of UPDATE and INSERT.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.return_defaults">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">return_defaults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supplemental_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">_DMLColumnArgument</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_parameter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="Link to this definition">Â¶</a></dt>
<dd><p>Make use of a <a class="reference internal" href="../glossary.html#term-RETURNING"><span class="xref std std-term">RETURNING</span></a> clause for the purpose
of fetching server-side expressions and defaults, for supporting
backends only.</p>
<div class="admonition deepalchemy">
<p class="admonition-title">Deep Alchemy</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> method is used by the ORM
for its internal work in fetching newly generated primary key
and server default values, in particular to provide the underyling
implementation of the <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.Mapper.params.eager_defaults" title="sqlalchemy.orm.Mapper"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Mapper.eager_defaults</span></code></a>
ORM feature as well as to allow RETURNING support with bulk
ORM inserts.  Its behavior is fairly idiosyncratic
and is not really intended for general use.  End users should
stick with using <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> in order to
add RETURNING clauses to their INSERT, UPDATE and DELETE
statements.</p>
</div>
<p>Normally, a single row INSERT statement will automatically populate the
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key" title="sqlalchemy.engine.CursorResult.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key</span></code></a> attribute when executed,
which stores the primary key of the row that was just inserted in the
form of a <a class="reference internal" href="connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> object with column names as named tuple keys
(and the <a class="reference internal" href="connections.html#sqlalchemy.engine.Row._mapping" title="sqlalchemy.engine.Row._mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Row._mapping</span></code></a> view fully populated as well). The
dialect in use chooses the strategy to use in order to populate this
data; if it was generated using server-side defaults and / or SQL
expressions, dialect-specific approaches such as <code class="docutils literal notranslate"><span class="pre">cursor.lastrowid</span></code>
or <code class="docutils literal notranslate"><span class="pre">RETURNING</span></code> are typically used to acquire the new primary key
value.</p>
<p>However, when the statement is modified by calling
<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> before executing the statement,
additional behaviors take place <strong>only</strong> for backends that support
RETURNING and for <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects that maintain the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.params.implicit_returning" title="sqlalchemy.schema.Table"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Table.implicit_returning</span></code></a> parameter at its default value of
<code class="docutils literal notranslate"><span class="pre">True</span></code>. In these cases, when the <a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult" title="sqlalchemy.engine.CursorResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">CursorResult</span></code></a> is returned
from the statementâs execution, not only will
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key" title="sqlalchemy.engine.CursorResult.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key</span></code></a> be populated as always, the
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults" title="sqlalchemy.engine.CursorResult.returned_defaults"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults</span></code></a> attribute will also be
populated with a <a class="reference internal" href="connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> named-tuple representing the full range
of server generated
values from that single row, including values for any columns that
specify <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.server_default" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.server_default</span></code></a> or which make use of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.default" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.default</span></code></a> using a SQL expression.</p>
<p>When invoking INSERT statements with multiple rows using
<a class="reference internal" href="connections.html#engine-insertmanyvalues"><span class="std std-ref">insertmanyvalues</span></a>, the
<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> modifier will have the effect of
the <a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key_rows" title="sqlalchemy.engine.CursorResult.inserted_primary_key_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key_rows</span></code></a> and
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults_rows" title="sqlalchemy.engine.CursorResult.returned_defaults_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults_rows</span></code></a> attributes being
fully populated with lists of <a class="reference internal" href="connections.html#sqlalchemy.engine.Row" title="sqlalchemy.engine.Row"><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></a> objects representing newly
inserted primary key values as well as newly inserted server generated
values for each row inserted. The
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key" title="sqlalchemy.engine.CursorResult.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key</span></code></a> and
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults" title="sqlalchemy.engine.CursorResult.returned_defaults"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults</span></code></a> attributes will also continue
to be populated with the first row of these two collections.</p>
<p>If the backend does not support RETURNING or the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> in use
has disabled <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.params.implicit_returning" title="sqlalchemy.schema.Table"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Table.implicit_returning</span></code></a>, then no RETURNING
clause is added and no additional data is fetched, however the
INSERT, UPDATE or DELETE statement proceeds normally.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;newdata&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span></pre></div>
</div>
<p>When used against an UPDATE statement
<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> instead looks for columns that
include <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.onupdate" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.onupdate</span></code></a> or
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.server_onupdate" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.server_onupdate</span></code></a> parameters assigned, when
constructing the columns that will be included in the RETURNING clause
by default if explicit columns were not specified. When used against a
DELETE statement, no columns are included in RETURNING by default, they
instead must be specified explicitly as there are no columns that
normally change values when a DELETE statement proceeds.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0: </span><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> is supported
for DELETE statements also and has been moved from
<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a> to <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a>.</p>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> method is mutually exclusive
against the <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> method and errors will be
raised during the SQL compilation process if both are used at the same
time on one statement. The RETURNING clause of the INSERT, UPDATE or
DELETE statement is therefore controlled by only one of these methods
at a time.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> method differs from
<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> in these ways:</p>
<ol class="arabic">
<li><p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> method causes the
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults" title="sqlalchemy.engine.CursorResult.returned_defaults"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults</span></code></a> collection to be populated
with the first row from the RETURNING result. This attribute is not
populated when using <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> is compatible with existing
logic used to fetch auto-generated primary key values that are then
populated into the <a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key" title="sqlalchemy.engine.CursorResult.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key</span></code></a>
attribute. By contrast, using <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> will
have the effect of the <a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key" title="sqlalchemy.engine.CursorResult.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key</span></code></a>
attribute being left unpopulated.</p></li>
<li><p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> can be called against any
backend. Backends that donât support RETURNING will skip the usage
of the feature, rather than raising an exception, <em>unless</em>
<code class="docutils literal notranslate"><span class="pre">supplemental_cols</span></code> is passed. The return value
of <a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults" title="sqlalchemy.engine.CursorResult.returned_defaults"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults</span></code></a> will be <code class="docutils literal notranslate"><span class="pre">None</span></code>
for backends that donât support RETURNING or for which the target
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> sets <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.params.implicit_returning" title="sqlalchemy.schema.Table"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Table.implicit_returning</span></code></a> to
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p>An INSERT statement invoked with executemany() is supported if the
backend database driver supports the
<a class="reference internal" href="connections.html#engine-insertmanyvalues"><span class="std std-ref">insertmanyvalues</span></a>
feature which is now supported by most SQLAlchemy-included backends.
When executemany is used, the
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults_rows" title="sqlalchemy.engine.CursorResult.returned_defaults_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults_rows</span></code></a> and
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key_rows" title="sqlalchemy.engine.CursorResult.inserted_primary_key_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key_rows</span></code></a> accessors
will return the inserted defaults and primary keys.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>Added
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults_rows" title="sqlalchemy.engine.CursorResult.returned_defaults_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults_rows</span></code></a> and
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key_rows" title="sqlalchemy.engine.CursorResult.inserted_primary_key_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key_rows</span></code></a> accessors.
In version 2.0, the underlying implementation which fetches and
populates the data for these attributes was generalized to be
supported by most backends, whereas in 1.4 they were only
supported by the <code class="docutils literal notranslate"><span class="pre">psycopg2</span></code> driver.</p>
</div>
</li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults.params.cols">Â¶</a> â optional list of column key names or
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> that acts as a filter for those columns that
will be fetched.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.return_defaults.params.supplemental_cols"></span><strong>supplemental_cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults.params.supplemental_cols">Â¶</a> â <p>optional list of RETURNING expressions,
in the same form as one would pass to the
<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> method. When present, the additional
columns will be included in the RETURNING clause, and the
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult" title="sqlalchemy.engine.CursorResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">CursorResult</span></code></a> object will be ârewoundâ when returned, so
that methods like <a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.all" title="sqlalchemy.engine.CursorResult.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.all()</span></code></a> will return new rows
mostly as though the statement used <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a>
directly. However, unlike when using <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a>
directly, the <strong>order of the columns is undefined</strong>, so can only be
targeted using names or <a class="reference internal" href="connections.html#sqlalchemy.engine.Row._mapping" title="sqlalchemy.engine.Row._mapping"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Row._mapping</span></code></a> keys; they cannot
reliably be targeted positionally.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.return_defaults.params.sort_by_parameter_order"></span><strong>sort_by_parameter_order</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults.params.sort_by_parameter_order">Â¶</a> â <p>for a batch INSERT that is being
executed against multiple parameter sets, organize the results of
RETURNING so that the returned rows correspond to the order of
parameter sets passed in.  This applies only to an <a class="reference internal" href="../glossary.html#term-executemany"><span class="xref std std-term">executemany</span></a>
execution for supporting dialects and typically makes use of the
<a class="reference internal" href="../glossary.html#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> feature.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.10.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">Correlating RETURNING rows to parameter sets</span></a> - background on
sorting of RETURNING rows for bulk INSERT</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a></p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults" title="sqlalchemy.engine.CursorResult.returned_defaults"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults</span></code></a></p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.returned_defaults_rows" title="sqlalchemy.engine.CursorResult.returned_defaults_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.returned_defaults_rows</span></code></a></p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key" title="sqlalchemy.engine.CursorResult.inserted_primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key</span></code></a></p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.inserted_primary_key_rows" title="sqlalchemy.engine.CursorResult.inserted_primary_key_rows"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CursorResult.inserted_primary_key_rows</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.returning">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">returning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ColumnsClauseArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_parameter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_UpdateBase__kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><span class="pre">UpdateBase</span></a></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="Link to this definition">Â¶</a></dt>
<dd><p>Add a <a class="reference internal" href="../glossary.html#term-RETURNING"><span class="xref std std-term">RETURNING</span></a> or equivalent clause to this statement.</p>
<p>e.g.:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
<span class="go">...     table.update()</span>
<span class="go">...     .where(table.c.data == &quot;value&quot;)</span>
<span class="go">...     .values(status=&quot;X&quot;)</span>
<span class="go">...     .returning(table.c.server_flag, table.c.updated_timestamp)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">UPDATE</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">status</span><span class="o">=</span><span class="p">:</span><span class="n">status</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">:</span><span class="n">data_1</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">server_flag</span><span class="p">,</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">updated_timestamp</span>
</div></pre></div>
</div>
<p>The method may be invoked multiple times to add new entries to the
list of expressions to be returned.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2: </span>The method may be invoked multiple times to
add new entries to the list of expressions to be returned.</p>
</div>
<p>The given collection of column expressions should be derived from the
table that is the target of the INSERT, UPDATE, or DELETE.  While
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects are typical, the elements can also be
expressions:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
<span class="go">...     (table.c.first_name + &quot; &quot; + table.c.last_name).label(&quot;fullname&quot;)</span>
<span class="go">... )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">some_table</span><span class="w"> </span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(:</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="n">last_name</span><span class="p">)</span>
<span class="k">RETURNING</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">first_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">:</span><span class="n">first_name_1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">some_table</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">fullname</span>
</div></pre></div>
</div>
<p>Upon compilation, a RETURNING clause, or database equivalent,
will be rendered within the statement.   For INSERT and UPDATE,
the values are the newly inserted/updated values.  For DELETE,
the values are those of the rows which were deleted.</p>
<p>Upon execution, the values of the columns to be returned are made
available via the result set and can be iterated using
<a class="reference internal" href="connections.html#sqlalchemy.engine.CursorResult.fetchone" title="sqlalchemy.engine.CursorResult.fetchone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CursorResult.fetchone()</span></code></a> and similar.
For DBAPIs which do not
natively support returning values (i.e. cx_oracle), SQLAlchemy will
approximate this behavior at the result level so that a reasonable
amount of behavioral neutrality is provided.</p>
<p>Note that not all databases/DBAPIs
support RETURNING.   For those backends with no support,
an exception is raised upon compilation and/or execution.
For those who do support it, the functionality across backends
varies greatly, including restrictions on executemany()
and other statements which return multiple rows. Please
read the documentation notes for the database in use in
order to determine the availability of RETURNING.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.returning.params.*cols"></span><strong>*cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning.params.*cols">Â¶</a> â series of columns, SQL expressions, or whole tables
entities to be returned.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.returning.params.sort_by_parameter_order"></span><strong>sort_by_parameter_order</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning.params.sort_by_parameter_order">Â¶</a> â <p>for a batch INSERT that is being
executed against multiple parameter sets, organize the results of
RETURNING so that the returned rows correspond to the order of
parameter sets passed in.  This applies only to an <a class="reference internal" href="../glossary.html#term-executemany"><span class="xref std std-term">executemany</span></a>
execution for supporting dialects and typically makes use of the
<a class="reference internal" href="../glossary.html#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> feature.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.10.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">Correlating RETURNING rows to parameter sets</span></a> - background on
sorting of RETURNING rows for bulk INSERT (Core level discussion)</p>
<p><a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert-returning-ordered"><span class="std std-ref">Correlating RETURNING records with input data order</span></a> - example of
use with <a class="reference internal" href="../orm/queryguide/dml.html#orm-queryguide-bulk-insert"><span class="std std-ref">ORM Bulk INSERT Statements</span></a> (ORM level discussion)</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.return_defaults" title="sqlalchemy.sql.expression.UpdateBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.return_defaults()</span></code></a> - an alternative method tailored
towards efficient fetching of server-side defaults and triggers
for single-row INSERTs or UPDATEs.</p>
<p><a class="reference internal" href="../tutorial/data_insert.html#tutorial-insert-returning"><span class="std std-ref">INSERTâ¦RETURNING</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy Unified Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">returning_column_descriptions</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.returning_column_descriptions" title="Link to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference internal" href="../glossary.html#term-plugin-enabled"><span class="xref std std-term">plugin-enabled</span></a> description of the columns
which this DML construct is RETURNING against, in other words
the expressions established as part of <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a>.</p>
<p>This attribute is generally useful when using the ORM, as an
extended structure which includes information about mapped
entities is returned.  The section <a class="reference internal" href="../orm/queryguide/api.html#queryguide-inspection"><span class="std std-ref">Inspecting entities and columns from ORM-enabled SELECT and DML statements</span></a>
contains more background.</p>
<p>For a Core statement, the structure returned by this accessor is
derived from the same objects that are returned by the
<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.exported_columns" title="sqlalchemy.sql.expression.UpdateBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UpdateBase.exported_columns</span></code></a> accessor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span><span class="o">.</span><span class="n">entity_description</span>
<span class="go">[</span>
<span class="go">    {</span>
<span class="go">        &quot;name&quot;: &quot;id&quot;,</span>
<span class="go">        &quot;type&quot;: Integer,</span>
<span class="go">        &quot;expr&quot;: Column(&quot;id&quot;, Integer(), table=&lt;user&gt;, ...)</span>
<span class="go">    },</span>
<span class="go">    {</span>
<span class="go">        &quot;name&quot;: &quot;name&quot;,</span>
<span class="go">        &quot;type&quot;: String(),</span>
<span class="go">        &quot;expr&quot;: Column(&quot;name&quot;, String(), table=&lt;user&gt;, ...)</span>
<span class="go">    },</span>
<span class="go">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.33.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.entity_description" title="sqlalchemy.sql.expression.UpdateBase.entity_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UpdateBase.entity_description</span></code></a></p>
<p><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.column_descriptions" title="sqlalchemy.sql.expression.Select.column_descriptions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.column_descriptions</span></code></a> - entity information for
a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct</p>
<p><a class="reference internal" href="../orm/queryguide/api.html#queryguide-inspection"><span class="std std-ref">Inspecting entities and columns from ORM-enabled SELECT and DML statements</span></a> - ORM background</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.with_dialect_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">with_dialect_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.with_dialect_options" title="Link to this definition">Â¶</a></dt>
<dd><p>Add dialect options to this INSERT/UPDATE/DELETE object.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">upd</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">(</span><span class="n">mysql_limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.UpdateBase.with_hint">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase.</span></code></a><span class="sig-name descname"><span class="pre">with_hint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLTableArgument</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="Link to this definition">Â¶</a></dt>
<dd><p>Add a table hint for a single table to this
INSERT/UPDATE/DELETE statement.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.with_hint()</span></code></a> currently applies only to
Microsoft SQL Server.  For MySQL INSERT/UPDATE/DELETE hints, use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.prefix_with()</span></code>.</p>
</div>
<p>The text of the hint is rendered in the appropriate
location for the database backend in use, relative
to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> that is the subject of this
statement, or optionally to that of the given
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> passed as the <code class="docutils literal notranslate"><span class="pre">selectable</span></code> argument.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">dialect_name</span></code> option will limit the rendering of a particular
hint to a particular backend. Such as, to add a hint
that only takes effect for SQL Server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.text"></span><strong>text</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.text">Â¶</a> â Text of the hint.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.selectable">Â¶</a> â optional <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> that specifies
an element of the FROM clause within an UPDATE or DELETE
to be the subject of the hint - applies only to certain backends.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.dialect_name">Â¶</a> â defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code>, if specified as the name
of a particular dialect, will apply these hints only when
that dialect is in use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ValuesBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">ValuesBase</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase" title="Link to this definition">Â¶</a></dt>
<dd><p>Supplies support for <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> to
INSERT and UPDATE constructs.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.select"><span class="sig-name descname">select</span></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values"><span class="sig-name descname">values()</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ValuesBase.select">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><span class="pre">Select</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase.select" title="Link to this definition">Â¶</a></dt>
<dd><p>SELECT statement for INSERT .. FROM SELECT</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ValuesBase.values">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase.</span></code></a><span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DMLColumnKeyMapping</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase.values" title="Link to this definition">Â¶</a></dt>
<dd><p>Specify a fixed VALUES clause for an INSERT statement, or the SET
clause for an UPDATE.</p>
<p>Note that the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> and
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
constructs support
per-execution time formatting of the VALUES and/or SET clauses,
based on the arguments passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>.
However, the <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> method can be used to âfixâ a
particular set of parameters into the statement.</p>
<p>Multiple calls to <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ValuesBase.values()</span></code></a> will produce a new
construct, each one with the parameter list modified to include
the new parameters sent.  In the typical case of a single
dictionary of parameters, the newly passed keys will replace
the same keys in the previous construct.  In the case of a list-based
âmultiple valuesâ construct, each new list of values is extended
onto the existing list of values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.ValuesBase.values.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values.params.**kwargs">Â¶</a> â <p>key value pairs representing the string key
of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
mapped to the value to be rendered into the
VALUES or SET clause:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span></pre></div>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.ValuesBase.values.params.*args"></span><strong>*args</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values.params.*args">Â¶</a> â <p>As an alternative to passing key/value parameters,
a dictionary, tuple, or list of dictionaries or tuples can be passed
as a single positional argument in order to form the VALUES or
SET clause of the statement.  The forms that are accepted vary
based on whether this is an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> or an
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> construct.</p>
<p>For either an <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> or
<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>
construct, a single dictionary can be passed, which works the same as
that of the kwargs form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">})</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some new name&quot;</span><span class="p">})</span></pre></div>
</div>
<p>Also for either form but more typically for the
<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct, a tuple that contains an
entry for every column in the table is also accepted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;some name&quot;</span><span class="p">))</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct also supports being
passed a list of dictionaries or full-table-tuples, which on the
server will render the less common SQL syntax of âmultiple valuesâ -
this syntax is supported on backends such as SQLite, PostgreSQL,
MySQL, but not necessarily others:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">([</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some other name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;yet another name&quot;</span><span class="p">},</span>
                <span class="p">])</span></pre></div>
</div>
<p>The above form would render a multiple VALUES statement similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="n">VALUES</span>
                <span class="p">(:</span><span class="n">name_1</span><span class="p">),</span>
                <span class="p">(:</span><span class="n">name_2</span><span class="p">),</span>
                <span class="p">(:</span><span class="n">name_3</span><span class="p">)</span></pre></div>
</div>
<p>It is essential to note that <strong>passing multiple values is
NOT the same as using traditional executemany() form</strong>.  The above
syntax is a <strong>special</strong> syntax not typically used.  To emit an
INSERT statement against multiple rows, the normal method is
to pass a multiple values list to the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a>
method, which is supported by all database backends and is generally
more efficient for a very large number of parameters.</p>
<blockquote>
<div><blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/dbapi_transactions.html#tutorial-multiple-parameters"><span class="std std-ref">Sending Multiple Parameters</span></a> - an introduction to
the traditional Core method of multiple parameter set
invocation for INSERTs and other statements.</p>
</div>
</div></blockquote>
<p>The UPDATE construct also supports rendering the SET parameters
in a specific order.  For this feature refer to the
<a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a> method.</p>
<blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Update.ordered_values" title="sqlalchemy.sql.expression.Update.ordered_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Update.ordered_values()</span></code></a></p>
</div>
</div></blockquote>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="selectable.html" title="previous chapter">SELECT and Related Constructs</a>
        Next:
        <a href="functions.html" title="next chapter">SQL and Generic Functions</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2024, the SQLAlchemy authors and contributors.


    <p><b>flambÃ©!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.2.6.

    Documentation last generated: Mon 05 Aug 2024 08:14:11 PM  JST

    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      document.documentElement.dataset.content_root = '../';

    </script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script type="text/javascript" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


